var SIH;(()=>{"use strict";var e={6703:(e,t,r)=>{r.r(t),r.d(t,{App:()=>O,BuyOrders:()=>U,FormatNumberWithSuffix:()=>R,ModifyHoverItemName:()=>H,SKIN_WEAR_MAP:()=>L,SellListing:()=>j,SihUserPrices:()=>M,formatNumber:()=>T,formatNumberToLocalRu:()=>N,getLocation:()=>x,getPageParams:()=>P,getPercentNumberDifference:()=>D,getPriceFromSteam:()=>A,parseNumber:()=>E});var n,a,o=r(3080),i=null,s=function(e,t){c(t),l(e),h(t)},c=function(e){var t=$J("body"),r=$J('\n    <div id="sih-user-confirm-description" class="sih-user-confirm-description">\n      <div class="sih-user-confirm-description__fade"></div>\n\n      <div class="sih-modal sih-global sih-user-confirm-description-tab">\n        <div class="sih-modal__close"></div>\n        <div class="sih-modal__inner sih-modal__column">\n          <div class="sih-user-confirm-description__header">\n            <div class="column gap-2">\n              <span class="text text_white fs-20 lh-28">'.concat(f(e.length),' </span>\n              <span class="text text_grey-200 fs-16 lh-24"\n                >').concat(SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.subtitle,'</span\n              >\n            </div>\n\n            <label for="skip-for-identical-name" class="row items-center gap-4">\n              <input type="checkbox" name="skip-for-identical-name" id="skip-for-identical-name" />\n              <label\n                class="fake-checkbox sih-user-confirm-description__checkbox-label"\n                for="skip-for-identical-name"\n              ></label>\n              <label for="skip-for-identical-name" class="text text_white fs-12"\n                >').concat(SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.remember_identical_text,'</label\n              >\n              <span\n                class="sih-user-confirm-description__tooltip-icon"\n                title="').concat(SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.remember_identical_tooltip,'"\n                ><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <path\n                    fill-rule="evenodd"\n                    clip-rule="evenodd"\n                    d="M22 12C22 6.477 17.523 2 12 2C6.477 2 2 6.477 2 12C2 17.523 6.477 22 12 22C17.523 22 22 17.523 22 12ZM12 7C12.2652 7 12.5196 7.10536 12.7071 7.29289C12.8946 7.48043 13 7.73478 13 8V13C13 13.2652 12.8946 13.5196 12.7071 13.7071C12.5196 13.8946 12.2652 14 12 14C11.7348 14 11.4804 13.8946 11.2929 13.7071C11.1054 13.5196 11 13.2652 11 13V8C11 7.73478 11.1054 7.48043 11.2929 7.29289C11.4804 7.10536 11.7348 7 12 7ZM11 16C11 15.7348 11.1054 15.4804 11.2929 15.2929C11.4804 15.1054 11.7348 15 12 15H12.008C12.2732 15 12.5276 15.1054 12.7151 15.2929C12.9026 15.4804 13.008 15.7348 13.008 16C13.008 16.2652 12.9026 16.5196 12.7151 16.7071C12.5276 16.8946 12.2732 17 12.008 17H12C11.7348 17 11.4804 16.8946 11.2929 16.7071C11.1054 16.5196 11 16.2652 11 16Z"\n                    fill="currentColor"\n                  />\n                </svg>\n              </span>\n            </label>\n          </div>\n          <div class="sih-user-confirm-description-tab__items sih-items"></div>\n        </div>\n      </div>\n    </div>\n  '));r.find(".sih-user-confirm-description__tooltip-icon").tooltip({position:{my:"center bottom",at:"center top-10"},classes:{"ui-tooltip":"sih-user-confirm-description__tooltip"}});var n=p(e);r.find(".sih-items").append(n),t.find(".sih-user-confirm-description").length?(t.find(".sih-user-confirm-description").show(),t.find(".sih-user-confirm-description-tab").show(),$J("body").css("overflow","hidden")):(t.append(r),t.find(".sih-user-confirm-description").show(),t.find(".sih-user-confirm-description-tab").show(),$J("body").css("overflow","hidden"))},l=function(e){d(e),u()},d=function(e){var t=$J("#sih-user-confirm-description");t.find(".sih-items__item").each((function(r,n){var a=$J(n);a.find(".sih-item__button").off("click").click((function(){clearTimeout(i),i=setTimeout((function(){a[0].rgItem.isSkipItemDescriptions=$J("#skip-for-identical-name").is(":checked");var r=a[0].rgItem;e.postMessage({data:r}),t.hide().remove(),$J("body").css("overflow","auto")}),500)}))}))},u=function(){var e=$J("#sih-user-confirm-description");e.on("click",".sih-user-confirm-description__fade, .sih-modal__close",(function(){e.hide().remove(),$J("body").css("overflow","auto")}))},f=function(e){var t,r;return"ru"===window.lang?e%10==1&&e%100!=11?(t=SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p1_v1,r=SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p2_v1):[2,3,4].includes(e%10)&&![12,13,14].includes(e%100)?(t=SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p1_v2,r=SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p2_v2):(t=SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p1_v2,r=SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p2_v3):(t=SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p1_v2,r=1===e?SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p2_v1:SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p2_v3),"".concat(SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_1," ").concat(e," ").concat(t," ").concat(r," ").concat(SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_3)},p=function(e){return e.map((function(e){var t=e.descriptions.find((function(e){return"sticker_info"===e.name})),r=t?$J(t.value):null,n=v(r),a=currencyId||1,i=o.A.getPriceFromCurrency((null==e?void 0:e.priceWithoutCommission)/100||0,a,a).text,s=o.A.getPriceFromCurrency((null==e?void 0:e.priceWithCommission)/100||0,a,a).text,c=$J('<div class="sih-items__item sih-item">\n        <div class="sih-item__left-side">\n          <div class="sih-item__image" style="border: 1px solid #'.concat(e.name_color,'">\n            <img src="https://community.fastly.steamstatic.com/economy/image/').concat(e.icon_url,'" alt="" />\n          </div>\n          <div class="sih-item__item-info">\n            <div class="sih-item__name" title="').concat(e.market_hash_name,'">\n              <span class="text text_grey-400 fs-14 bold">').concat(e.market_hash_name,'</span>\n            </div>\n            <div class="sih-item__float-info sih-floats">\n              <div class="sih-floats__spinner">&nbsp;</div>\n            </div>\n          </div>\n          <div class="sih-item__stickers sih-stickers"></div>\n        </div>\n        <div class="sih-item__right-side">\n          <div class="sih-item__price">\n            <span class="text text_white fs-14 lh-14">').concat(i,'</span>\n            <span class="text text_grey-500 fs-12 lh-16">').concat(s,'</span>\n          </div>\n          <div class="sih-item__button">').concat(SIHLang.market.resubmit_orders.relisting,"</div>\n        </div>\n      </div>"));return m(c),c.find(".sih-item__stickers").append(n),c[0].rgItem=e,c}))},m=function(e){var t=e.find(".sih-item__name");t.tooltip({position:{my:"center bottom",at:"center top-10"},classes:{"ui-tooltip":"sih-global sih-item-name__tooltip"}}).on("mouseenter",(function(e){t.not($J(this)).tooltip("close")})).on("mouseleave",(function(e,t){var r=e.target;t||(e.stopImmediatePropagation(),setTimeout((function(){0===$J(".ui-tooltip:hover").length&&$J(r).trigger("mouseleave",[!0])}),250))})),$J("body").on("mouseleave",".ui-tooltip",(function(e){t.tooltip(),t.tooltip("close")}))},h=function(e){var t=$J("#sih-user-confirm-description .sih-items .sih-items__item");e.forEach((function(e,r){var n,a,o=null==e||null===(n=e.actions)||void 0===n||null===(a=n[0])||void 0===a?void 0:a.link.replace("%assetid%",e.assetid).replace("%owner_steamid%",g_steamID);chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_WEAR_VALUE",data:{link:o}},(function(e){var n=$J(t[r]).find(".sih-floats");if(e&&e.success){var a=$J('\n          <div class="sih-floats__item">\n            <div class="row justify-between">\n              <span class="text text_grey-500 fs-12 lh-16 semi-bold">'.concat(SIHLang.sihCases.wear,'</span>\n              <span class="text text_grey-500 fs-12 lh-16 semi-bold">').concat(e.iteminfo.floatvalue,'</span>\n            </div>\n            <div class="sih-floats__float-bar">\n              <div class="sih-floats__float-indicator"></div>\n            </div>\n          </div>\n        '));a.find(".sih-floats__float-indicator").css("left","".concat(271*e.iteminfo.floatvalue-9,"px")),n.find(".sih-floats__spinner").remove(),n.append(a)}else n.find(".sih-floats__spinner").remove()}))}))},v=function(e){var t=[];if(!e)return t;e.find("br").remove();var r=e.find("img"),n=e.find("center").text().split(":");if(2!==n.length)return t;n[0].trim();var a=_(r,n[1]);return r.length===a.length&&(t=a.map((function(e,t){var n=$J('\n        <div class="sih-stickers__item" title="'.concat(e,'">\n          <div class="sih-stickers__image">').concat(r[t].outerHTML,"</div>\n        </div>\n      ")),a=n.find(".sih-stickers__image img");return a.tooltip({position:{my:"center top",at:"center bottom+10"},classes:{"ui-tooltip":"sih-global sih-stickers__tooltip"}}).on("mouseenter",(function(e){a.not($J(this)).tooltip("close")})).on("mouseleave",(function(e,t){var r=e.target;t||(e.stopImmediatePropagation(),setTimeout((function(){0===$J(".ui-tooltip:hover").length&&$J(r).trigger("mouseleave",[!0])}),250))})),$J("body").on("mouseleave",".ui-tooltip",(function(e){n.tooltip(),n.tooltip("close")})),n}))),t},_=function(e,t){if(e.length!=t.split(",").length){t=t.split(",");for(var r=[],n=0;n<t.length;n++)if(t[n].includes("(")&&!t[n].includes(")")){var a="".concat(t[n]+","+t[n+1]);r.push(a),t.splice([n+1],1)}else r.push(t[n]);return r}return t.split(",")};function y(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */y=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function d(e,t,r,n){var o=t&&t.prototype instanceof _?t:_,i=Object.create(o.prototype),s=new E(n||[]);return a(i,"_invoke",{value:L(e,r,s)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var f="suspendedStart",p="suspendedYield",m="executing",h="completed",v={};function _(){}function g(){}function b(){}var S={};l(S,i,(function(){return this}));var I=Object.getPrototypeOf,k=I&&I(I(O([])));k&&k!==r&&n.call(k,i)&&(S=k);var C=b.prototype=_.prototype=Object.create(S);function $(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function J(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==w(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=f;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=x(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?h:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=h,n.method="throw",n.arg=l.arg)}}}function x(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,x(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=u(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function O(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(w(t)+" is not iterable")}return g.prototype=b,a(C,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},$(J.prototype),l(J.prototype,s,(function(){return this})),t.AsyncIterator=J,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new J(d(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},$(C),l(C,c,"Generator"),l(C,i,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=O,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return s.type="throw",s.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:O(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function g(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function I(e,t,r){return(t=J(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,J(n.key),n)}}function $(e,t,r){return t&&C(e.prototype,t),r&&C(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function J(e){var t=function(e,t){if("object"!=w(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==w(t)?t:t+""}var L=new Map([["fn","Factory New"],["mw","Minimal Wear"],["ft","Field-Tested"],["ww","Well-Worn"],["bs","Battle-Scarred"]]);function x(e){var t=(e=decodeURIComponent(e)).match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);return t&&{href:e,protocol:t[1],host:t[2],hostname:t[3],port:t[4],pathname:t[5],search:t[6],hash:t[7]}}function A(e){return new Promise((function(t){Object.keys(e).length>0?chrome.runtime.sendMessage(SIHID,{type:"GET_PRICE_FROM_STEAM",data:e},t):t()}))}function P(e){var t=x(e=e||window.location.href);if(t.pathname.indexOf("market/listings/")>-1){var r=t.pathname.split("/");return{appId:r[3],marketHashName:r[4]+t.hash,location:t}}return{}}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=".";return(e=e.replace(/[^0-9.,]/g,"")).indexOf(",")>e.indexOf(".")&&(t=","),(e.match(new RegExp("\\"+t,"g"))||[]).length>1&&(t=""),""!==t&&e.length-e.indexOf(t)-1==3&&0!==e.indexOf("0"+t)&&(t=""),e=(e=e.replace(new RegExp("[^0-9"+t+"]","g"),"")).replace(",","."),parseFloat(e)}var O={getManifest:function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"GET_MANIFEST_APP",data:{}},e)})).then((function(e){return e.data}))}};function T(e){return(+e.toFixed(2)).toLocaleString("ru").replace(",",".")}function N(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,i=o.A.getPriceFromCurrency(e,t,r,n,a),s=i.price,c=i.symbolPosition,l=i.symbol;return s>1e5&&(s=Math.ceil(s)),2!==a&&s>.03&&(a=2),"".concat("before"===c?l:""," ").concat((+s.toFixed(a)).toLocaleString("ru").replace(",",".")," ").concat("after"===c?l:"")}function D(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return Math.round(100*(1-e/t)*100)/100*r}var H=function(e){var t=e.item;$J(".item-hover-name-tooltip").remove(),t.prop("title",SIHLang.market.blockBestOfferOfMarketplaceCopyItemName),t.css({display:"inline-block",cursor:"pointer"}),t.tooltip({position:{my:"center bottom",at:"center top"},tooltipClass:"name-tooltip item-hover-name-tooltip"}),t.off("click").click((function(){var t=$J(this);$J(".name-tooltip").css("opacity",".3").animate({opacity:"1"},"fast"),navigator.clipboard.writeText(e.marketHashName).then((function(){t.tooltip({content:SIHLang.market.blockBestOfferOfMarketplaceCopiedItemName})})).catch((function(e){console.error("Error in copying text: ",e)}))})),t.mouseout((function(){t.tooltip("close"),t.tooltip({content:SIHLang.market.blockBestOfferOfMarketplaceCopyItemName})}))},R=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=o.A.getPriceFromCurrency(e,t,r,a),s=i.price,c=i.symbol,l=i.symbolPosition,d=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}].findLast((function(e){return s>=e.value})),u=d?(s/d.value).toFixed(n).replace(/\.0+$|(?<=\.[0-9]*[1-9])0+$/,"").concat(d.symbol):Math.ceil(100*s)/100;return{price:u,text:"before"===l?"".concat(c," ").concat(u):"".concat(u," ").concat(c),symbol:c,symbolPosition:l}},M=function(){return $((function e(){k(this,e)}),null,[{key:"sendItemData",value:function(e,t,r,n,a,o){try{var i,s,c=JSON.parse(JSON.stringify(e)),l=JSON.parse(JSON.stringify(c.buy_order_graph)),d=JSON.parse(JSON.stringify(c.sell_order_graph));if(!t||5!==n)return!1;if(!g_steamID)return!1;if(0===d.length)return;d.length>5?d.length=5:d.length,l.length>1?l.length=1:l.length;for(var u=[],f=d.length-1;f>=0;f--){var p=d[f][0],m=0!==f?d[f][1]-d[f-1][1]:d[f][1];u.unshift({price:p,count:m})}var h=null==l||null===(i=l[0])||void 0===i?void 0:i[0],v=null==l||null===(s=l[0])||void 0===s?void 0:s[1],_={app_id:t,hash_name:r,prices:u,steamid:g_steamID};if(l.length){var y={price:h,count:v};Object.assign(_,{buy_price:y})}if(a&&Object.keys(a).length&&Object.assign(_,{steamSoldData:a}),o){var g,b;"russian"===o?(g=Number($J.parseHTML(c.buy_order_summary)[1].innerHTML),b=Number($J.parseHTML(c.sell_order_summary)[1].innerHTML)):["koreana","japanese","turkish"].includes(o)?(g=Number($J(c.buy_order_summary)[2].innerHTML),b=Number($J(c.sell_order_summary)[2].innerHTML)):(g=Number($J(c.buy_order_summary)[0].innerHTML),b=Number($J(c.sell_order_summary)[0].innerHTML)),_.orders={buy:g,sell:b}}chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_USER_STEAM_PRICE",data:_})}catch(e){}}}])}(),j=$((function e(){k(this,e)}));n=j,I(j,"SELL_LISTING",{}),I(j,"setItem",(function(e){if(e){var t={sessionid:g_sessionID,steamid:g_steamID,steamLang:g_strLanguage||"english"},r="".concat(e.appid,"/").concat(e.contextid),a="".concat(e.market_hash_name,"/").concat(e.price);if(Object.keys(n.SELL_LISTING).length){var o=n.SELL_LISTING.data.findIndex((function(e){return Object.keys(e)[0]===r}));if(o>=0)if(n.SELL_LISTING.data[o][r].length){var i=n.SELL_LISTING.data[o][r].findIndex((function(e){return Object.keys(e)[0]===a}));if(i<0)n.SELL_LISTING.data[o][r].push(I({},a,[e]));else n.SELL_LISTING.data[o][r][i][a].findIndex((function(t){return t.assetid===e.assetid}))<0&&n.SELL_LISTING.data[o][r][i][a].push(e)}else n.SELL_LISTING.data[o][r].push(I({},a,[e]));else n.SELL_LISTING.data.push(I({},r,[I({},a,[e])]))}else n.SELL_LISTING={data:[I({},r,[I({},a,[e])])],userInfo:t}}})),I(j,"removeItem",(function(e){e&&n.SELL_LISTING&&n.SELL_LISTING.data&&n.SELL_LISTING.data.length&&n.SELL_LISTING.data.forEach((function(t,r){for(var a=function(){var t=b(i[o],2),a=t[0];t[1].forEach((function(t,o){for(var i=0,s=Object.entries(t);i<s.length;i++){var c=b(s[i],2),l=c[0],d=c[1].findIndex((function(t){return t.assetid===e}));d>=0&&(n.SELL_LISTING.data[r][a][o][l].splice(d,1),n.SELL_LISTING.data[r][a][o][l].length||(n.SELL_LISTING.data[r][a].splice(o,1),n.SELL_LISTING.data[r][a].length||n.SELL_LISTING.data.splice(r,1)))}}))},o=0,i=Object.entries(t);o<i.length;o++)a()}))})),I(j,"resellItems",(function(){var e=chrome.runtime.connect(SIHID,{name:"STEAM_RESUBMIT_ITEMS_CONNECTION"});return e.onMessage.addListener(function(){var t,r=(t=y().mark((function t(r){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s(e,r);case 2:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(e){g(o,n,a,i,s,"next",e)}function s(e){g(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}()),new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_RESELL_ITEMS",data:n.SELL_LISTING},(function(t){e()}))}))}));var U=$((function e(){k(this,e)}));a=U,I(U,"BUY_ORDERS",[]),I(U,"setItem",(function(e){e&&(a.BUY_ORDERS.length?-1===a.BUY_ORDERS.findIndex((function(t){return t.payload.buy_orderid===e.payload.buy_orderid}))&&a.BUY_ORDERS.push(e):a.BUY_ORDERS.push(e))})),I(U,"removeItem",(function(e){if(e&&a.BUY_ORDERS.length){var t=a.BUY_ORDERS.findIndex((function(t){return t.payload.buy_orderid===e}));-1!==t&&a.BUY_ORDERS.splice(t,1)}})),I(U,"createBuyOrders",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_RESUBMIT_BUY_ORDER",data:a.BUY_ORDERS},(function(t){e()}))}))}))},3080:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function o(e,t,r){return(t=i(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}function s(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function c(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}r.d(t,{A:()=>f});var l=new WeakSet;function d(e){var t=e.match(/(?:AED|ARS\$|A\$|R\$|Br|CDN\$|CHF|CLP\$|¥|COL\$|₡|€|£|HK\$|Rp|₪|₹|¥|₩|KD|₸|Mex\$|RM|kr|원|NZ\$|S\/\.|P|zł|QR|刀币|₽|SR|S\$|฿|TL|NT\$|₴|\$|\$U|₫|R)/);return t?t[0]:""}function u(e){var t=this;return Object.keys(this.g_rgCurrencyData).find((function(r){return t.g_rgCurrencyData[r].strSymbol===e}))||""}const f=new(function(){return e=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,l),o(this,"getPriceFromCurrency",(function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,i=t.getCurrency(+r),s=t.getCurrency(+n),c=a?ExchangeSteamRates[i.strCode]:ExchangeRates._rates[i.strCode],l=a?ExchangeSteamRates[s.strCode]:ExchangeRates._rates[s.strCode];return"USD"===s.strCode&&e?"USD"!=i.strCode&&(e*=c)<.03&&2===o&&(e=.03):s.strCode!=i.strCode&&e&&(e=e/l*c)<.03&&2===o&&(e=.03),2!==o&&e>.03&&(o=2),{price:e||0,code:i.strCode,symbol:i.strSymbol,text:"".concat(i.bSymbolIsPrefix?"".concat(i.strSymbol).concat(i.strSymbolAndNumberSeparator):"").concat(e?e.toFixed(o):0).concat(i.bSymbolIsPrefix?"":"".concat(i.strSymbolAndNumberSeparator).concat(i.strSymbol)),template:"".concat(i.bSymbolIsPrefix?"".concat(i.strSymbol).concat(i.strSymbolAndNumberSeparator):"","$price").concat(i.bSymbolIsPrefix?"":"".concat(i.strSymbolAndNumberSeparator).concat(i.strSymbol)),symbolPosition:i.bSymbolIsPrefix?"before":"after"}})),o(this,"getCurrency",(function(e){var r=null;for(var n in e=e||"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1,t.g_rgCurrencyData)if(t.g_rgCurrencyData[n].eCurrencyCode===+e){r=t.g_rgCurrencyData[n];break}return r})),o(this,"getCurrencyCodeSteam",(function(){return"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1})),o(this,"g_rgCurrencyData",{USD:{strCode:"USD",eCurrencyCode:1,strSymbol:"$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"US",countryCodeAlpha3:"USA"},GBP:{strCode:"GBP",eCurrencyCode:2,strSymbol:"£",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"GB",countryCodeAlpha3:"GBR"},EUR:{strCode:"EUR",eCurrencyCode:3,strSymbol:"€",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"DE",countryCodeAlpha3:"DEU"},CHF:{strCode:"CHF",eCurrencyCode:4,strSymbol:"CHF",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"CH",countryCodeAlpha3:"CHE"},RUB:{strCode:"RUB",eCurrencyCode:5,strSymbol:"₽",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:"",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"RU",countryCodeAlpha3:"RUS"},BRL:{strCode:"BRL",eCurrencyCode:7,strSymbol:"R$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"BR",countryCodeAlpha3:"BRA"},JPY:{strCode:"JPY",eCurrencyCode:8,strSymbol:"¥",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"JP",countryCodeAlpha3:"JPN"},NOK:{strCode:"NOK",eCurrencyCode:9,strSymbol:"kr",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"NO",countryCodeAlpha3:"NOR"},IDR:{strCode:"IDR",eCurrencyCode:10,strSymbol:"Rp",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"ID",countryCodeAlpha3:"IDN"},MYR:{strCode:"MYR",eCurrencyCode:11,strSymbol:"RM",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"MY",countryCodeAlpha3:"MYS"},PHP:{strCode:"PHP",eCurrencyCode:12,strSymbol:"P",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"PH",countryCodeAlpha3:"PHL"},SGD:{strCode:"SGD",eCurrencyCode:13,strSymbol:"S$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"SG",countryCodeAlpha3:"SGP"},THB:{strCode:"THB",eCurrencyCode:14,strSymbol:"฿",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"TH",countryCodeAlpha3:"THA"},VND:{strCode:"VND",eCurrencyCode:15,strSymbol:"₫",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"VN",countryCodeAlpha3:"VNM"},KRW:{strCode:"KRW",eCurrencyCode:16,strSymbol:"₩",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"KR",countryCodeAlpha3:"KOR"},TRY:{strCode:"TRY",eCurrencyCode:17,strSymbol:"TL",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"TR",countryCodeAlpha3:"TUR"},UAH:{strCode:"UAH",eCurrencyCode:18,strSymbol:"₴",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"UA",countryCodeAlpha3:"UKR"},MXN:{strCode:"MXN",eCurrencyCode:19,strSymbol:"Mex$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"MX",countryCodeAlpha3:"MEX"},CAD:{strCode:"CAD",eCurrencyCode:20,strSymbol:"CDN$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"CA",countryCodeAlpha3:"CAN"},AUD:{strCode:"AUD",eCurrencyCode:21,strSymbol:"A$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"AU",countryCodeAlpha3:"AUS"},NZD:{strCode:"NZD",eCurrencyCode:22,strSymbol:"NZ$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"NZ",countryCodeAlpha3:"NZL"},PLN:{strCode:"PLN",eCurrencyCode:6,strSymbol:"zł",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"PL",countryCodeAlpha3:"POL"},CNY:{strCode:"CNY",eCurrencyCode:23,strSymbol:"¥",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"CN",countryCodeAlpha3:"CHN"},INR:{strCode:"INR",eCurrencyCode:24,strSymbol:"₹",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"IN",countryCodeAlpha3:"IND"},CLP:{strCode:"CLP",eCurrencyCode:25,strSymbol:"CLP$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"CL",countryCodeAlpha3:"CHL"},PEN:{strCode:"PEN",eCurrencyCode:26,strSymbol:"S/.",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"PE",countryCodeAlpha3:"PER"},COP:{strCode:"COP",eCurrencyCode:27,strSymbol:"COL$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"CO",countryCodeAlpha3:"COL"},ZAR:{strCode:"ZAR",eCurrencyCode:28,strSymbol:"R",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"ZA",countryCodeAlpha3:"ZAF"},HKD:{strCode:"HKD",eCurrencyCode:29,strSymbol:"HK$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"HK",countryCodeAlpha3:"HKG"},TWD:{strCode:"TWD",eCurrencyCode:30,strSymbol:"NT$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"TW",countryCodeAlpha3:"TWN"},SAR:{strCode:"SAR",eCurrencyCode:31,strSymbol:"SR",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"SA",countryCodeAlpha3:"SAU"},AED:{strCode:"AED",eCurrencyCode:32,strSymbol:"AED",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"AE",countryCodeAlpha3:"ARE"},ARS:{strCode:"ARS",eCurrencyCode:34,strSymbol:"ARS$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"AR",countryCodeAlpha3:"ARG"},ILS:{strCode:"ILS",eCurrencyCode:35,strSymbol:"₪",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"IL",countryCodeAlpha3:"ISR"},BYN:{strCode:"BYN",eCurrencyCode:36,strSymbol:"Br",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"BY",countryCodeAlpha3:"BLR"},KZT:{strCode:"KZT",eCurrencyCode:37,strSymbol:"₸",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"KZ",countryCodeAlpha3:"KAZ"},KWD:{strCode:"KWD",eCurrencyCode:38,strSymbol:"KD",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"KW",countryCodeAlpha3:"KWT"},QAR:{strCode:"QAR",eCurrencyCode:39,strSymbol:"QR",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"QA",countryCodeAlpha3:"QAT"},CRC:{strCode:"CRC",eCurrencyCode:40,strSymbol:"₡",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"CR",countryCodeAlpha3:"CRI"},UYU:{strCode:"UYU",eCurrencyCode:41,strSymbol:"$U",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"UY",countryCodeAlpha3:"URY"}})},t=[{key:"getCurrencyIdByCode",value:function(e){var t;return(null===(t=g_rgCurrencyData[e])||void 0===t?void 0:t.eCurrencyCode)||null}},{key:"parsePrice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=c(l,this,d).call(this,e),n=c(l,this,u).call(this,r),a=this.g_rgCurrencyData[n],o=a.eCurrencyCode,i=t?a.strThousandsSeparator:1111..toLocaleString().replace(/1/g,""),s=t?a.strDecimalSymbol:1.1.toLocaleString().replace(/1/g,""),f=(i?e.replace(new RegExp("\\"+i,"g"),""):e).replace(new RegExp("\\"+s),".").match(new RegExp(/\d+[0-9,.]?\d*/g)),p=f&&f[0]&&(parseFloat(f[0])||0===parseFloat(f[0]))||NaN;return isNaN(p)?null:{value:p,currencyCode:n,currencySign:r,currencyNumber:o}}}],t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}())}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};r.r(n),r.d(n,{CurrencyService:()=>v.A,common:()=>l,filter:()=>c,footer:()=>a,global:()=>h,items:()=>o,itemsRule:()=>i,latestFriends:()=>d,lots:()=>u,panelMode:()=>f,profileHeader:()=>p,tradeoffer:()=>s,tradeofferLite:()=>m});var a={};r.r(a),r.d(a,{RenderLoadMarketPriceManualSingle:()=>Ne,load:()=>Te});var o={};r.r(o),r.d(o,{ModifyItemList:()=>Ue,load:()=>je});var i={};r.r(i),r.d(i,{RelocateRuleBlock:()=>Ge,load:()=>Be});var s={};r.r(s),r.d(s,{GetTotalPriceForActiveMarket:()=>at,SetFlagForLoadedMarket:()=>qe,SetFlagForLoadedSIHMarket:()=>Qe,load:()=>We});var c={};r.r(c),r.d(c,{AfterResponse:()=>wt,SetPriceForItemsActiveMarket:()=>Ct,SetStateAutoLoadMarketPriceToLocalStorage:()=>kt,load:()=>It});var l={};r.r(l),r.d(l,{AddPreloadersAndHideBlocks:()=>Wt,GetAllPrice:()=>Xt,GetDataFromLocalStorage:()=>Bt,GetHeightFirstRightControlsContent:()=>Vt,GetLimitedTradeofferList:()=>jt,GetMarkets:()=>Mt,InitializationFastAcceptTrade:()=>tr,SetDataToLocalStorage:()=>Gt,getHexFromUnicode:()=>Zt,removeDeclinedOfferFromSihWindow:()=>zt,sendTradeLinkToBackground:()=>qt,sendTradeofferTxtToBackground:()=>Yt});var d={};r.r(d),r.d(d,{LocalStorageLatestFriends:()=>ir,RenderLatestSelectedFriends:()=>nr,SaveLatestFriend:()=>ar});var u={};r.r(u),r.d(u,{load:()=>sr});var f={};r.r(f),r.d(f,{loadHtml:()=>_r});var p={};r.r(p),r.d(p,{load:()=>yr});var m={};r.r(m),r.d(m,{load:()=>gr});var h=r(6703),v=r(3080);const _=[{name:"waxpeer",title:"Waxpeer",isView:!0,appIds:["730","252490","440"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"dmarket",title:"DMarket",isView:!0,appIds:["570","730","252490","440"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"csgocom",title:"Csgocom",isView:!0,appIds:["730","570","440","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0,priorityPosition:2},{name:"csgocomBuy",title:"Csgocom buy",isView:!0,appIds:["730","570","440","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!1,priorityPosition:2},{name:"csmoney",title:"CS.money",isView:!1,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!1},{name:"csmoneyStore",title:"CS.money Store",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0,priorityPosition:3},{name:"csmoneyTrade",title:"CS.money Trade",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0,priorityPosition:3},{name:"skinport",title:"Skinport",isView:!0,appIds:["730","570","440","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"bitskins",title:"BitSkins",isView:!0,appIds:["730","570","440"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"skinbaron",title:"Skinbaron",isView:!0,appIds:["730","440"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"shadowpay",title:"ShadowPay",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"mannco",title:"Mann.Co",isView:!0,appIds:["440","730","570","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"tradeit",title:"Tradeit",isView:!0,appIds:["730","440","570","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0,priorityPosition:1},{name:"tradeitDeposit",title:"Tradeit Deposit",isView:!0,appIds:["730","440","570","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!1,priorityPosition:1},{name:"cstrade",title:"CS.Trade",isView:!0,appIds:["440","570","730","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"lootfarm",title:"LOOTfarm",isView:!0,appIds:["440","570","730","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"swapgg",title:"Swapgg",isView:!0,appIds:["440","570","730","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"lisskins",title:"Lisskins",isView:!0,appIds:["730","570","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"buff163",title:"Buff163",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"cs2go",title:"CS2GO",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"haloskins",title:"HaloSkins",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"igxe",title:"Igxe",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"gamerpay",title:"GamerPay",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"skinsmonkey",title:"Skinsmonkey",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"skinsmonkeycash",title:"Skinsmonkey cash",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"skinout",title:"SkinOut",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0,priorityPosition:4},{name:"bitskinsp2p",title:"Bitskins P2P",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"whitemarket",title:"White.market",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"steamprices",title:"Steamprices",isView:!1,appIds:["730","570","440","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!1},{name:"sihmarket",title:"SIH.Market",isView:!0,appIds:["730","252490","440"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"rustskins",title:"Rustskins",isView:!0,appIds:["252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"steamLiveSell",title:"Steam",isView:!1,appIds:["730"],link:null,data:null,group:"B",forExternalInjection:!0},{name:"csfloat",title:"CSFloat",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"avanmarket",title:"Avan.Market",isView:!0,appIds:["570","730","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"skinplace",title:"Skin.Place",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0}];var y=function(e,t){try{t=t||"",localStorage.setItem(e,JSON.stringify(t))}catch(e){console.error(e)}},g=function(e){try{var t=localStorage.getItem(e)||null;return JSON.parse(t)}catch(e){return console.error(e),null}},b={_name:"SIH_MARKETPLACE_BANNERS",get:function(){return g(this._name)||{}},set:function(e){y(this._name,e)}},S={_name:"SIH_MARKETPLACES_CACHE",get:function(){return g(this._name)||{}},set:function(e){y(this._name,e)}};var w={getSync:function(e){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SYNC_STORAGE",data:e},(function(e){t(e)}))}))},setSync:function(e,t){return new Promise((function(r){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_SYNC_STORAGE",data:{key:e,value:t}},(function(e){r(e)}))}))},getLocal:function(e){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_LOCAL_STORAGE",data:e},(function(e){t(e)}))}))},setLocal:function(e,t){return new Promise((function(r){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_LOCAL_STORAGE",data:{key:e,value:t}},(function(e){r(e)}))}))}};function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function k(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */k=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function d(e,t,r,n){var o=t&&t.prototype instanceof _?t:_,i=Object.create(o.prototype),s=new E(n||[]);return a(i,"_invoke",{value:L(e,r,s)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var f="suspendedStart",p="suspendedYield",m="executing",h="completed",v={};function _(){}function y(){}function g(){}var b={};l(b,i,(function(){return this}));var S=Object.getPrototypeOf,w=S&&S(S(O([])));w&&w!==r&&n.call(w,i)&&(b=w);var C=g.prototype=_.prototype=Object.create(b);function $(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function J(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==I(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function L(t,r,n){var a=f;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=x(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?h:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=h,n.method="throw",n.arg=l.arg)}}}function x(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,x(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=u(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function O(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(I(t)+" is not iterable")}return y.prototype=g,a(C,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:y,configurable:!0}),y.displayName=l(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},$(J.prototype),l(J.prototype,s,(function(){return this})),t.AsyncIterator=J,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new J(d(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},$(C),l(C,c,"Generator"),l(C,i,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=O,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return s.type="throw",s.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:O(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function x(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){L(o,n,a,i,s,"next",e)}function s(e){L(o,n,a,i,s,"throw",e)}i(void 0)}))}}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O(n.key),n)}}function P(e,t,r){return t&&A(e.prototype,t),r&&A(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function E(e,t,r){return(t=O(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e){var t=function(e,t){if("object"!=I(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==I(t)?t:t+""}function T(e,t,r){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,r)}function N(e,t){return e.get(function(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}(e,t))}var D=new WeakMap,H=new WeakMap,R=new WeakMap,M=new WeakMap,j=new WeakMap,U=new WeakMap,B=new WeakMap;const G=new(P((function e(){var t,r,n,a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),T(this,D,"case-open-feat"),T(this,H,"button"),T(this,R,"click"),T(this,M,"n/a"),T(this,j,"n/a"),T(this,U,"n/a"),T(this,B,"n/a"),E(this,"set",function(){var e=x(k().mark((function e(t){var r,n,o,i,s,c,l,d,u;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.group,n=t.target,o=t.targetType,i=t.action,s=t.properties,c=t.lang,l=t.country,d=t.uid,u=t.steamId,e.abrupt("return",new Promise(function(){var e=x(k().mark((function e(t){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=chrome.runtime,e.t1=SIHID,e.t2=J,e.t3=J({group:r||a.group,target:n,targetType:o||a.targetType,action:i||a.action},s),e.t4={},e.t5=c||a.lang,e.t6=l||a.country,!d){e.next=11;break}e.t7=d,e.next=14;break;case 11:return e.next=13,a.parseUid();case 13:e.t7=e.sent;case 14:e.t8=e.t7,e.t9=u||a.steamId,e.t10={lang:e.t5,country:e.t6,uid:e.t8,steamId:e.t9},e.t11=(0,e.t2)(e.t3,e.t4,e.t10),e.t12={type:"BACKGROUND_SET_EVENT_REGISTRATION_V2",data:e.t11},e.t13=function(e){t(e)},e.t0.sendMessage.call(e.t0,e.t1,e.t12,e.t13);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E(this,"parseUserInfo",(function(){var e=("function"==typeof $J?$J:$)("#application_config");if(e.length){var t,r,n,o,i,s=e.attr("data-config"),c=e.attr("data-userinfo");return{lang:s?null===(t=JSON.parse(s))||void 0===t||null===(r=t.LANGUAGE)||void 0===r?void 0:r.toLowerCase():N(M,a),country:s?null===(n=JSON.parse(s))||void 0===n||null===(o=n.COUNTRY)||void 0===o?void 0:o.toLowerCase():N(j,a),steamId:c?null===(i=JSON.parse(c))||void 0===i?void 0:i.steamid:N(B,a)}}return{lang:"en",country:"us",steamId:null}})),E(this,"parseUid",x(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=x(k().mark((function e(t){var r,n;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.getSync("sih_token");case 2:r=e.sent,n=r.sih_token,t(n||N(U,a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))));var o=this.parseUserInfo();this.group=N(D,this),this.targetType=N(H,this),this.action=N(R,this),this.lang=null!==(t=window)&&void 0!==t&&t.g_strLanguage?g_strLanguage.toLowerCase():null!=o&&o.lang?null==o?void 0:o.lang:N(M,this),this.country=null!==(r=window)&&void 0!==r&&r.g_strCountryCode?g_strCountryCode.toLowerCase():null!=o&&o.country?null==o?void 0:o.country:N(j,this),this.steamId=null!==(n=window)&&void 0!==n&&n.g_steamID?g_steamID:null!=o&&o.steamId?o.steamId:N(B,this)})));function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function V(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Z(n.key),n)}}function Y(e,t,r){return t&&V(e.prototype,t),r&&V(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function z(e,t,r){return(t=Z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z(e){var t=function(e,t){if("object"!=F(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==F(t)?t:t+""}var q=Y((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),z(this,"getWearInfo",(function(t){var r=e._skinWear.find((function(e){return t.includes(e.wearFull)})),n=t.includes("StatTrak™"),a=t.includes("Souvenir");return r?K(K({},r),{},{name:t,stattrak:n,souvenir:a}):null})),z(this,"getSplitName",(function(e){var r=e.split("|"),n=r[0].replace(/StatTrak™/g,"").replace(/Souvenir/g,"").replace(/[^a-zA-Z0-9 -]/gi,"").replace(/\s{2,}/g,"").trim(),a=2===r.length?r[1]:r.splice(1,r.length).join("|"),o=t.getWearInfo(e),i=o&&null!=o&&o.wearFull?a.replace("(".concat(null==o?void 0:o.wearFull,")"),"").trim():null;return{skinTagName:n,skinName:a,nameWithoutWear:i}}))}));z(q,"_skinWear",[{wearFull:"Battle-Scarred",wearShort:"BS",color:"#E05A59",priorityPosition:1},{wearFull:"Field-Tested",wearShort:"FT",color:"#E3E15B",priorityPosition:2},{wearFull:"Minimal Wear",wearShort:"MW",color:"#79D154",priorityPosition:3},{wearFull:"Well-Worn",wearShort:"WW",color:"#E9A75D",priorityPosition:4},{wearFull:"Factory New",wearShort:"FN",color:"#5EB648",priorityPosition:5}]);const Q=new q;var X;function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(e){return function(e){if(Array.isArray(e))return re(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return re(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?re(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ne(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ne=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function d(e,t,r,n){var o=t&&t.prototype instanceof _?t:_,i=Object.create(o.prototype),s=new A(n||[]);return a(i,"_invoke",{value:$(e,r,s)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var f="suspendedStart",p="suspendedYield",m="executing",h="completed",v={};function _(){}function y(){}function g(){}var b={};l(b,i,(function(){return this}));var S=Object.getPrototypeOf,w=S&&S(S(P([])));w&&w!==r&&n.call(w,i)&&(b=w);var I=g.prototype=_.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==ee(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function $(t,r,n){var a=f;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=J(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?h:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=h,n.method="throw",n.arg=l.arg)}}}function J(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,J(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=u(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(ee(t)+" is not iterable")}return y.prototype=g,a(I,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:y,configurable:!0}),y.displayName=l(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,c,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},k(C.prototype),l(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new C(d(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(I),l(I,c,"Generator"),l(I,i,(function(){return this})),l(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(x),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return s.type="throw",s.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function ae(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function oe(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){ae(o,n,a,i,s,"next",e)}function s(e){ae(o,n,a,i,s,"throw",e)}i(void 0)}))}}function ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ce(n.key),n)}}function se(e,t,r){return(t=ce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ce(e){var t=function(e,t){if("object"!=ee(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ee(t)?t:t+""}var le=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),se(this,"getLink",(function(t,r,n,a,o){return e._getLink(t,r,n,a,o)})),se(this,"getPriceMarket",(function(e){var t=b.get(),r=!1,n=0,a=0,o=0,i=0,s=0,c=0;return e.data&&(o=e.data.price||0,i=e.data.count||0,e.data.locked&&(s=e.data.locked.price||0,c=e.data.locked.count||e.data.locked.locked||0)),t.isPriceLotsTradeLock?("A"===e.group&&(n=o,a=i),"B"===e.group&&(o?o>s&&s?(n=s,r=!0,a=c):(n=o,a=i):(n=s,a=c,r=!0)),"C"===e.group&&(n=s,a=c,r=!0)):"A"!==e.group&&"B"!==e.group||(n=o,a=i),{price:n,isLock:r,count:a}})),se(this,"makeNewData",(function(){e._statusLoadMarkers=e._statusLoadMarkersEnum.NO_LOADING})),se(this,"loadMarkets",oe(ne().mark((function t(){var r,n,a,o,i,s,c,l,d=arguments;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=d.length>0&&void 0!==d[0]?d[0]:null,n=d.length>1&&void 0!==d[1]?d[1]:null,d.length>2&&void 0!==d[2]&&d[2]&&(e._statusLoadMarkers=e._statusLoadMarkersEnum.NO_LOADING),e._statusLoadMarkers===e._statusLoadMarkersEnum.NO_LOADING){t.next=6;break}return t.abrupt("return");case 6:if(e._statusLoadMarkers=e._statusLoadMarkersEnum.LOADING,(a=null===r&&null===n?(0,h.getPageParams)():{appId:r,marketHashName:n}).marketHashName=decodeURIComponent(a.marketHashName),a){t.next=11;break}return t.abrupt("return");case 11:if(o=S.get(),i="".concat(a.appId,"_").concat(a.marketHashName),!(o[i]&&Date.now()-o[i].time<e._marketCacheTime)){t.next=18;break}return e._statusLoadMarkers=e._statusLoadMarkersEnum.SUCCESS,e._marketplace||(e._marketplace={}),e._marketplace.markets=o[i].data,t.abrupt("return");case 18:return s=r&&n,t.next=21,e._getMarkets(a.appId,a.marketHashName,s);case 21:c=t.sent,l={appId:a.appId,markets:c.map((function(e){return e.name})),items:[a.marketHashName]},chrome.runtime.sendMessage(SIHID,{type:"GET_PRICES_BY_MARKETPLACES",data:l},(function(t){t&&t.success&&t.items?(e._statusLoadMarkers=e._statusLoadMarkersEnum.SUCCESS,t.items&&t.items[a.marketHashName]&&t.items[a.marketHashName].csmoney&&(t.items[a.marketHashName].csmoney.csmoneyStore&&(t.items[a.marketHashName].csmoneyStore=t.items[a.marketHashName].csmoney.csmoneyStore),t.items[a.marketHashName].csmoney.csmoneyTrade&&(t.items[a.marketHashName].csmoneyTrade=t.items[a.marketHashName].csmoney.csmoneyTrade)),e._marketplace={},e._marketplace.markets=c.map((function(e){return e.data=t.items[a.marketHashName]&&t.items[a.marketHashName][e.name],e})).filter((function(e){return!(!e.data||!(e.data.price||e.data.locked&&e.data.locked.price))})),o[i]={},o[i].data=e._marketplace.markets,o[i].time=Date.now(),S.set(o)):e._statusLoadMarkers=e._statusLoadMarkersEnum.ERROR}));case 24:case"end":return t.stop()}}),t)})))),se(this,"checkLoadMarkets",(function(){var r=[e._statusLoadMarkersEnum.SUCCESS,e._statusLoadMarkersEnum.ERROR].includes(e._statusLoadMarkers);if(r){var n=b.get();n.market&&t.getMarkets().filter((function(e){return e.isView})).forEach((function(e){var t=n.market[e.name];t&&(e.depositPercentage=t.depositPercentage||0,e.fixedDepositPercentage=t.fixedDepositPercentage||0)}))}return r})),se(this,"getMarkets",(function(){return e._marketplace?b.get().isPriceLotsTradeLock?e._marketplace.markets:e._marketplace.markets.filter((function(e){return"A"===e.group||"B"===e.group&&(e.data||{}).price})):[]})),se(this,"getMarketLowerPrice",(function(){var r=null;if(t.checkLoadMarkets()&&e._marketplace&&Array.isArray(e._marketplace.markets)&&e._marketplace.markets.length>0){var n=b.get(),a=function(e,t){return t.isServiceCommission?1+(e||0)/100:1},o=function(e,t){return t.isServiceCommission&&e||0},i=e.excludeBuyMarkets(t.getMarkets()).filter((function(e){return e.isView}));i.length>1?r=i.reduce((function(e,r){var i=t.getPriceMarket(e),s=t.getPriceMarket(r);return i.price*a(e.depositPercentage,n)+o(e.fixedDepositPercentage,n)<s.price*a(r.depositPercentage,n)+o(r.fixedDepositPercentage,n)?e:r})):1===i.length&&(r=i[0])}return r})),se(this,"getOffersCount",(function(r){return e.excludeBuyMarkets(r).reduce((function(e,r){return e+t.getPriceMarket(r).count}),0)})),se(this,"getMarketsForExternal",(function(){return e._markets.filter((function(e){return e.forExternalInjection}))})),se(this,"getAllMarkets",(function(t){return t?e._markets.filter((function(e){return e.appIds.includes(t)})):e._markets}))}return t=e,r=null,n=[{key:"_markets",get:function(){return JSON.parse(JSON.stringify(_))}},{key:"_getMarkets",value:(a=oe(ne().mark((function t(r,n,a){var o,i,s,c,l,d,u;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e._markets.filter((function(e){return e.isView&&e.appIds.includes(r)})),t.next=3,e.getSubscribeAds();case 3:return s=t.sent,c=s.success,l=G.parseUserInfo(),d=l.country,c||(i=["RU","BY"].includes(d)?"zh-TW"!==d&&"zh-CN"!==d?i.filter((function(e){if("dmarket"!==e.name&&"igxe"!==e.name)return e.name})):i.filter((function(e){return e.name})):["ZH","CN"].includes(d)?i.filter((function(e){return e.name})):"zh-TW"!==d&&"zh-CN"!==d?i.filter((function(e){return"igxe"!==e.name})):i.filter((function(e){return e.name}))),i.forEach((function(t){t.link=e._getLink(t.name,r,n,a)})),u=e._markets.filter((function(e){return!e.isView})),(o=i).push.apply(o,te(u)),t.abrupt("return",i);case 11:case"end":return t.stop()}}),t)}))),function(e,t,r){return a.apply(this,arguments)})},{key:"_getRandomInt",value:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}},{key:"excludeBuyMarkets",value:function(e){var t=["csgocomBuy"];return e.filter((function(e){return!t.includes(e.name)}))}}],r&&ie(t.prototype,r),n&&ie(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n,a}();X=le,se(le,"_statusLoadMarkersEnum",{NO_LOADING:"no_loading",LOADING:"loading",ERROR:"error",SUCCESS:"success"}),se(le,"_statusLoadMarkers",X._statusLoadMarkersEnum.NO_LOADING),se(le,"_marketplace",null),se(le,"_marketCacheTime",3e4),se(le,"_getLink",(function(e,t,r,n,a){var o="https://t.sih-db.com/".concat(a?"external-panel":"15GzoA"),i="",s="";if("csgocom"===e||"csgocomBuy"===e){switch(t){case"730":s="csgo.com";break;case"570":s="market.dota2.net";break;case"440":s="tf2.tm";break;case"252490":s="rust.tm";break;default:return}i="".concat(o,"?subid1=").concat(encodeURIComponent("?s=price&t=all&search=".concat(r,"&sd=asc")),"&subid2=").concat(s).concat(n?"-side-menu":"")}if("csmoneyStore"===e&&(i="".concat(o,"?subid1=").concat(encodeURIComponent("".concat(r)),"&subid2=cs.moneyStore").concat(n?"-side-menu":"")),"csmoneyTrade"===e&&(i="".concat(o,"?subid1=").concat(encodeURIComponent("".concat(r)),"&subid2=cs.moneyTrade").concat(n?"-side-menu":"")),"skinport"===e){var c=r.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"-").replace(/^-+|-+$/g,""),l="";"570"===t?l="/dota2":"440"===t?l="/tf2":"252490"===t&&(l="/rust"),i="".concat(o,"?subid1=").concat(encodeURIComponent("".concat(l,"/market?search=").concat(c,"&sort=price&order=asc")),"&subid2=skinport").concat(n?"-side-menu":"")}if("bitskins"===e){var d="";switch(t){case"730":d="csgo";break;case"570":d="dota2";break;case"440":d="tf2"}i="".concat(o,"?subid1=").concat(encodeURIComponent("".concat(d,'?ref_alias=sihfree&search={"order":[{"field":"price","order":"ASC"}],"where":{"skin_name":"').concat(r,'"}}')),"&subid2=newBitskins").concat(n?"-side-menu":"")}if("bitskinsp2p"===e){var u=r.replace(/ /g,"+");i="".concat(o,"?subid1=").concat(encodeURIComponent('?search={"where":{"name":"'.concat(u,'"}}')),"&subid2=p2p-bitskins").concat(n?"-side-menu":"")}if("skinbaron"===e){r=r.replace("Souvenir Package","");var f="";"730"===t?f="/csgo":"440"===t&&(f="/tf2");var p=encodeURIComponent("".concat(f,"?str=").concat(r,"&sort=CF"));i="".concat(o,"?subid1=").concat(p,"&subid2=skinbaron").concat(n?"-side-menu":"")}if("shadowpay"===e){var m=encodeURIComponent("?search=".concat(r));i="".concat(o,"?subid1=").concat(m,"&subid2=shadowpay").concat(n?"-side-menu":"")}if("waxpeer"===e){var h=r.toLocaleLowerCase().replace(/[|()™★]/g,"").replace(/\s{2,}/g," ").trim().replace(/ /g,"-").replace(/&/g,"%26").replace(/cs:/g,"cs-"),v="";["252490"].includes(t)&&(v="rust/"),["440"].includes(t)&&(v="tf2/"),i="".concat(o,"?subid1=").concat(v).concat(h,"/item/&subid2=waxpeer").concat(n?"-side-menu":"")}if("dmarket"===e&&["570","730","252490","440"].includes(t)){var _=r.replace(/[™★]/g,""),y="";"730"===t&&(y="csgo-skins"),"570"===t&&(y="dota2-skins"),"252490"===t&&(y="rust-skins"),"440"===t&&(y="tf2-skins");var g=encodeURIComponent("/ingame-items/item-list/".concat(y,"?title=").concat(_));i="".concat(o,"?subid1=").concat(g,"&subid2=dmarket").concat(n?"-side-menu":"")}if("mannco"===e&&["440","730","570","252490"].includes(t)){var b="";if(r.indexOf("Unusual")>-1)b=encodeURIComponent("/market?e=".concat(r,"&f=ASC&appid=").concat(t));else{var S=r.replace(/[^a-zA-Z0-9 -]/gi,"").replace(/\s{2,}/g," ").trim().replace(/ /gi,"-").toLowerCase();b="/item/".concat(t,"-").concat(S)}i="".concat(o,"?subid1=").concat(b,"&subid2=manncostore").concat(n?"-side-menu":"")}if("tradeit"===e&&["730","440","570","252490"].includes(t)){var w="";"730"===t&&(w="csgo"),"440"===t&&(w="tf2"),"570"===t&&(w="dota2"),"252490"===t&&(w="rust");var I=encodeURIComponent("/".concat(w,"/store?search=").concat(r));i="".concat(o,"?subid1=").concat(I,"&subid2=tradeit").concat(n?"-side-menu":"")}if("tradeitDeposit"===e&&["730","440","570","252490"].includes(t)){var k="";"730"===t&&(k="csgo"),"440"===t&&(k="tf2"),"570"===t&&(k="dota2"),"252490"===t&&(k="rust");var C=encodeURIComponent("/".concat(k,"/trade?search=").concat(r));i="".concat(o,"?subid1=").concat(C,"&subid2=tradeit").concat(n?"-side-menu":"")}if("cstrade"===e&&["440","570","730","252490"].includes(t)&&(i="".concat(o,"?subid1=").concat(r,"&subid2=cstrade").concat(n?"-side-menu":"")),"lootfarm"===e&&["440","570","730","252490"].includes(t)){var $=encodeURIComponent("#skin=".concat(t,"_").concat(r));i="".concat(o,"?subid1=").concat($,"&subid2=lootfarm").concat(n?"-side-menu":"")}if("swapgg"===e&&["440","570","730","252490"].includes(t)){var J=encodeURIComponent("/browse/".concat(t,"?search=").concat(r.replace("|"," ")));i="".concat(o,"?subid1=").concat(J,"&subid2=swapgg").concat(n?"-side-menu":"")}if("lisskins"===e&&["730","570","252490"].includes(t)){var L="";"730"===t&&(L="csgo"),"570"===t&&(L="dota2"),"252490"===t&&(L="rust");var x=encodeURIComponent("/".concat(L,"/?query=").concat(r));i="".concat(o,"?subid1=").concat(x,"&subid2=lisskins").concat(n?"-side-menu":"")}if("buff163"===e&&["730"].includes(t)){var A="";"730"===t&&(A="csgo");var P=encodeURIComponent("/market/".concat(A,"#tab=selling&page_num=1&search=").concat(r));i="".concat(o,"?subid1=").concat(P,"&subid2=buff163").concat(n?"-side-menu":"")}if("igxe"===e&&["730"].includes(t)){var E=r,O="";"730"===t&&(O="csgo");var T=encodeURIComponent("/market/".concat(O,"?keyword=").concat(E));i="".concat(o,"?subid1=").concat(T,"&subid2=igxe").concat(n?"-side-menu":"")}if("gamerpay"===e&&["730"].includes(t)){var N=encodeURIComponent("/buy?query=".concat(r));i="".concat(o,"?subid1=").concat(N,"&subid2=gamerpay").concat(n?"-side-menu":"")}if("skinsmonkey"===e&&["730"].includes(t)){var D=r,H=encodeURIComponent("appId=".concat(t,"&q=").concat(D));i="".concat(o,"?subid1=").concat(H,"&subid2=skinmonkey").concat(n?"-side-menu":"")}if("skinsmonkeycash"===e&&["730"].includes(t)){var R=r,M=encodeURIComponent("appId=".concat(t,"&q=").concat(R));i="".concat(o,"?subid1=").concat(M,"&subid2=skinmonkey").concat(n?"-side-menu":"")}if("skinout"===e&&["730"].includes(t)){var j=r.replace(/[^a-zA-Z0-9★ -]/gi,"").replace(/\s{2,}/g," ").trim().replace(/ /gi,"-").toLowerCase();i="".concat(o,"?subid1=").concat(j,"&subid2=skinout").concat(n?"-side-menu":"")}if("whitemarket"===e&&["730"].includes(t)){var U=r;i="".concat(o,"?subid1=").concat(U,"&subid2=whitemarket").concat(n?"-side-menu":"")}if("haloskins"===e&&["730"].includes(t)){var B=encodeURIComponent(r.replace(/&/,""));i="".concat(o,"?subid1=").concat(B,"&subid2=haloskins").concat(n?"-side-menu":"")}if("cs2go"===e&&["730"].includes(t)){var G=r.replace(/[^a-zA-Z0-9★ -]/gi,"").replace(/\s{2,}/g," ").trim().replace(/ /gi,"-").toLowerCase(),F="".concat(t,"/").concat(G);i="".concat(o,"?subid1=").concat(F,"&subid2=cs2go").concat(n?"-side-menu":"")}if("rustskins"===e&&["252490"].includes(t)){var W="".concat(r);i="".concat(o,"?subid1=").concat(W,"&subid2=rustskins").concat(n?"-side-menu":"")}if("csdeal"===e&&["730","570","440","252490"].includes(t)){var K="";"730"===t&&(K="csgo"),"440"===t&&(K="tf2"),"570"===t&&(K="dota2"),"252490"===t&&(K="rust");var V=encodeURIComponent(r.replace(/&/,"")),Y="".concat(V,"&game=").concat(K);i="".concat(o,"?subid1=").concat(Y,"&subid2=cs.deals").concat(n?"-side-menu":"")}if("sihmarket"===e&&["730","252490","440"].includes(t)){var z="".concat(encodeURIComponent("".concat(r,"&sortBy=-profitPercent&appId=").concat(t)));i="".concat(o,"?subid1=").concat(z,"&subid2=sih.app").concat(n?"-side-menu":"")}if("csmarket"===e&&["730"].includes(t)){var Z=encodeURIComponent("".concat(r,"&sortBy=price&utm_source=sih&utm_medium=cpm&utm_campaign=first"));i="".concat(o,"?subid1=").concat(Z,"&subid2=csmarket").concat(n?"-side-menu":"")}if("steamLiveSell"===e&&["730"].includes(t)){var q=encodeURIComponent("".concat(r));i="".concat(o,"?subid1=").concat(q,"&subid2=steam").concat(n?"-side-menu":"")}if("csfloat"===e&&["730"].includes(t)){var X=encodeURIComponent("".concat(r));i="".concat(o,"?subid1=").concat(X,"&subid2=csfloat").concat(n?"-side-menu":"")}if("avanmarket"===e&&["730","570","252490"].includes(t)){var ee="";"730"===t&&(ee="cs"),"570"===t&&(ee="dota2"),"252490"===t&&(ee="rust");var te=r.toLowerCase().replace(/stattrak™/gi,"stattraktm").replace(/\s*\|\s*/g,"-").replace(/[()]/g,"").replace(/\s+/g,"-").replace(/&/g,"%26").replace(/-+/g,"-").trim(),re="/".concat(ee,"/").concat(te);i="".concat(o,"?subid1=").concat(re,"&subid2=avanmarket").concat(n?"-side-menu":"")}if("skinplace"===e&&["730"].includes(t)){var ne=Q.getWearInfo(r),ae=Q.getSplitName(r),oe=(ae.nameWithoutWear?ae.skinTagName+" "+ae.nameWithoutWear:r).toLowerCase().replace(/\s*\|\s*/g,"-").replace(/[^a-zA-Z0-9 -]/gi,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),ie="".concat(oe,"?");null!=ne&&ne.wearFull&&(ie+="exterior=".concat(ne.wearFull.replace(/\s+/g,"+")),ne.stattrak?ie+="%26is_stattrak=1":ne.souvenir&&(ie+="%26is_souvenir=1")),i="".concat(o,"?subid1=").concat(ie,"&subid2=skinplace").concat(n?"-side-menu":"")}return a&&(i="".concat(i,"&subid3=").concat(a)),i})),se(le,"getSubscribeAds",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CHECK_SUBSCRIBE_ADS"},(function(t){e(t)}))}))}));const de=new le;function ue(e){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(e)}function fe(e){return function(e){if(Array.isArray(e))return pe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return pe(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pe(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function me(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */me=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function d(e,t,r,n){var o=t&&t.prototype instanceof _?t:_,i=Object.create(o.prototype),s=new A(n||[]);return a(i,"_invoke",{value:$(e,r,s)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var f="suspendedStart",p="suspendedYield",m="executing",h="completed",v={};function _(){}function y(){}function g(){}var b={};l(b,i,(function(){return this}));var S=Object.getPrototypeOf,w=S&&S(S(P([])));w&&w!==r&&n.call(w,i)&&(b=w);var I=g.prototype=_.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==ue(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function $(t,r,n){var a=f;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=J(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?h:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=h,n.method="throw",n.arg=l.arg)}}}function J(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,J(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=u(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(ue(t)+" is not iterable")}return y.prototype=g,a(I,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:y,configurable:!0}),y.displayName=l(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,c,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},k(C.prototype),l(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new C(d(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(I),l(I,c,"Generator"),l(I,i,(function(){return this})),l(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(x),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return s.type="throw",s.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function he(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function ve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ye(n.key),n)}}function _e(e,t,r){return(t=ye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ye(e){var t=function(e,t){if("object"!=ue(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ue(t)?t:t+""}var ge=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_e(this,"getOrderStatusText",(function(t){return e._buyOrderStatusEnum[t]})),_e(this,"loginSihApp",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_LOGIN_SIH_APP"},(function(t){e(t)}))}))})),_e(this,"getLoginSihAppUser",(function(){return new Promise((function(e,r){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_USER_INFO"},function(){var r,n=(r=me().mark((function r(n){return me().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.success&&Object.keys(n).length){r.next=6;break}return r.t0=e,r.next=4,t.loginSihApp();case 4:r.t1=r.sent,(0,r.t0)(r.t1);case 6:n.success&&Object.keys(n).length?e(n):e({success:!1});case 7:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function i(e){he(o,n,a,i,s,"next",e)}function s(e){he(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}())}))})),_e(this,"getUserSihApp",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_USER_AUTH_SIH_APP"},(function(t){e(t)}))}))})),_e(this,"getSubscribeAds",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CHECK_SUBSCRIBE_ADS"},(function(t){e(t)}))}))})),_e(this,"getSubscribeAdsPlans",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SUBSCRIBE_ADS_PLANS_SIH_APP"},(function(t){e(t)}))}))})),_e(this,"getDaysNumber",(function(e){var t=(new Date).toUTCString(),r=new Date("".concat(t)).getTime(),n=new Date("".concat(e)).getTime()-r,a=Math.round(n/36e5);return a>24?{days:Math.ceil((a-24)/24)}:{hours:a}})),_e(this,"setItemToBuyStack",(function(r){var n=r.hashName,a=void 0===n?null:n,o=r.countAdd,i=void 0===o?1:o,s=r.statusCode,c=void 0===s?null:s,l=r.steamId,d=void 0===l?null:l,u=r.appId,f=void 0===u?"730":u,p=r.price,m=void 0===p?null:p,v=r.image,_=r.url,y=r.gameName,g=void 0===y?null:y,b=r.color,S=void 0===b?"rgb(210, 210, 210)":b,w=r.rarityColor,I=void 0===w?"default":w,k=r.itemId,C=void 0===k?null:k;return new Promise((function(r,n){var o=de.getMarkets().find((function(e){return"sihmarket"===e.name}));if(g||(g=e._gameNames[f]),o||m){var s=m||de.getPriceMarket(o);if(s&&(s.price||m)){var l=(0,h.getPageParams)(),u=a||encodeURIComponent(l.marketHashName);t.getAllItemsBuyStackByName(u).then((function(o){for(var p=t.getFilterItemsByStatus(o,c),h=[],y=i>1?i-p.length:i,b=v||$J(".market_listing_largeimage").find("img").attr("src"),w=g||$J(".market_listing_nav > a:nth(0)").text(),k=S||$J("#largeiteminfo_item_name").css("color"),$=f&&a?"".concat(f,"/").concat(a):"".concat(l.appId,"/").concat(encodeURIComponent(l.marketHashName)),J=0;J<y;J++){var L,x={appid:f||l.appId,market_hash_name:a?decodeURIComponent(a):l.marketHashName,price:m||s.price,providerName:"sih",steam_id:d||(null!==(L=window)&&void 0!==L&&L.g_steamID?window.g_steamID:sih_steamID),custom_trade_link:null,createdAt:Date.now()+J+1,image:b,url:_||window.location.href,gameName:w,hashMarket:$,color:k,isChecked:!0,rarityColor:I||"default",itemId:C||null};null!==c&&(x.status=c),h.push(x)}if(l&&encodeURIComponent(l.marketHashName)===u&&730==+Object.keys(g_rgAssets)[0]){var A=+Object.keys(g_rgAssets[730]||{})[0],P=Object.values(g_rgAssets[730][A])[0];e.getRarityColor(730,P.classid,P.instanceid).then((function(t){h.forEach((function(e){e.rarityColor=t})),e.setPreparedDataToBuyStack(u,h).then((function(e){r(e)})).catch((function(e){n(e)}))}))}else e.setPreparedDataToBuyStack(u,h).then((function(e){r(e)})).catch((function(e){n(e)}))}))}}else a&&t.getAllItemsBuyStackByName(a).then((function(e){var o=t.getFilterItemsByStatus(e,c);if(o.length){for(var s=o.map((function(e){return e.createdAt})),l=o.find((function(e){return e.createdAt===Math.max.apply(Math,fe(s))})),d=i>1?i-o.length:i,u=[],f=0;f<d;f++){var p=Object.assign({},l);p.createdAt=Date.now()+f+1,u.push(p)}var m=_e({},a,[].concat(fe(e),u));chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_BUY_STACK_SIH_APP",data:m},(function(e){e.success?r(m[a]):n(e)}))}}))}))})),_e(this,"deleteItemFromBuyStack",(function(e){var r=e.hashName,n=e.argCountDelete,a=void 0===n?null:n,o=e.statusCode,i=void 0===o?null:o,s=e.itemId,c=void 0===s?null:s;return new Promise((function(e,n){t.getAllItemsBuyStackByName(r).then((function(o){var s=t.getFilterItemsByStatus(o,i),l=s.length-(null!==a?a:s.length-1);chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_DELETE_LAST_BUY_STACK_SIH_APP",data:{hashName:r,statusCode:i,countDelete:l,itemId:c}},(function(a){t.getAllItemsBuyStackByName(r).then((function(t){a.success?e(t):n(a)}))}))}))}))})),_e(this,"getAllBuyStack",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_ALL_BUY_STACK_SIH_APP"},(function(t){e(t)}))}))})),_e(this,"getFilterItemsByStatus",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.filter((function(e){return Array.isArray(t)?t.length?t.includes(e.status):!e.status:t?e.status===t:!e.status}))||[]})),_e(this,"updateSIHMarketPrice",(function(){return new Promise((function(e,r){t.getAllBuyStack().then((function(t){if(t.length>0){var r=[],n=[],a=[];t.forEach((function(e){e.itemId?r.push(e.itemId.toString()):n.push(e.market_hash_name)})),r.length&&a.push(new Promise((function(e,t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_MARKET_ACTUAL_PRICES",data:{itemIds:r}},(function(r){r.success?e(r.data):t()}))}))),n.length&&a.push(new Promise((function(e,t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_MARKET_ACTUAL_PRICES",data:{items:n}},(function(r){r.success?e(r.data):t()}))}))),Promise.all(a).then((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_UPDATE_PRICE_ITEMS_BUY_STACK_SIH_APP",data:{items:t.flat()}},(function(t){e(t)}))})).catch((function(){e()}))}else e()}))}))})),_e(this,"changeItemsStatus",(function(e){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CHANGE_STATUS_ITEM_BUY_STACK_SIH_APP",data:e},(function(){t()}))}))})),_e(this,"cancelSihAppOrder",(function(e){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CANCEL_ORDER_SIH_APP",data:{orderId:e}},(function(e){t(e)}))}))})),_e(this,"updateItemLocalHistoryOrders",(function(e){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_UPDATE_LOCAL_ITEM_ORDER_SIH_APP",data:{orderId:e}},(function(e){t(e)}))}))})),_e(this,"getUserOrdersHistory",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return new Promise((function(n){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_ORDERS_HISTORY_SIH_APP",data:{isLocal:e,page:t,number:r}},(function(e){n(e)}))}))})),_e(this,"createBuyOrder",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CREATE_BUY_ORDER_SIH_APP"},(function(t){e(t)}))}))})),_e(this,"getTopSales",(function(e){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_TOP_SALES",data:e},(function(e){t(e)}))}))})),_e(this,"getLogs",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_LOG"},(function(t){e(t)}))}))})),_e(this,"readAllNotification",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_READ_SIH_APP_LOG"},(function(t){e(t)}))}))})),_e(this,"renderTextLog",(function(t){return"".concat(e._buyOrderErrorsEnum[t.error]?"".concat(e._buyOrderErrorsEnum[t.error]," <br>"):t.error||t.message||"".concat(SIHLang.sihAppMarket.orders.order," № ").concat(t.orderId," ").concat(SIHLang.sihAppMarket.orders.successful_operation," <br>")," ").concat(t.itemData?"".concat(t.itemData.market_hash_name," <br>"):""," ").concat(t.itemData?"".concat(SIHLang.sihAppMarket.orders.price,": ").concat(t.itemData.price," <br>"):"")})),_e(this,"getLogTemplateByGroup",(function(e){var r;if("bookmarks"===e.groupType){var n=de.getLink(e.itemData.marketName||"buff163",e.itemData.appId||"730",e.itemData.market_hash_name,e.itemData.market_hash_name),a=v.A.getPriceFromCurrency(e.itemData.price,e.itemData.currencyId||1).text;r='\n          <div class="column gap-5 items-start pl-50">\n            <span class="text">'.concat(e.title,'</span>\n            <a href="').concat(n,'" target="_blank" class="text text_blue hover-opacity-8"\n              >').concat(e.itemData.market_hash_name,'</a\n            >\n          </div>\n          <div class="row gap-5 items-end pb-2">\n            \x3c!--                    TODO: Добавить проверку на data.itemData.marketName, если его нету, то иконку не рендерить (текущая иконка для теста)--\x3e\n            <img\n              class="notification-panel__icon"\n              src="chrome-extension://').concat(SIHID,"/assets/marketplace/mini-icons/").concat(e.itemData.marketName||"buff163",'.svg"\n              alt="').concat(e.itemData.marketName||"buff163",'"\n            />\n            <span class="text text_green whitespace-nowrap">').concat(a,"</span>\n          </div>\n        ")}else r='\n          <div class="column gap-5 items-start pl-50">\n            <span class="text">'.concat(SIHLang.notifications[e.title],'</span>\n            <span class="text ').concat(e.success?"text_green":"text_red",'">').concat(t.renderTextLog(e),"</span>\n          </div>\n        ");return r})),_e(this,"validateInput",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return isNaN(e)||e<=r?r:e>=t?Math.ceil(t):n?Math.floor(1e3*e)/1e3:Math.ceil(e)})),_e(this,"getSubscribeAdsMethods",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SUBSCRIBE_ADS_METHODS_SIH_APP"},(function(t){e(t)}))}))})),_e(this,"getLinkForInvoice",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return new Promise((function(r){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CREATE_INVOICE",data:{amount:e,method:t}},(function(e){r(e)}))}))})),_e(this,"updateTradeLink",(function(e){chrome.runtime.sendMessage(window.SIHID,{type:"BACKGROUND_UPDATE_TRADELINK_SIH_APP",data:{link:e}})})),_e(this,"getSihAppToken",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_TOKEN"},(function(t){e(t)}))}))})),_e(this,"getAutoLoadFloats",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_AUTO_LOAD_FLOATS"},(function(t){e(t)}))}))})),_e(this,"errorHandler",(function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Please, try again";n.toLowerCase().includes("invalid token or session is over")&&(e.text(SIHLang.subscribeAds.modal.reload_page),e.off("click").click((function(){window.location.reload()}))),0===r.length?t.append('<span class="sih-modal__text sih-modal__error_message">'.concat("Error! "+n,"</span>")):(r.text("".concat("Error! "+n)),r.hasClass("blink")?(r.removeClass("blink"),setTimeout((function(){r.addClass("blink")}),100)):r.addClass("blink")),e.removeClass("animated-background animated-background-btn"),t.show()})),this.getAllItemsBuyStackByName=e.getAllItemsBuyStackByName}return t=e,n=[{key:"setPreparedDataToBuyStack",value:function(t,r){var n=this;return new Promise((function(a,o){e.getAllItemsBuyStackByName(t).then((function(e){var i=_e({},t,[].concat(fe(e),fe(r)));chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_BUY_STACK_SIH_APP",data:i},(function(e){e.success?n.getAllItemsBuyStackByName(t).then((function(e){a(e)})):o(e)}))}))}))}},{key:"getRarityColor",value:function(e,t,r){return new Promise((function(n,a){$J.ajax({url:"https://steamcommunity.com/economy/itemclasshover/".concat(e,"/").concat(t,"/").concat(r,"?content_only=1&l=english"),cache:!0}).done((function(e){var t=/BuildHover\( '(.*)', (.*)\);/i.exec(e);switch(JSON.parse(t[2]).tags.find((function(e){return"Rarity"===e.category})).name.toLowerCase()){case"consumer grade":case"base grade":n("b0c3d9");break;case"mil-spec grade":case"distinguished":case"high grade":n("4b69ff");break;case"industrial grade":n("5e98d9");break;case"restricted":case"exceptional":case"remarkable":n("8847ff");break;case"classified":case"superior":case"exotic":n("d32ce6");break;case"covert":case"extraordinary":case"master":n("eb4b4b");break;case"contraband":n("e4ae39")}})).fail((function(e){a(e)}))}))}},{key:"getAllItemsBuyStackByName",value:function(e){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_BUY_STACK_BY_NAME_SIH_APP",data:{hashName:e}},(function(e){t(e)}))}))}}],(r=null)&&ve(t.prototype,r),n&&ve(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();_e(ge,"_buyOrderStatusEnum",{ordering:SIHLang.sihAppMarket.orders.statuses.ordering,pending:SIHLang.sihAppMarket.orders.statuses.pending,new:SIHLang.sihAppMarket.orders.statuses.new,created:SIHLang.sihAppMarket.orders.statuses.created,processing:SIHLang.sihAppMarket.orders.statuses.processing,sent:SIHLang.sihAppMarket.orders.statuses.sent,finished:SIHLang.sihAppMarket.orders.statuses.finished,failed:SIHLang.sihAppMarket.orders.statuses.failed,penalized:SIHLang.sihAppMarket.orders.statuses.penalized}),_e(ge,"_buyOrderErrorsEnum",{"Not enough balance":SIHLang.sihAppMarket.orders.errors.not_enough_balance,"Time for refills is up":SIHLang.sihAppMarket.orders.errors.time_refills_up,"receiver failed":SIHLang.sihAppMarket.orders.errors.receiver_failed,"max retries reached":SIHLang.sihAppMarket.orders.errors.max_retries_reached}),_e(ge,"_gameNames",{730:"Counter-Strike 2",252490:"Rust",440:"TF2"});const be=new ge;var Se=null,we=function(){var e=$J(".sih_filter .sih-group-btn"),t=$J(".tradeoffer_item_list"),r=e.hasClass("active");t.each((function(e,t){var n=$J(t);n.find(".trade_item").each((function(e,t){var a=$J(t);if(r){var o=a.attr("data-economy-item"),i=n.find('.trade_item[data-economy-item="'.concat(o,'"]'));if(i.length>1){var s=$J('<div class="sih-duplicated-counter">\n              <div class="sih-duplicated-counter__icon">\n                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <path d="M5.99266 2.5L10.4853 4.99264L5.99266 7.5L1.5 4.99264L5.99266 2.5Z" fill="white" />\n                  <path\n                    fill-rule="evenodd"\n                    clip-rule="evenodd"\n                    d="M2.39853 6.5L1.5 6.99855L5.99267 9.5059L10.4853 6.99855L9.58676 6.5L5.99267 8.5059L2.39853 6.5Z"\n                    fill="white"\n                  />\n                </svg>\n              </div>\n\n              <span class="text"\n                >'.concat(i.length>9999?"9999+":i.length,"</span\n              >\n            </div>"));a.append(s),i.slice(1).hide()}}else a.show(),a.find(".sih-duplicated-counter").remove()}))}))},Ie=function(){var e=$J(".sih_filter .sih-group-btn");e.off("click").on("click",(function(){clearTimeout(Se),Se=setTimeout((function(){e.toggleClass("active"),we()}),300)}))};var ke,Ce=[];var $e=function(){Ce.length||chrome.runtime.sendMessage(SIHID,{type:"GetLastTrades",data:{active_only:1,get_received_offers:1,get_sent_offers:1,get_descriptions:1}},(function(e){if(e.success){var t=Je(e,location.href.includes("sent")?["trade_offers_sent"]:["trade_offers_received"]);Le(e,t),Ae()}else $J(".filter_load-float--buttons").addClass("disabled"),$J(".float-info").removeClass("hidden"),$J(".float-info__text").text(""),$J(".setting-url").text(SIHLang.tradeoffers.filter.update_float_text_1)})),ke&&ke.length&&xe(ke)},Je=function(e){var t=[];return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach((function(r){e.response[r]&&e.response[r].forEach((function(e){if(e.items_to_give&&e.items_to_give.forEach((function(r){t.push({tradeofferid:e.tradeofferid,steamid:g_steamID,assetid:r.assetid,classid:r.classid})})),e.items_to_receive){var r=(n=e.accountid_other,"7656".concat(Number(n)+Number(1197960265728)));e.items_to_receive.map((function(n){t.push({tradeofferid:e.tradeofferid,steamid:r,assetid:n.assetid,classid:n.classid})}))}var n}))})),t},Le=function(e,t){e.response.descriptions.forEach((function(e){var r=e.tags.find((function(e){return"WEAPON"===e.category.toUpperCase()||"TYPE_HANDS"===e.internal_name.toUpperCase()}));e.actions&&r&&t.forEach((function(t){e.classid===t.classid&&(e.actions[0].link=e.actions[0].link.replace("%assetid%",t.assetid).replace("%owner_steamid%",t.steamid),-1===Ce.findIndex((function(t){return t&&t.actions[0].link===e.actions[0].link}))&&Ce.push(e))}))}))},xe=function(e){$J(".tradeoffer").each((function(t,r){var n=$J(r);n.find(".tradeoffer_items").each((function(t,r){var a=$J(r);a.find(".trade_item").each((function(t,r){var o,i=$J(r),s=i.attr("data-economy-item").split("/");if(5===s.length&&s.pop(),3===s.length||4===s.length){var c=s[2],l=s[3],d=e.find((function(e){return e.classid===c&&e.instanceid===l}));d&&!i.find(".float-value").length&&(i.find(".float-data").append('\n              <div class="float-item__row float-item__row transparent">\n                <span class="rating-pos">'.concat((o=d.iteminfo,o.globalRatingPos||o.localRatingPos?"#".concat(Math.abs(o.globalRatingPos?o.globalRatingPos:o.localRatingPos)):""),'</span>\n                <span class="paintseed">').concat(d.iteminfo.paintseed,'</span>\n              </div>\n              <div class="float-item__row">\n                <span class="float-value"\n                  >').concat(n.hasClass("minimized")?d.iteminfo.floatvalue.toFixed(4):n.hasClass("lite")&&a.hasClass("secondary")?d.iteminfo.floatvalue.toFixed(10):d.iteminfo.floatvalue.toFixed(13),"</span\n                >\n              </div>\n            ")),function(e,t){var r=window.location.pathname.match(/tradeoffer\/new/),n=e.description?e.description:e,a=n.market_hash_name,o=n.icon_url,i=window.KnifePhaseDetector.detect(a,o);if(i){var s,c="";a.includes("Gamma Doppler")?c+="gd-"+i.code:a.includes("Doppler")&&(c+="d-"+i.code),s=i.code.includes("phase")?"P"+i.code.slice(-1):i.name;var l=null,d=0;l=setInterval((function(){d++,(1===t.find(".item-info").length&&1===t.children(".item-info").length||r&&d>=10)&&(clearInterval(l),t.find(".phase-background").length||t.find("img").before('<div class="phase-background '.concat(c,'"></div>')),t.find(".phase-label").length||(r?t.find(".tradeoffer.float-data").length?t.find(".tradeoffer.float-data").prepend('<span class="trade phase-label">'.concat(s,"</span>")):t.find(".p-price").before('<span class="trade phase-label">'.concat(s,"</span>")):t.find(".item-info").prepend('<span class="phase-label">'.concat(s,"</span>"))))}),100)}}(d,i))}}))}))}))},Ae=function(){Promise.all(Ce.map((function(e,t){return new Promise((function(r,n){setTimeout((function(){e.actions[0].link&&Pe(e.actions[0].link).then((function(t){t?(e.iteminfo=t.iteminfo,r(e)):n()})).catch((function(){n()}))}),Math.floor(25*Math.random()+10)*(t+1))}))}))).then((function(e){e&&e.length&&(xe(e),ke=e)}))},Pe=function(e){return new Promise((function(t,r){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_WEAR_VALUE",data:{link:e}},(function(e){e&&e.success?t(e):r(e)}))}))};function Ee(){var e,t,r;e=$J(".sih_filter"),t=Bt(),r='\n    <div class="filter_load-price">\n      <a href="javascript:void(0)" class="filter_switcher-load-price '.concat(t.autoLoadMarketPrice?"on":"",'"></a>\n      <a href="javascript:void(0)" class="filter_load-price-market">\n        <span class="text text_tiny filter_load-price-market--text">').concat(SIHLang.market.requestPrice,'</span>\n        <span class="text text_tiny--fs7 filter_auto-load-price ').concat(t.autoLoadMarketPrice?"text_green":"",'"\n          >').concat(t.autoLoadMarketPrice?"".concat(SIHLang.market.auto):"".concat(SIHLang.market.manual),"</span\n        >\n      </a>\n    </div>\n  "),e.find(".filter_price").before(r),function(){var e=$J(".filter");e.find(".filter_switcher-load-price").off("click").click((function(){var e=$J(".filter_load-price-market"),t=$J(this);t.toggleClass("on"),e.children(".filter_auto-load-price").toggleClass("text_green"),t.hasClass("on")?e.children(".filter_auto-load-price").text("".concat(SIHLang.market.auto)):e.children(".filter_auto-load-price").text("".concat(SIHLang.market.manual)),kt(!Bt().autoLoadMarketPrice)}))}(),function(){var e=$J(".filter");e.find(".filter_load-price-market").off("click").click($J.debounce(250,(function(){$J(this).hasClass("reload")?(SteamBySihSource._cache={},MarketplaceSource._cache={},$J(".sih_tradeoffer.single_price_loaded").each((function(e,t){!$J(t).hasClass("active_single_trade")&&$J(t).addClass("active_single_trade")}))):Oe("reload",!0),Bt().autoLoadMarketPrice||$J(".tradeoffer").removeClass("active_single_trade single_price_loaded"),Qe(),qe(),Wt(),Xt()})))}()}function Oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"request",t=arguments.length>1?arguments[1]:void 0,r=$J(".tradeoffer.single_price_loaded"),n=$J(".filter_load-price-market");if(0!==r.length||window.location.href.includes("history")){r.find(".sih_tradeoffer_footer").find(".sih_load_price_single").each((function(t,r){var n=$J(r);n.hasClass("reload")||"reload"!==e||(n.addClass("reload"),n.text(SIHLang.tradeoffers.filter.reload)),"request"===e&&(n.removeClass("reload"),n.text(SIHLang.market.requestPrice))}))}else{var a=$J(".sih_tradeoffer_footer").find(".sih_load_price_single");n.hasClass("reload")||"reload"!==e||(n.addClass("reload"),n.find(".filter_load-price-market--text").text(SIHLang.tradeoffers.filter.reload),a.addClass("reload"),a.text(SIHLang.tradeoffers.filter.reload)),"request"===e&&(n.removeClass("reload"),n.find(".filter_load-price-market--text").text(SIHLang.market.requestPrice),a.removeClass("reload"),a.text(SIHLang.market.requestPrice))}t&&("reload"===e?(n.addClass("reload"),n.find(".filter_load-price-market--text").text(SIHLang.tradeoffers.filter.reload)):(n.removeClass("reload"),n.find(".filter_load-price-market--text").text(SIHLang.market.requestPrice)))}function Te(){!function(){$J(".tradeoffer_footer").each((function(){var e=$J(this).html().replace(/\|/," ");$J(this).html(e)})),$J(".tradeoffer_footer").contents().filter((function(){return 3===this.nodeType})).remove(),$J(".tradeoffer_footer").addClass("sih sih_tradeoffer_footer minimized"),$J(location).attr("pathname").includes("sent")||$J(".tradeoffer_footer_actions").append('<a class="accept_trade whiteLink" href="javascript:void(0);"><span>'.concat(SIHLang.tradeoffers.fast_accept,"</span></a>"));0===$J(".tradeoffer_footer").find(".tradeoffer_footer_actions").length&&$J(".tradeoffer_footer").prepend('<div class="tradeoffer_footer_actions"></div>')}(),setTimeout((function(){Ne(),function(){var e=Bt();if(e&&e.mode&&"lite"===e.mode){$J(".profile_leftcol").find(".tradeoffer_footer").each((function(e,t){var r=$J(t),n=r.parent().find(".tradeoffer_items_ctn").css("background");r.find(".tradeoffer_footer_actions").find("a").css("background",n)}))}}(),$J(".profile_leftcol").find(".tradeoffer.lite.history").each((function(e,t){var r=$J(t),n=r.find(".tradeoffer_items_banner");r.find(".tradeoffer_footer").appendTo(n)}))}),100)}function Ne(){var e=$J(".tradeoffer");0===e.find(".sih_load_price_single").length&&e.find(".tradeoffer_footer_actions").prepend('<a href="javascript:void(0)" class="whiteLink tradeoffer_footer_actions sih_load_price_single"\n        >'.concat(SIHLang.market.requestPrice,"</a\n      >")),e.find(".sih_load_price_single").click($J.debounce(250,(function(){var t,r=$J(this);r.hasClass("reload")?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&e.find(".trade_item").each((function(e,t){if(t.rgItem){var r=t.rgItem.market_hash_name;Object.values(MarketplaceSource._cache).forEach((function(e){Object.values(e).forEach((function(e){e[r]&&delete e[r]}))})),Object.values(SteamBySihSource._cache.steam).forEach((function(e){e[r]&&delete e[r]}))}}))}(e.hasClass("lite history")?r.parent().parent().parent().parent():r.parent().parent().parent()):(r.addClass("reload"),r.text(SIHLang.tradeoffers.filter.reload));$J(".tradeoffer").removeClass("active_single_trade"),(t=e.hasClass("lite history")?r.parent().parent().parent().parent().parent():r.parent().parent().parent()).addClass("single_price_loaded active_single_trade"),Qe(),qe(),Wt(t),Xt(null,!1,!0,{name:"Steam",sort:13},t)})))}var De,He,Re=function(){Me()},Me=function(){$J("body").on("click",".sih_trade_item",(function(){var e=this.rgItem||{},t=e.appid,r=e.market_hash_name;if(t&&r){var n="https://steamcommunity.com/market/listings/".concat(t,"/").concat(r);chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_OPEN_TAB_SETTINGS",data:{url:n}},(function(){}))}}))};function je(){!function(){$J(".tradeoffer_items_ctn").addClass("sih_tradeoffer_items_ctn"),$J(".tradeoffer_items").addClass("sih_tradeoffer_items"),$J(".trade_item").addClass("sih_trade_item item");var e='\n    <div class="item-info">\n      <div class="float-data"></div>\n      <div class="p-price"></div>\n      <span class="animated-background small fake-price"></span>\n    </div>\n  ';$J(".trade_item").append(e)}(),$J(".sih_tradeoffer").find(".tradeoffer_item_list div").each((function(e,t){var r=$J(t);[r.attr("style")].includes("clear: left;")&&r.remove()})),Re()}function Ue(){setTimeout((function(){$J(".sih_tradeoffer.minimized").find(".tradeoffer_item_list").each((function(e,t){$J(t).find(".trade_item").each((function(e,t){e>=3&&$J(t).addClass("hidden"),3===e&&$J(t).after('\n          <div class="sih_trade_item show-items">\n            <div class="item_row">\n              <span class="text text_grey count-items"></span>\n            </div>\n            <div class="item_row">\n              <span class="item_dot"></span>\n              <span class="item_dot"></span>\n              <span class="item_dot"></span>\n            </div>\n          </div>\n        ')}))})),$J(".sih_tradeoffer.minimized").find(".tradeoffer_item_list").each((function(e,t){var r=$J(t).find(".trade_item.hidden");$J(t).find(".count-items").text("+".concat(r.length))})),$J(".sih_tradeoffer.minimized").find(".tradeoffer_item_list").each((function(e,t){$J(t).find(".show-items").click((function(){var e=this,t=$J(this).parent().parent().parent().find(".trade_item.hidden");$J(this).parent().parent().parent().find(".show-items").remove(),t.each((function(t,r){$J(r).hasClass("hidden")&&($J(r).removeClass("hidden"),$J(e).remove())}))}))}))}),100)}function Be(){var e,t;!function(){var e=jt();e.each((function(e,t){var r=$J(t).find(".tradeoffer_items_rule");0!==r.length||$J(t).hasClass("lite")?r.addClass("sih_tradeoffer_items_rule"):0!==$J(t).find(".tradeoffer_items_banner").length&&$J(t).append('<div class="tradeoffer_items_rule sih_tradeoffer_items_rule"></div>')}));var t='\n    <div class="sih_tradeoffer_items_rule_price">\n      <div class="row">\n        <div class="icons"></div>\n      </div>\n    </div>\n    <div class="sih_tradeoffer_items_rule_percent"></div>\n    <div class="sih_tradeoffer_items_rule_price">\n      <div class="row">\n        <div class="icons"></div>\n      </div>\n    </div>\n  ';$J(".sih_tradeoffer_items_rule").append(t),e.find(".sih_tradeoffer_items_rule_price").append('<span class="animated-background"></span>'),e.find(".sih_tradeoffer_items_rule_percent").append('<div class="animated-background-profit"></div>')}(),e=$J(".profile_leftcol"),t=window.location.href,e.find(".tradeoffer.lite").find(".sih_tradeoffer_items_rule").each((function(e,r){$J(r).find(".sih_tradeoffer_items_rule_price").each((function(e,r){var n=$J(r);if(t.includes("sent"))if(0===e){var a=n.parent().parent().find(".tradeoffer_items.primary").find(".trade_item").length;n.append('<span class="text text_small text_silver rule_lots"\n              >'.concat(SIHLang.tradeoffers.your_lots," (").concat(a," ").concat(SIHLang.tradeoffers.units,")</span\n            >"))}else{var o=n.parent().parent().find(".tradeoffer_items.secondary").find(".trade_item").length;n.append('<span class="text text_small text_silver rule_lots"\n              >'.concat(SIHLang.tradeoffers.lots," (").concat(o," ").concat(SIHLang.tradeoffers.units,")</span\n            >"))}else if(0===e){var i=n.parent().parent().find(".tradeoffer_items.primary").find(".trade_item").length;n.append('<span class="text text_small text_silver rule_lots"\n              >'.concat(SIHLang.tradeoffers.lots," (").concat(i," ").concat(SIHLang.tradeoffers.units,")</span\n            >"))}else{var s=n.parent().parent().find(".tradeoffer_items.secondary").find(".trade_item").length;n.append('<span class="text text_small text_silver rule_lots"\n              >'.concat(SIHLang.tradeoffers.your_lots," (").concat(s," ").concat(SIHLang.tradeoffers.units,")</span\n            >"))}}))}))}function Ge(){$J(".sih_tradeoffer_header").append('<div class="column"></div>'),$J(".tradeoffer").each((function(e,t){var r=$J(t).find(".sih_tradeoffer_header").children(".column"),n=$J(t).find(".tradeoffer_items_rule");if($J(n).hasClass("tradeoffer_items_rule"))$J(n).appendTo(r);else{$J(t).find(".tradeoffer_items.primary").after('<div class="tradeoffer_items_rule"></div>');var a=$J(t).find(".tradeoffer_items_rule");$J(a).appendTo(r)}})),setTimeout((function(){var e=0;$J(".tradeoffer_item_list").each((function(t,r){var n;e=$J(r).find(".trade_item").length,$J(location).attr("pathname").includes("sent")?t%2==0?(n=$J(r).parent().parent().parent().children().children(".column").children().children(".sih_tradeoffer_items_rule_price")[0],$J(n).append('<span class="text text_small text_silver rule_lots"\n              >'.concat(SIHLang.tradeoffers.your_lots," (").concat(e," ").concat(SIHLang.tradeoffers.units,")</span\n            >"))):(n=$J(r).parent().parent().parent().children().children(".column").children().children(".sih_tradeoffer_items_rule_price")[1],$J(n).append('<span class="text text_small text_silver rule_lots"\n              >'.concat(SIHLang.tradeoffers.lots," (").concat(e," ").concat(SIHLang.tradeoffers.units,")</span\n            >"))):t%2==0?(n=$J(r).parent().parent().parent().children().children(".column").children().children(".sih_tradeoffer_items_rule_price")[0],$J(n).append('<span class="text text_small text_silver rule_lots"\n              >'.concat(SIHLang.tradeoffers.lots," (").concat(e," ").concat(SIHLang.tradeoffers.units,")</span\n            >"))):(n=$J(r).parent().parent().parent().children().children(".column").children().children(".sih_tradeoffer_items_rule_price")[1],$J(n).append('<span class="text text_small text_silver rule_lots"\n              >'.concat(SIHLang.tradeoffers.your_lots," (").concat(e," ").concat(SIHLang.tradeoffers.units,")</span\n            >")))}))}),1)}function Fe(){$J(".tradeoffer_items.primary").after('\n    <div class="sih_spliter">\n      <div class="horizontal_line"></div>\n      <div class="arrows"></div>\n      <div class="horizontal_line"></div>\n    </div>\n  ')}function We(){!function(){var e,t=window.location.pathname,r=Xe();e=r.size&&"minimized"!==r.size?'\n    <div class="fake-tradeoffer fake-tradeoffer-full">\n      <div class="header">\n        <div class="user">\n          <div class="row">\n            <div class="avatar"></div>\n            <div class="column">\n              <span class="text"></span>\n            </div>\n          </div>\n          <span class="text"></span>\n        </div>\n        <div class="rule">\n          <div class="column">\n            <div class="fake-lots"></div>\n            <div class="price"></div>\n          </div>\n          <div class="profit"></div>\n          <div class="column">\n            <div class="fake-lots"></div>\n            <div class="price"></div>\n          </div>\n        </div>\n        <div class="report"></div>\n      </div>\n      <div class="fake-lots">\n        <span class="text"></span>\n        <div class="row">\n          <span class="text"></span>\n          <span class="text"></span>\n          <span class="text"></span>\n        </div>\n      </div>\n      <div class="items">\n        <div class="item"></div>\n        <div class="item"></div>\n        <div class="item"></div>\n        <div class="item"></div>\n        <div class="item"></div>\n      </div>\n      <div class="spliter">\n        <div class="line"></div>\n        <div class="circle"></div>\n        <div class="line"></div>\n      </div>\n      <div class="fake-lots">\n        <span class="text"></span>\n        <div class="row">\n          <span class="text"></span>\n          <span class="text"></span>\n          <span class="text"></span>\n        </div>\n      </div>\n      <div class="items">\n        <div class="item"></div>\n        <div class="item"></div>\n        <div class="item"></div>\n        <div class="item"></div>\n        <div class="item"></div>\n      </div>\n      <div class="footer">\n        <div class="button"></div>\n        <div class="button"></div>\n        <div class="button"></div>\n      </div>\n    </div>\n  ':'\n    <div class="fake-tradeoffer fake-tradeoffer-minimized">\n      <div class="header">\n        <div class="user">\n          <div class="row">\n            <div class="avatar"></div>\n            <div class="column">\n              <span class="text"></span>\n              <span class="text"></span>\n              <span class="text"></span>\n            </div>\n          </div>\n        </div>\n        <div class="rule">\n          <div class="column">\n            <div class="fake-lots"></div>\n            <div class="price"></div>\n          </div>\n          <div class="column">\n            <div class="fake-lots"></div>\n            <div class="price"></div>\n          </div>\n        </div>\n      </div>\n      <div class="items">\n        <div class="column">\n          <div class="row">\n            <div class="item"></div>\n            <div class="item"></div>\n            <div class="item"></div>\n            <div class="item"></div>\n          </div>\n        </div>\n        <div class="column">\n          <div class="row">\n            <div class="item"></div>\n            <div class="item"></div>\n            <div class="item"></div>\n            <div class="item"></div>\n          </div>\n        </div>\n      </div>\n      <div class="footer">\n        <div class="button"></div>\n        <div class="button"></div>\n        <div class="button"></div>\n      </div>\n    </div>\n  ';$J(".filter").after(e),n=Vt(),$J(".fake-tradeoffer").css("top",n+22),t.includes("tradetopics")||t.includes("privacy")||$J(".fake-tradeoffer").show();var n}();var e=Xe();$J(".tradeoffer").addClass("sih_tradeoffer minimized"),Qe(),qe(),$J(".tradeoffer").prepend('<div class="sih_tradeoffer_header"></div>'),$J(".sih_tradeoffer_header").append('<div class="sih_user"></div>'),$J(".tradeoffer").each((function(e,t){var r=$J(t).find(".btn_report"),n=$J(t).find(".sih_tradeoffer_header");setTimeout((function(){$J(r).appendTo(n)}),1)})),$J(".tradeoffer").each((function(e,t){var r=$J(t).find(".tradeoffer_footer");$J(r).each((function(e,r){var n=$J(r).contents().filter((function(){return 3===this.nodeType}))[1].nodeValue;$J(t).find(".sih_user").append('<span class="tradeoffer_expiries text text_tiny">'.concat(n,"</span>"))}))})),setTimeout((function(){De=$J(".tradeoffer").clone(!0,!0),$J(".profile_leftcol").append('<div class="tradeoffer_list"></div>'),$J(".tradeoffer_list").append(De),$J(".profile_leftcol > .tradeoffer").remove(),$J(".profile_leftcol > .tradeoffer_rule").remove(),He=$J(".tradeoffer_list").html(),et()}),1),setTimeout((function(){!function(e){"full"===e&&($J(".filter_page").each((function(e,t){$J(t).hasClass("full")&&$J(t).addClass("active").siblings().removeClass("active")})),Ke(),Ve(),ze(),rt(),tt(),Fe(),setTimeout((function(){Ge()}),50));nt(),setTimeout((function(){$J(".fake-tradeoffer").fadeOut("slow"),$J(".tradeoffer").fadeIn("slow"),$J(".sih_tradeoffer_footer").fadeIn("slow")}),300)}(e.size),it(),Ye(),e.autoLoadMarketPrice&&(Wt(),Xt())}),100),$J(".filter_page").each((function(e,t){var r=$J(t);r.on("click",(function(){var e,t;e=$J('.sorting_tradeoffers_select option[value="new"]'),t=e.text(),e.prop("selected",!0),$J("#ui-id-2-button").find(".ui-selectmenu-text").text(t),setTimeout((function(){$J(".tradeoffer").fadeIn("slow"),$J(".sih_tradeoffer_footer").fadeIn("slow"),it()}),100);var n=Xe();$J(this).addClass("active").siblings().removeClass("active"),r.hasClass("full")?$J(".tradeoffer").hasClass("full")||(window.location.href.includes("history")?Oe("request",!0):Oe(),ot(),Ze(),Ke(),Ve(),ze(),rt(),Ge(),tt(),Fe(),we(),Ye(),Qe(),qe(),n.autoLoadMarketPrice&&(Wt(),Xt()),n.autoLoadFloat&&$e(),Ne(),tr(),nt()):r.hasClass("minimized")&&($J(".tradeoffer").hasClass("minimized")||(window.location.href.includes("history")?Oe("request",!0):Oe(),ot(),Ze(),Ke(),Ve(),$J(".tradeoffer").removeClass("full"),$J(".tradeoffer").addClass("minimized"),$J(".tradeoffer_footer").addClass("minimized"),et(),we(),Qe(),qe(),n.autoLoadMarketPrice&&(Wt(),Xt()),n.autoLoadFloat&&$e(),Ne(),tr(),nt()))}))})),ot(),tr()}function Ke(){$J(".tradeoffer_list").remove()}function Ve(){$J(".profile_leftcol").append('<div class="tradeoffer_list"></div>'),$J(".tradeoffer_list").append(He)}function Ye(){$J(".offer_price").each((function(e,t){$J(t).click((function(){Xt($J(this).parent().parent().parent().parent().children(".tradeoffer_item_list")),$J(this).parent().find(".icon").hasClass("reload")||$J(this).after('<a href="javascript:void(0);" class="icon reload reload-steam-price"></a>'),$J(".reload-steam-price").each((function(e,t){$J(t).click((function(e){if(!e.isDefaultPrevented()){e.preventDefault(),PriceQueue.StopQueue();var t=$J(this).parent().parent().parent().parent().children(".tradeoffer_item_list"),r=$J(this).parent().find(".steam-total-price");1===r.length&&$J(r).text(0),$J(t).find(".trade_item").each((function(e,t){$J(t).find(".p-price").children(".price_flag.original").attr("data-price","").find(".animated-background.silver").fadeIn("slow")})),Xt(t,!0)}}))}))}))}))}function ze(){$J(".tradeoffer").addClass("full"),$J(".tradeoffer").removeClass("minimized"),$J(".tradeoffer_footer").removeClass("minimized")}function Ze(){var e=Xe();$J(".filter_page").each((function(t,r){if($J(r).hasClass("active")&&(!e||!e.size||e.size)){var n=$J(r).attr("class").replace(/filter_page/g,"").replace(/active/g,"").trim();e.size=n;var a=JSON.stringify(e);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",a)}}))}function qe(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Xe();if(!t||!t.isMarketLoaded||t.isMarketLoaded){t.isMarketLoaded=e;var r=JSON.stringify(t);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",r)}}function Qe(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Xe();if(!t||!t.isMarketLoaded||t.isMarketLoaded){t.isSteamBySIHLoaded=e;var r=JSON.stringify(t);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",r)}}function Xe(){var e=localStorage.getItem("SIH_TRADEOFFER_ACTIVE_MODE")||"{}";return JSON.parse(e)}function et(){$J(".tradeoffer").each((function(e,t){$J(t).find(".sih_user").append('<div class="sih_user_row"></div>');var r=$J(t).find(".sih_user_row"),n=$J(t).find(".tradeoffer_partner"),a=$J(t).find(".tradeoffer_header");n.appendTo(r),a.appendTo(r);var o=$J(t).find(".tradeoffer_expiries");$J(o).appendTo(a)})),Ge(),$J(".sih_tradeoffer_header").each((function(e,t){var r=$J(t).find(".btn_report");if(1===r.length){var n=r.attr("onclick").match(/'(\d*)',\s"(.+)"/)[2],a=n.match(/\\u[\w\d]{4}/g);$J(t).find(".tradeoffer_header").prepend('<span class="text">'.concat(a?Zt(n,a):n,"</span>"))}})),$J(location).attr("href").includes("sent")||$J(".tradeoffer_header").each((function(e,t){$J(t).contents().filter((function(){return 3===this.nodeType})).remove()})),$J(".sih_tradeoffer.minimized").find(".tradeoffer_header").each((function(e,t){var r=$J(t).parent().parent().parent().parent().find(".tradeoffer_message");1===r.length&&$J(t).prepend('<div class="text text_tiny text_italic text_blue message-controller">'.concat(SIHLang.tradeoffers.show_message,"</div>")),$J(t).find(".message-controller").click((function(){var e=$J(this);r.toggleClass("show"),r.hasClass("show")?e.text("".concat(SIHLang.tradeoffers.hide_message)):e.text("".concat(SIHLang.tradeoffers.show_message))}))})),Ue(),$J(".tradeoffer.minimized").each((function(e,t){var r=$J(t).find(".tradeoffer_items_banner");1===r.length&&($J(t).find(".tradeoffer_items_banner").remove(),$J(t).addClass("history"),$J(t).find(".sih_tradeoffer_footer").addClass("history"),$J(t).find(".sih_tradeoffer_footer").append(r))}))}function tt(){$J(".tradeoffer_item_list").each((function(e,t){$J(t).find(".trade_item").hasClass("trade_item")||$J(t).parent().find(".tradeoffer_items_header").find(".row").remove()}))}function rt(){$J(".tradeoffer").each((function(e,t){var r=$J(t).find(".sih_user");$J(r).append('<div class="sih_user_row"></div>');var n=$J(t).find(".sih_user_row"),a=$J(t).find(".tradeoffer_partner"),o=$J(t).find(".tradeoffer_header");$J(a).appendTo(n),$J(o).appendTo(n)}))}function nt(){var e=$J(location).attr("pathname");$J(".tradeoffer").each((function(t,r){var n=$J(r).find(".sih_user_row");if(e.includes("sent")){var a=$J(r).find(".tradeoffer_avatar");$J(a[1]).hasClass("tiny")&&$J(a[1]).removeClass("tiny"),$J(a[1]).prependTo(n)}}))}function at(){var e=0,t=[];return($J(".tradeoffer.active_single_trade").length>0?$J(".tradeoffer.active_single_trade"):$J(".tradeoffer")).find(".tradeoffer_item_list").each((function(r,n){if(0===$J(n).find(".trade_item").length)e=0,t.push(e);else{e=0;var a=new RegExp("[0-9]*[.,]?[0-9]+");$J(n).children(".trade_item").find(".price_flag").each((function(t,r){if($J(r).hasClass("steam")||$J(r).hasClass("dmarket")||$J(r).hasClass("buff163")||$J(r).hasClass("bitskins")||$J(r).hasClass("skinport")||$J(r).hasClass("mannco")){var n=$J(r).data("price");n=n.match(a),e+=Number(n)}})),t.push(e.toFixed(2))}})),t}function ot(){setTimeout((function(){$J(".tradeoffer").each((function(e,t){1===$J(t).find(".tradeoffer_items_banner").length&&$J(t).append('<div class="sih_inactive"></div>')})),$J(".tradeoffer").mouseenter((function(){$J(this).find(".sih_inactive").css("opacity",0),$J(this).find(".tradeoffer_items_ctn").removeClass("inactive"),$J(this).find(".sih_tradeoffer_items_ctn").css("z-index",6),$J(this).find(".sih_user").css("z-index",6),$J(this).find(".sih_tradeoffer_items_rule").css("z-index",7)})),$J(".tradeoffer").mouseleave((function(){$J(this).find(".sih_inactive").css("opacity",.5),$J(this).find(".sih_tradeoffer_items_ctn").css("z-index",0),$J(this).find(".sih_user").css("z-index",0),$J(this).find(".sih_tradeoffer_items_rule").css("z-index",0)}))}),100)}function it(){var e=$J(".profile_leftcol"),t=e.find(".tradeoffers_view_more");e.find(".tradeoffer_list").after(t)}var st=function(){ct(),Ie()},ct=function(){var e=$J(".sih_filter"),t=$J('\n    <div class="filter__group-btn sih-group-btn">\n      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M11.9853 5L20.9705 9.98528L11.9853 15L3 9.98528L11.9853 5Z" fill="white" />\n        <path\n          fill-rule="evenodd"\n          clip-rule="evenodd"\n          d="M4.79706 13L3 13.9971L11.9853 19.0118L20.9705 13.9971L19.1735 13L11.9853 17.0118L4.79706 13Z"\n          fill="white"\n        />\n      </svg>\n      <span class="text">'.concat(SIHLang.inventory.title8,"</span>\n    </div>\n  "));e.find(".sih-group-btn").length||e.find(".filter_price").after(t)};function lt(){var e,t,r=Bt();e=$J(".sih_filter"),t='\n    <div class="filter_price">\n      <select id="filter_price_select" class="filter_price_select"></select>\n    </div>\n  ',e.find(".filter--left-side").append(t),["steam","buff163","dmarket","bitskins","skinport","mannco"].forEach((function(e){$J(".filter_price_select").append('<option class="filter_price_option '.concat(e,'"><span>').concat("steam"===e?"Steam (bySIH)":e,"</span></option>"))})),$J.widget("custom.selectMenuWithIcons",$J.ui.selectmenu,{_renderItem:function(e,t){var r=$J("<li>",{class:t.element.attr("class"),value:t.element.attr("value")}),n=$J("<div>",{text:t.label});return t.disabled&&r.addClass("ui-state-disabled"),r.append(n).appendTo(e)}}),$J(".filter_price_select").selectMenuWithIcons({position:{my:"left top",at:"left bottom+10",using:function(e,t){$J(this).css(e),$J(this).addClass("filter_price_widget_content")}}}),ut(r.market),dt(r.market),$J("#filter_price_select-button").click((function(){var e=Bt();$J(".filter_price_widget_content").find(".filter_price_option").each((function(t,r){$J(r).off("click").click((function(){var t=$J(this).attr("class").replace(/ui-menu-item|filter_price_option/g,"").trim();ut(t),dt(t),"steam"===t&&Qe(),e.autoLoadMarketPrice&&(qe(),Wt(),setTimeout((function(){Ct(t)}),100))}))}))}))}function dt(e){setTimeout((function(){$J("#filter_price_select-button").find(".ui-selectmenu-text").addClass(e)}),1)}function ut(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"steam",t=Bt();if(!t||!t.market||t.market){t.market=e;var r=JSON.stringify(t);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",r)}}function ft(){var e,t;e=$J(".sih_filter"),t='\n    <div class="sorting_tradeoffers">\n      <select id="sorting_tradeoffers_select" class="sorting_tradeoffers_select">\n        <option class="sorting_tradeoffers_option" value="new"><span>'.concat(SIHLang.tradeoffers.filter.sort.time_new,'</span></option>\n        <option class="sorting_tradeoffers_option" value="old"><span>').concat(SIHLang.tradeoffers.filter.sort.time_old,'</span></option>\n        <option class="sorting_tradeoffers_option" value="profit_desc"><span>').concat(SIHLang.tradeoffers.filter.sort.profit_desc,'</span></option>\n        <option class="sorting_tradeoffers_option" value="profit_asc"><span>').concat(SIHLang.tradeoffers.filter.sort.profit_asc,'</span></option>\n        <option class="sorting_tradeoffers_option" value="name_asc"><span>').concat(SIHLang.tradeoffers.filter.sort.name_asc,'</span></option>\n        <option class="sorting_tradeoffers_option" value="name_desc"><span>').concat(SIHLang.tradeoffers.filter.sort.name_desc,"</span></option>\n      </select>\n    </div>\n  "),e.find(".filter_load-price").before(t),$J.widget("custom.selectMenuWithIcons",$J.ui.selectmenu,{_renderItem:function(e,t){var r=$J("<li>",{class:t.element.attr("class"),value:t.element.attr("value")}),n=$J("<div>",{text:t.label});return t.disabled&&r.addClass("ui-state-disabled"),gt()||"profit_desc"!==t.value&&"profit_asc"!==t.value||n.append('<span class="sih_need-load-price">'.concat(SIHLang.tradeoffers.filter.sort.price_request,"</span>")),r.append(n).appendTo(e)}}),$J(".sorting_tradeoffers_select").selectMenuWithIcons({position:{my:"left top",at:"left bottom+10",using:function(e,t){$J(this).css(e),$J(this).addClass("sorting_tradeoffers_widget_content")}}}),function(){var e=$J(".sih_filter"),t=e.find("#sorting_tradeoffers_select-button");t.click((function(){$J(".sorting_tradeoffers_widget_content").find(".sorting_tradeoffers_option").each((function(e,t){var r=$J(t),n=gt();"profit_desc"!==r.attr("value")&&"profit_asc"!==r.attr("value")||(n?r.find(".sih_need-load-price").remove():0===r.find(".sih_need-load-price").length&&r.find(".ui-menu-item-wrapper").append('<span class="sih_need-load-price">'.concat(SIHLang.tradeoffers.filter.sort.price_request,"</span>"))),r.off("click").click((function(){switch($J(this).attr("value")){case"new":pt(-1);break;case"old":pt(1);break;case"profit_desc":mt(-1);break;case"profit_asc":mt(1);break;case"name_asc":window.location.href.includes("sent")?vt(1):ht(1);break;case"name_desc":window.location.href.includes("sent")?vt(-1):ht(-1)}}))}))}))}()}function pt(e){var t="lite"!==Bt().mode?$J(".tradeoffer_list"):$J(".profile_leftcol"),r=t.find(".tradeoffer");r.sort((function(t,r){var n=$J(t).attr("id").substring(13)||0,a=$J(r).attr("id").substring(13)||0;return Number(n)>Number(a)?1*e:Number(n)<Number(a)?-1*e:0})),r.detach().appendTo(t)}function mt(e){var t=Bt(),r="lite"!==t.mode?$J(".tradeoffer_list"):$J(".profile_leftcol"),n=r.find(".tradeoffer");if(gt()||t.isMarketLoaded||t.isSteamBySIHLoaded)n.sort((function(t,r){var n=$J(t).find(".sih_tradeoffer_items_rule_percent"),a=$J(r).find(".sih_tradeoffer_items_rule_percent"),o=(n.hasClass("lose")?-n.attr("data-profit-percent"):+n.attr("data-profit-percent"))||0,i=(a.hasClass("lose")?-a.attr("data-profit-percent"):+a.attr("data-profit-percent"))||0;return o>i?1*e:o<i?-1*e:0})),n.detach().appendTo(r);else{!t.autoLoadMarketPrice&&window.location.href.includes("history")&&(n.length>10&&(n.length=10),n.each((function(e,t){$J(t).addClass("active_single_trade single_price_loaded")}))),t.autoLoadMarketPrice||$J(".tradeoffer").removeClass("active_single_trade single_price_loaded"),Qe(),qe(),Wt(),Xt();var a=setInterval((function(){var t=Bt();t.isMarketLoaded&&t.isSteamBySIHLoaded&&"steam"!==t.market&&(clearInterval(a),setTimeout((function(){return mt(e)}),300)),t.isSteamBySIHLoaded&&"steam"===t.market&&(clearInterval(a),setTimeout((function(){return mt(e)}),300))}),100)}}function ht(e){var t="lite"!==Bt().mode?$J(".tradeoffer_list"):$J(".profile_leftcol"),r=t.find(".tradeoffer");r.sort((function(t,r){var n=$J(t).find(".btn_report"),a=$J(r).find(".btn_report"),o=_t(n),i=_t(a);return 1===e?o.toUpperCase().localeCompare(i.toUpperCase()):i.toUpperCase().localeCompare(o.toUpperCase())})),r.detach().appendTo(t)}function vt(e){var t=Bt().mode,r="lite"!==t?$J(".tradeoffer_list"):$J(".profile_leftcol"),n=r.find(".tradeoffer");n.sort((function(r,n){var a="lite"!==t?$J(r).find(".tradeoffer_items.secondary .sih_lot"):$J(r).find(".tradeoffer_items.secondary .tradeoffer_items_header"),o="lite"!==t?$J(n).find(".tradeoffer_items.secondary .sih_lot"):$J(n).find(".tradeoffer_items.secondary .tradeoffer_items_header"),i=yt(a),s=yt(o);return 1===e?i.toUpperCase().localeCompare(s.toUpperCase()):s.toUpperCase().localeCompare(i.toUpperCase())})),n.detach().appendTo(r)}function _t(e){if(1===e.length){var t=e.attr("onclick").match(/'(\d*)',\s"(.+)"/)[2],r=t.match(/\\u[\w\d]{4}/g);return r?Zt(t,r):t}}function yt(e){if(1===e.length)return e.contents()[0].data}function gt(){var e=$J(".sih_tradeoffer"),t=!1;return e.find(".sih_tradeoffer_items_rule_percent").each((function(e,r){$J(r).attr("data-profit-percent")&&(t=!0)})),t}function bt(e){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt(e)}function St(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=bt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=bt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wt(e){var t,r;t=e,($J(".sih_tradeoffer.active_single_trade").length>0?$J(".sih_tradeoffer.active_single_trade"):$J(".sih_tradeoffer")).each((function(e,r){$J(r).children(".tradeoffer_items_ctn").children(".tradeoffer_items").each((function(e,r){if(0!==$J(r).children(".tradeoffer_item_list").find(".trade_item").length){var n=[],a=$J(r).find(".price_flag");$J(a).each((function(e,t){if(!$J(t).hasClass("original")){var r=$J(t).attr("class").replace(/price_flag /g,"").replace(/default/g,"");0!==n.length&&n.includes(r)||n.push(r)}}));var o=$J(r).find(".sih_lot_item");$J(o).each((function(e,r){1===e&&($J(r).find(".icon").remove(),$J(n).each((function(e,n){t.toLowerCase()===n?$J(r).append('<span class="icon '.concat(n,'"></span>')):$J(r).prepend('<span class="icon '.concat(n,'"></span>'))})))}))}}))})),function(e){($J(".sih_tradeoffer.active_single_trade").length>0?$J(".sih_tradeoffer.active_single_trade"):$J(".sih_tradeoffer")).each((function(t,r){var n=[];$J(r).children(".tradeoffer_items_ctn").children(".tradeoffer_items").each((function(t,a){if(0!==$J(a).children(".tradeoffer_item_list").find(".trade_item").length){var o=$J(a).find(".price_flag");$J(o).each((function(e,t){if(!$J(t).hasClass("original")){var r=$J(t).attr("class").replace(/price_flag /g,"").replace(/default/g,"");0!==n.length&&n.includes(r)||n.push(r)}}));var i=$J(r).find(".sih_tradeoffer_items_rule_price");$J(i).each((function(r,a){t===r&&($J(a).find(".icon").remove(),$J(n).each((function(t,r){e.toLowerCase()===r?$J(a).children(".row").children(".icons").append('<span class="icon '.concat(n[t],'"></span>')):$J(a).children(".row").children(".icons").prepend('<span class="icon '.concat(n[t],'"></span>'))})))}))}}))}))}(e),r=at(),($J(".tradeoffer.active_single_trade").length>0?$J(".tradeoffer.active_single_trade"):$J(".tradeoffer")).find(".sih_tradeoffer_items_rule_price").each((function(e,t){$J(t).find(".rule_total_price").remove();var n=v.A.getCurrency(currencyId),a=Number(r[e]).toLocaleString("ru-RU").replace(/,/,".").trim().split(".");$J(t).children(".row").append('<div class="rule_total_price" data-total-price="'.concat(r[e],'">\n          <span class="text">').concat(a[0],"</span>\n        </div>")),a.length>1&&$J(t).children(".row").find(".rule_total_price").append('<span class="text text_light">.'.concat(a[1],"</span>")),n.bSymbolIsPrefix?$J(t).children(".row").find(".rule_total_price").prepend('<span class="text">'.concat(n.strSymbol," </span>")):$J(t).children(".row").find(".rule_total_price").append('<span class="text"> '.concat(n.strSymbol,"</span>"))})),function(){var e=at();($J(".sih_tradeoffer.active_single_trade").length>0?$J(".sih_tradeoffer.active_single_trade"):$J(".sih_tradeoffer")).find(".sih_lot").each((function(t,r){0!==$J(r).parent().find(".trade_item").length&&$J(r).find(".sih_lot_item").each((function(r,n){if(1===r){$J(n).find(".text").remove();var a=v.A.getPriceFromCurrency(Number(e[t]),currencyId,currencyId).text;$J(n).append('<span class="text">'.concat(a,"</span>"))}}))}))}(),($J(".sih_tradeoffer.active_single_trade").length>0?$J(".tradeoffer.active_single_trade"):$J(".tradeoffer")).each((function(e,t){var r,n=[];$J(t).find(".rule_total_price").each((function(e,t){var r=$J(t).data().totalPrice;n.push(Number(r))}));var a=$J(t).find(".sih_tradeoffer_items_rule_percent");if($J(a).find(".text").remove(),$J(a).hasClass("normal")?$J(a).removeClass("normal"):$J(a).hasClass("profit")?$J(a).removeClass("profit"):$J(a).hasClass("lose")&&$J(a).removeClass("lose"),$J(location).attr("href").includes("sent"))if(0===n[0]&&0===n[1])$J(a).prepend('<span class="text rule-percent">0</span>'),$J(a).attr("data-profit-price","0"),$J(a).attr("data-profit-percent","0");else if(0===n[0]){r=100,a.addClass("profit"),$J(a).prepend('<span class="text rule-percent">'.concat(Math.abs(r),"%</span>"));var o=v.A.getPriceFromCurrency(Number(n[1]),currencyId,currencyId).text;$J(a).attr("data-profit-price","".concat(o)),$J(a).attr("data-profit-percent","".concat(Math.abs(r)))}else if(0===n[1]){r=-100,a.addClass("lose"),$J(a).prepend('<span class="text rule-percent">'.concat(Math.abs(r),"%</span>"));var i=v.A.getPriceFromCurrency(Number(n[0]),currencyId,currencyId).text;$J(a).attr("data-profit-price","-".concat(i)),$J(a).attr("data-profit-percent","".concat(Math.abs(r)))}else{r=100*n[1]/n[0]-100,$J(a).prepend('<span class="text rule-percent">'.concat(Math.abs(r.toFixed(2)),"%</span>"));var s=v.A.getPriceFromCurrency(Number((n[1]-n[0]).toFixed(2)),currencyId,currencyId).text;$J(a).attr("data-profit-price","".concat(s)),$J(a).attr("data-profit-percent","".concat(Math.abs(r))),r>3?($J(a).find(".text").text("".concat(Math.abs(r.toFixed(2)),"%")),$J(a).attr("data-profit-percent","".concat(Math.abs(r))),$J(a).addClass("profit")):r<-3?$J(a).addClass("lose"):r>-3&&r<3&&$J(a).addClass("normal")}else if(0===n[0]&&0===n[1])$J(a).prepend('<span class="text rule-percent">0</span>'),$J(a).attr("data-profit-price","0"),$J(a).attr("data-profit-percent","0");else if(0===n[1]){r=100,a.addClass("profit"),$J(a).prepend('<span class="text rule-percent">'.concat(Math.abs(r),"%</span>"));var c=v.A.getPriceFromCurrency(Number(n[0]),currencyId,currencyId).text;$J(a).attr("data-profit-price","".concat(c)),$J(a).attr("data-profit-percent","".concat(Math.abs(r)))}else if(0===n[0]){r=-100,a.addClass("lose"),$J(a).prepend('<span class="text rule-percent">'.concat(Math.abs(r),"%</span>"));var l=v.A.getPriceFromCurrency(Number(n[1]),currencyId,currencyId).text;$J(a).attr("data-profit-price","-".concat(l)),$J(a).attr("data-profit-percent","".concat(Math.abs(r)))}else{r=100*n[0]/n[1]-100,$J(a).prepend('<span class="text rule-percent">'.concat(Math.abs(r.toFixed(2)),"%</span>"));var d=v.A.getPriceFromCurrency(Number((n[0]-n[1]).toFixed(2)),currencyId,currencyId).text;$J(a).attr("data-profit-price","".concat(d)),$J(a).attr("data-profit-percent","".concat(Math.abs(r))),r>3?($J(a).find(".text").text("".concat(Math.abs(r.toFixed(2)),"%")),$J(a).addClass("profit")):r<-3?$J(a).addClass("lose"):r>-3&&r<3&&$J(a).addClass("normal")}})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"steam",t=$J(".sih_tradeoffer.active_single_trade").length>0?$J(".sih_tradeoffer.active_single_trade"):$J(".sih_tradeoffer"),r=new RegExp("[0-9]*[.,]?[0-9]+");t.each((function(t,n){$J(n).children(".tradeoffer_items_ctn").children(".tradeoffer_items").each((function(t,a){var o={};if(0!==$J(a).children(".tradeoffer_item_list").find(".trade_item").length){var i=$J(a).find(".price_flag");$J(i).each((function(e,t){if($J(t).hasClass("steam")||$J(t).hasClass("dmarket")||$J(t).hasClass("buff163")||$J(t).hasClass("bitskins")||$J(t).hasClass("skinport")||$J(t).hasClass("mannco")){var n=$J(t).attr("class").replace(/price_flag /g,"").replace(/default/g,"").trim(),a=t.dataset.price.match(r);o[n]||Object.keys(o)==n?(o[n].price+=Number(a),o[n].count++):o=Object.assign(o,St({},n,{price:Number(a),count:1}))}}));var s=$J(n).find(".sih_tradeoffer_items_rule_price");$J(s).each((function(r,n){if(t===r){$J(n).find(".tooltip").remove(),$J(n).append('\n                <div class="tooltip">\n                  <div class="tooltip-title">'.concat(SIHLang.tradeoffers.cost,'</div>\n                  <div class="tooltip-column"></div>\n                </div>\n              '));var a=$J(n).find(".tooltip .tooltip-column");for(var i in o){var s=v.A.getPriceFromCurrency(Number(o[i].price.toFixed(2)),currencyId,currencyId).text;i===e?a.prepend('<div class="tooltip-row">\n                      <span>'.concat(SIHLang.tradeoffers.items," ").concat(o[i].count,'</span> <span class="icon ').concat(i,'"></span\n                      ><span>').concat(s,"</span>\n                    </div>")):a.append('<div class="tooltip-row">\n                      <span>'.concat(SIHLang.tradeoffers.items," ").concat(o[i].count,'</span> <span class="icon ').concat(i,'"></span\n                      ><span>').concat(s,"</span>\n                    </div>"))}}}))}}))}))}(e),($J(".sih_tradeoffer.active_single_trade").length>0?$J(".tradeoffer.active_single_trade"):$J(".tradeoffer")).each((function(e,t){var r,n=$J(t).find(".sih_tradeoffer_items_rule_percent");n.find(".profit_info").remove(),r=$J(n[0]).data()?n[0].dataset.profitPrice:0,n.hasClass("profit")?n.append('<span class="profit_info">+'.concat(r,"</span>")):n.append('<span class="profit_info">'.concat(r,"</span>"))})),($J(".tradeoffer.active_single_trade").length>0?$J(".tradeoffer.active_single_trade"):$J(".tradeoffer")).each((function(e,t){var r,n=$J(t).find(".sih_tradeoffer_items_rule_percent"),a=$J(t).find(".accept_trade");a.find(".profit-price").remove(),r=$J(n[0]).data()?n[0].dataset.profitPrice:0,n.hasClass("profit")?a.append('<span class="profit-price profit">+'.concat(r,"</span>")):a.append('<span class="profit-price lose">'.concat(r,"</span>"))})),Oe("reload")}function It(){var e,t=Bt();!function(){var e=$J(location).attr("href"),t=Bt(),r='\n    <div class="sih_filter filter  '.concat("lite"===t.mode?"absolute":"",'">\n      <div class="filter_column">\n        ').concat("lite"!==t.mode?'\n           <div class="filter_row">\n                <span class="text text_bold"> '.concat(e.includes("sent")?SIHLang.tradeoffers.filter.title_sent:SIHLang.tradeoffers.filter.title_incoming,"</span>\n           </div>\n        "):"",'\n\n        <div class="filter_row filter_row--between">\n          <div class="filter_row filter--left-side"></div>\n\n          ').concat("lite"!==t.mode?'<div class="filter_row">\n             <button class="filter_page minimized active">\n              <svg width="17" height="14" viewBox="0 0 17 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M0 0V2H17V0H0ZM0 6H17V4H0V6ZM0 14H17V12H0V14ZM0 10H17V8H0V10Z" fill="white"/>\n              </svg>\n            </button>\n            <button class="filter_page full">\n              <svg width="18" height="14" viewBox="0 0 18 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M0 0H18V6H0V0ZM0 8H18V14H0V8Z" fill="white"/>\n              </svg>\n            </button>\n          </div>':"","\n        </div>\n      </div>\n    </div>\n  ");e.match("privacy")||e.includes("tradetopics")||("lite"!==t.mode?$J(".profile_leftcol").prepend(r):$J(".profile_small_header_texture").append(r))}(),lt(),Ee(),ft(),st(),e=Vt(),$J(".filter").height(e+10),function(){var e=Bt();if(!e.markets||e.markets){var t=["steam","buff163","dmarket","bitskins","skinport","mannco"];e.markets=t||[];var r=JSON.stringify(e);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",r)}}(),kt(t.autoLoadMarketPrice)}function kt(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Bt();if(!t||!t.autoLoadMarketPrice||t.autoLoadMarketPrice){t.autoLoadMarketPrice=e;var r=JSON.stringify(t);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",r)}}function Ct(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r={};jt().find(".trade_item").each((function(t,n){n.rgItem&&ExternalPrices[n.rgItem.appid]&&(r=Object.assign(r,ExternalPrices[n.rgItem.appid].apis.find((function(t){return t.name.toLowerCase()===e}))),0===Object.keys(r).length&&(r=Object.assign(r,ExternalPrices[730].apis.find((function(t){return t.name.toLowerCase()===e})))))})),Xt(null,!1,!0,r,t)}function $t(e){return $t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$t(e)}function Jt(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Lt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Lt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function Lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function xt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(r),!0).forEach((function(t){Pt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=$t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=$t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$t(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Et,Ot={},Tt=10,Nt=0,Dt=[];function Ht(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=jt();e?(t.length=e,t.addClass("single_price_loaded active_single_trade"),Et=t.find(".trade_item").length):Et=t.find(".trade_item").length}function Rt(e,t,r,n){Nt++;var a=0,o=1;if(t){if(e.rgItem=At(At({},t),{},{prefix:r}),$J(e).addClass("app".concat(e.rgItem.appid)),"730"===e.rgItem.appid){var i,s=Jt(e.rgItem.descriptions);try{for(s.s();!(i=s.n()).done;){var c=i.value;if(c.value.includes("sticker_info")){var l=c.value,d=$J.parseHTML(l);a=$J(d[1]).find("img").length;var u='<div class="sih_trade_item_sticker">\n                            <span>'.concat(a,"</span>\n                         </div>");$J(e).append(u)}}}catch(e){s.e(e)}finally{s.f()}}var f=e.rgItem.appid;0!==Dt.length&&Dt.includes(f)||Dt.push(f);var p=$J(".tradeoffer.active_single_trade");if(p.length>=1){var m=[];p.each((function(e,t){var r=$J(t);Dt.forEach((function(e){0!==r.find("div.item.app".concat(e)).length&&(m.includes(e)||m.push(e))}))})),Dt=m}Nt===Et&&(n.name&&"steam"===n.name.toLowerCase()?$J(Dt).each((function(e,t){n.nameForApi="steamLiveSell",MarketplaceSource.GetPrices(t,{market:n.name,currencies:[],nameMarkerForApi:n.nameForApi,marketSort:n.sort},!1,(function(){if(o!==Dt.length)o++;else{var e=Bt();e.isSteamBySIHLoaded=!0,Gt(e)}}),!0)})):$J(Dt).each((function(e,t){MarketplaceSource.GetPrices(t,{market:n.name,currencies:[],nameMarkerForApi:n.nameForApi,marketSort:n.sort},!1,(function(){if(o!==Dt.length)o++;else{var e=Bt();e.isMarketLoaded=!0,Gt(e)}}),!0)})))}}function Mt(){return["steam","buff163","dmarket","bitskins","skinport","mannco"]}function jt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e)return Et=e.find(".trade_item").length,e;var t=$J(".tradeoffer.single_price_loaded");if(0===t.length){var r=$J(".tradeoffer");return Et=r.find(".trade_item").length,r}return Et=t.find(".trade_item").length,t}function Ut(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;if(e.rgItem)r?Rt(e,e.rgItem,e.rgItem.prefix,n):(e.inited=!0,Qt(e.rgItem.prefix,e.rgItem,e));else{var a=t.split("/");if(5===a.length&&a.pop(),3==a.length||4==a.length){r||(e.inited=!0);var o=null,i=a[0];if("classinfo"==i){o="economy/itemclasshover/"+(i=a[1])+"/"+a[2]+"/"+(a.length>3?a[3]:0),o+="?content_only=1&l=english"}else{var s=a[1],c=a[2];if(null!=Ot[i+"/"+s+"/"+c])return;o="economy/itemhover/"+i+"/"+s+"/"+c;if(o+="?content_only=1&omit_owner=1&l=english",4==a.length&&a[3]){var l=a[3];0==l.indexOf("id:")?o+="&o_url="+l.substr(3):o+="&o="+l}}$J.ajax({url:window.location.protocol+"//steamcommunity.com/"+o,cache:!0,data:{l:"english"}}).done((function(t){var a=/BuildHover\( '(.*)', (.*)\);/i.exec(t);if(null!==a){var o=a[1],i=JSON.parse(a[2]);r?Rt(e,i,o,n):Qt(o,i,e)}})).error((function(t){Rt(e,null,null,n)}))}}}function Bt(){var e=localStorage.getItem("SIH_TRADEOFFER_ACTIVE_MODE")||"{}";return JSON.parse(e)}function Gt(e){var t=JSON.stringify(e);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",t)}function Ft(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e?jt(e):jt();setTimeout((function(){t.find(".animated-background").fadeOut(),t.find(".animated-background-profit").fadeOut(),t.find(".p-price").show(),t.find(".rule_total_price").css("opacity",1),t.find(".icons").css("opacity",1),t.find(".sih_tradeoffer_items_rule_percent span").css("opacity",1),t.find(".sih_lot_item").each((function(e,t){$J(t).children(".icon").css("opacity",1),$J(t).children(".text").css("opacity",1)}))}),500)}function Wt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e?jt(e):jt();window.location.href.includes("history")&&t.length>Tt&&(t.length=Tt),t.hasClass("lite")||(t.find(".animated-background").fadeIn(),t.find(".animated-background-profit").fadeIn()),t.find(".p-price").hide(),t.find(".sih_tradeoffer_items_rule_percent span").height(50),t.find(".sih_tradeoffer_items_rule_percent span").css("opacity",0),t.find(".rule_total_price").css("opacity",0),t.find(".icons").css("opacity",0),t.find(".sih_lot_item").each((function(e,t){$J(t).children(".icon").css("opacity",0),$J(t).children(".text").css("opacity",0)}))}function Kt(){jt().each((function(e,t){var r=$J(t).find(".sih_tradeoffer_items_rule_percent");r[0]&&"100"===r[0].dataset.profitPercent&&r.hasClass("profit")?$J(t).addClass("profit"):$J(t).removeClass("profit")}))}function Vt(){var e;return $J(".rightcol_controls_content").each((function(t,r){0===t&&(e=$J(r).outerHeight())})),e}function Yt(){var e=window.location.href,t=$J("body").prop("outerHTML"),r=["sent/?history=1","privacy","tradetopics"].find((function(t){return e.includes(t)}));r||(e.includes("tradeoffers/?history=1")?chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_TRADEOFFER_THROUGH_PARSING",data:{endPoint:"tradeoffers/?history=1",txtResponse:t}}):e.includes("tradeoffers/sent")?chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_TRADEOFFER_THROUGH_PARSING",data:{endPoint:"tradeoffers/sent",txtResponse:t}}):chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_TRADEOFFER_THROUGH_PARSING",data:{endPoint:"tradeoffers",txtResponse:t}}))}function zt(){$J(".tradeoffer_footer").find("a").click((function(){var e=$J(this).attr("href");if(e.match(/DeclineTradeOffer/g)){var t=e.match(/\d+/g)[0];setTimeout((function(){$J(".newmodal_content").find(".btn_green_steamui.btn_medium").click((function(){chrome.runtime.sendMessage(window.SIHID,{type:"BACKGROUND_TRADE_DECLINE",data:{tradeOfferId:t}})}))}),100)}}))}function Zt(e,t){for(var r=0;r<t.length;r++)if(e.includes(t[r])){var n=t[r].replace(/\\u/,"").trim(),a=String.fromCharCode(parseInt(n,16));e=e.replace(t[r],a)}return e}function qt(){var e=null;$J("#create_new_url_btn").click((function(){setTimeout((function(){var t=$J("#trade_offer_access_url").val();$J(".newmodal_content").find(".btn_green_steamui.btn_medium").click((function(){e=setInterval((function(){var r=$J("#trade_offer_access_url").val();t!==r&&(clearInterval(e),be.updateTradeLink(r))}),100)}))}),100)}))}function Qt(e,t,r){var n=$J(r).children(".p-price"),a=$J(n).find(".price_flag.original");if(!t.marketable){$J(a).fadeOut("slow");var o=$J('<div class="price_flag"><span>&nbsp No price</span></div>');return o.addClass("no-price"),void $J(r).children(".p-price").prepend(o)}getLowestPriceHandler(t,e,(function(e){var t=$J(r).find(".p-price");t.css("display","flex").show();var n,a,o=t.find(".price_flag.original");0==t.find(".price-flag").length&&(setTimeout((function(){o.attr("data-price","".concat(e.lowestPrice)),o.find(".animated-background.silver").fadeOut("slow")}),500),n=e,(null!=(a=t)?a:$J('div[data-economy-item*="'.concat(n.appid,"/").concat(n.classid).concat(n.instanceid?"/"+n.instanceid:"",'"]'))).parent(".tradeoffer_item_list").each((function(e,t){var r=$J(this),n=r.find(".total_price"),a=0,o=0,i=0,s=0;r.find(".trade_item").each((function(e){s++;var t=this.rgItem;if(t){if(t.lowestPrice){var r=parseInt(100*parseFloat(getPriceAsInt(t.lowestPrice))),n=window.PriceUtils.publisherFee(t,g_rgWalletInfo,.1),c=CalculateFeeAmount(r,n);o+=(r-c.fees)/100,a+=parseFloat(getPriceAsInt(t.lowestPrice))}"undefined"!=t.gemPrices&&null!=t.gemPrices&&$J.each(t.gemPrices,(function(e,t){i+=parseFloat(getPriceAsInt(t.lowestPrice))}))}null==this.inited&&Ut(this,$J(this).attr("data-economy-item"))}));var c=formatNumberV2(a)+" ("+formatNumberV2(o)+")";i>0&&(c+=" - Gems total price: "+formatNumberV2(i)),c+=' <span style="float: right; padding-right: 15px">'+s+" item(s)</span>",r.find(".price-flag.no-price").length>0&&n.addClass("warning"),n.html(c)})),function(e,t){var r,n=$J(e).parent().parent().find(".offer_price"),a=$J(e).parent().parent().find(".steam-total-price"),o=new RegExp("[0-9]*[.,]?[0-9]+"),i=t.lowestPrice.match(o);i=i?i[0].replace(/,/g,"."):0,1===n.length?(r=0,r+=Number(i),$J(n).replaceWith('<span class="text steam-total-price">'.concat(r.toFixed(2),"</span>"))):(r=Number($J(a).text()),r+=Number(i),$J(a).text(r.toFixed(2)))}(r,e))})),Ot["".concat(t.appid,"/").concat(t.classid).concat(t.instanceid?"/"+t.instanceid:"")]=t,$J('div[data-economy-item*="'.concat(t.appid,"/").concat(t.classid).concat(t.instanceid?"/"+t.instanceid:"",'"]')).each((function(e,r){this.rgItem=t}))}function Xt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{name:"Steam",sort:13},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Nt=0;var a=Bt();if(e)e.find(".trade_item").each((function(){var e=this;if(null==e.inited){Ut(e,$J(e).attr("data-economy-item"));var r=$J(e).find(".p-price");$J(r).prepend('<div class="price_flag original">\n            <span class="animated-background silver small fake-price"></span>\n          </div>')}else t&&(e.inited=null,Ut(e,$J(e).attr("data-economy-item")))}));else{if(n){var o=jt(n);o.find(".trade_item").each((function(e,t){Ut(t,$J(t).attr("data-economy-item"),!0,r,o)}))}else{var i=jt();window.location.href.includes("history")&&(i.length>Tt&&(i.length=Tt),Ht(i.length)),i.find(".trade_item").each((function(e,t){Ut(t,$J(t).attr("data-economy-item"),!0,r)}))}if(!a.isMarketLoaded&&r.name&&"steam"===r.name.toLowerCase())var s=setInterval((function(){var e=Bt();e.isSteamBySIHLoaded&&(clearInterval(s),"steam"!==e.market&&Ct(e.market,n),er(n))}),100);else er(n)}}function er(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=setInterval((function(){var r=Bt();(r.isMarketLoaded&&"steam"!==r.market&&ExchangeRates._rates||r.isSteamBySIHLoaded&&"steam"===r.market&&ExchangeRates._rates)&&(clearInterval(t),wt(r.market),Ft(e),Kt())}),100)}function tr(){setTimeout((function(){$J(".accept_trade").click((function(){if($J(this).prop("disabled"))return!1;var e=$J(this).parent().parent().parent(),t=$J(e).find(".sih_tradeoffer_footer"),r="",n="",a=$J(e).prop("id").substring(13),o=$(e).find(".btn_report").attr("onclick").match(/'(\d*)',\s"(.+)"/)[1];if(_tradesTimers[a])return window.clearInterval(_tradesTimers[a].timer),_tradesTimers[a]=null,$J(this).html(SIHLang.tradeoffers.fast_accept),!1;var i=$J(this);return i.html(SIHLang.tradeoffers.accepting),i.prop("disabled",!0),rr(a,o).then((function(e){e.needs_mobile_confirmation||e.needs_email_confirmation?r=SIHLang.tradeoffers.mobile_confirmation:(n="accepted",r=SIHLang.tradeoffers.trade_accepted,chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_UPDATE_TRADE_STATUS",data:{tradeOfferId:a,tradeState:"accepted"}},(function(e){}))),t.find(".tradeoffer_footer_actions").hide()})).catch((function(e){r=SIHLang.tradeoffers.not_accept})).finally((function(){i.remove(),t.append('<div class="tradeoffer_items_banner '.concat(n,'" style="margin: 0; position: relative; width: 100%">\n              ').concat(r,"\n            </div>"))})),!1}))}),200)}Ht();var rr=function(e,t){return new Promise((function(r,n){var a=new Headers;a.append("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");var o=new Request("https://steamcommunity.com/tradeoffer/".concat(e,"/accept"),{method:"POST",headers:a,referrer:"https://steamcommunity.com/tradeoffer/".concat(e,"/"),body:"sessionid=".concat(g_sessionID,"&serverid=1&tradeofferid=").concat(e,"&partner=").concat(t,"&captcha=")});fetch(o).then((function(e){if(e.ok)return e.json();"Error code: ".concat(e.status," Status: ").concat(e.statusText),n({status:e.status,statusText:e.statusText})})).then((function(e){r(e)})).catch((function(e){n(e)}))}))},nr=function(){or()},ar=function(e){var t=ir.get(),r=e.data("miniprofile");if(t.length){var n=t.findIndex((function(e){return e.miniProfile===r}));-1===n?(t.push({miniProfile:r,ts:Date.now()}),t.length>10&&t.sort((function(e,t){return t.ts-e.ts})).splice(t.length-1,1)):t[n].ts=Date.now()}else t.push({miniProfile:r,ts:Date.now()});ir.set(t)},or=function(){$J(".newmodal:visible").addClass("sih-friends");var e=$J(".newmodal_content").addClass("sih_newmodal_content").find(".player_list_ctn"),t=$J(".newmodal_header:visible"),r=$J('\n    <div class="sih-friends__header sih-global">\n      <div class="sih-friends__powered"></div>\n    </div>\n  ');t.find(".sih-friends__header").length||(t.append(r),t.find(".title_text").appendTo(".sih-friends__header"));var n=$J('\n    <div class="sih-latest-friends sih-global">\n      <div class="row justify-between">\n        <span class="text text_light-grey">'.concat(SIHLang.tradeoffers.latest_friends.title,'</span>\n      </div>\n\n      <div class="sih-latest-friends__content"></div>\n    </div>\n  ')),a=ir.get();if(a.length)a.sort((function(e,t){return t.ts-e.ts})).forEach((function(t){var r=e.find(".friendBlock[data-miniprofile=".concat(t.miniProfile,"]"));if(r.length){var a=$J(r[0].outerHTML);a.off("click").click((function(){r.trigger("click")})),n.find(".sih-latest-friends__content").append(a)}}));else{var o=$J('<span class="text text_white">'.concat(SIHLang.tradeoffers.latest_friends.empty_list,"</span>"));n.find(".sih-latest-friends__content").append(o)}e.before(n)},ir={_name:"SIH_LATEST_FRIENDS",get:function(){return g(this._name)||[]},set:function(e){y(this._name,e)}};function sr(){var e,t;e=jt(),t='<div class="row">\n      <div class="sih_lot_item">\n        <span class="icon default"></span>\n        <a href="javascript:void(0);" class="offer_price text text_blue">'.concat(SIHLang.tradeoffers.load_prices,'</a>\n      </div>\n      <div class="sih_lot_item">\n        <span class="icon"></span>\n        <span class="text"></span>\n      </div>\n    </div>'),$J(".tradeoffer_items_header").addClass("sih sih_lot"),$J(".sih_lot").append(t),e.find(".sih_lot_item .icon").after('<span class="animated-background small"></span>'),$J(".tradeoffer_item_list").each((function(e,t){var r=0;r=$J(t).find(".trade_item").length,$J(t).parent().children(".sih_lot").children(".row").each((function(e,t){$J(t).prepend('<span class="text">'.concat(SIHLang.tradeoffers.lots," - ").concat(r," |</span>"))}))}))}var cr=function(){$J("body").on("click",".settings-list .switcher",(function(){w.setSync(this.dataset.settingsKey,this.checked)}))},lr=function(){$J("body").on("click",(function(e){$J(e.target).closest(".sih-trade-settings-modal").length||($J(".sih-trade-settings-modal").hide(),$J(".sih-trade-settings-modal .settings-list").empty())}))},dr=function(){$J("body").on("click",".sih_panel_mode .sih-settings__btn",(function(e){$J(".sih-trade-settings-modal").is(":visible")?$J(".sih-trade-settings-modal").hide():hr()}))};function ur(e){return ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ur(e)}function fr(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */fr=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function d(e,t,r,n){var o=t&&t.prototype instanceof _?t:_,i=Object.create(o.prototype),s=new A(n||[]);return a(i,"_invoke",{value:$(e,r,s)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var f="suspendedStart",p="suspendedYield",m="executing",h="completed",v={};function _(){}function y(){}function g(){}var b={};l(b,i,(function(){return this}));var S=Object.getPrototypeOf,w=S&&S(S(P([])));w&&w!==r&&n.call(w,i)&&(b=w);var I=g.prototype=_.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==ur(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function $(t,r,n){var a=f;return function(o,i){if(a===m)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=J(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?h:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=h,n.method="throw",n.arg=l.arg)}}}function J(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,J(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=u(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(ur(t)+" is not iterable")}return y.prototype=g,a(I,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:y,configurable:!0}),y.displayName=l(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,c,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},k(C.prototype),l(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new C(d(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(I),l(I,c,"Generator"),l(I,i,(function(){return this})),l(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(x),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return s.type="throw",s.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function pr(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}var mr=function(){vr(),cr(),lr(),dr()},hr=function(){var e,t=(e=fr().mark((function e(){var t,r;return fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=["autoaccept","sih_market_autoaccept_trades_toggle","autocheckofferprice","autodecline"],e.next=3,w.getSync(t);case 3:r=e.sent,t.forEach((function(e){$J(".sih-trade-settings-modal .settings-list").append('<div class="settings-list__item">\n        <div>'.concat(SIHLang.tadeoffer_settings.list[e],'</div>\n        <input\n          class="switcher"\n          type="checkbox"\n          data-settings-key="').concat(e,'"\n          ').concat(r[e]?"checked":"","\n        />\n      </div>"))})),$J.switcher(".settings-list .switcher"),$J(".sih-trade-settings-modal").show();case 7:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){pr(o,n,a,i,s,"next",e)}function s(e){pr(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),vr=function(){var e=$J(".sih_panel_mode .sih-settings");e.find(".sih-trade-settings-modal").length||e.append('<div class="sih-trade-settings-modal sih-global" style="display: none">\n    <div class="settings-list"></div>\n  </div>')};function _r(){var e,t=' <div class="sih_panel_mode row sih-global">\n    <div class="sih_bg"></div>\n    <div class="sih_status_container">\n      <a\n        href="javascript:void(0)"\n        class="sih_status_button '.concat(IS_ENABLED_SIH?"on":"off",'"\n        data-enabled="').concat(IS_ENABLED_SIH,'"\n      >\n        <div class="sih_status_icon"></div>\n        <div class="sih_status_text">SIH ').concat(IS_ENABLED_SIH?"ON":"OFF",'</div>\n      </a>\n      <div class="sih-settings">\n        <div class="sih-settings__btn">\n          <div>').concat(SIHLang.tadeoffer_settings.btn_text,'</div>\n          <img class="w-16" src="chrome-extension://').concat(SIHID,'/assets/settings.svg" alt="settings" />\n        </div>\n      </div>\n    </div>\n    <div class="sih_tradeoffer_mode">\n      <a href="javascript:void(0)" class="sih_tradeoffer_mode_button lite">Lite</a>\n      <a href="javascript:void(0)" class="sih_tradeoffer_mode_button full">Full</a>\n    </div>\n  </div>');$J(".profile_small_header_texture").append(t),$J(".sih_panel_mode").fadeIn("slow"),$J(".sih_panel_mode").css("display","flex"),$J(".sih_status_button").click((function(){var e=$J(this).data("enabled");w.setSync("enabledSih_tradeofferrevPage",!e).then((function(){window.location.reload()}))})),e=$J(".sih_tradeoffer_mode"),function(){var e=$J(".sih_tradeoffer_mode"),t=Bt();!t||t&&!t.mode?(e.find(".sih_tradeoffer_mode_button.lite").addClass("active"),t.mode="lite",Gt(t)):e.find(".sih_tradeoffer_mode_button.".concat(t.mode)).addClass("active")}(),e.find(".sih_tradeoffer_mode_button").each((function(e,t){$J(t).off("click").click((function(){var e=Bt(),t=$J(this);t.hasClass("lite")&&!t.hasClass("active")?(t.addClass("active").siblings().removeClass("active"),e.mode="lite",Gt(e),window.location.reload()):t.hasClass("full")&&!t.hasClass("active")&&(t.addClass("active").siblings().removeClass("active"),e.mode="full",Gt(e),window.location.reload())}))})),mr()}function yr(){}function gr(){var e,t,r=Bt();e=$J(".profile_leftcol"),t=window.location.href,e.find(".tradeoffer").addClass("lite"),t.includes("history")&&e.find(".tradeoffer").addClass("history"),Qe(),qe(),r.autoLoadMarketPrice&&Xt(),tr()}SIH=n})();