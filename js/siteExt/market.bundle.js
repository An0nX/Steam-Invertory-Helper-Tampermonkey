var SIH;(()=>{"use strict";var __webpack_modules__={6703:(e,t,n)=>{n.r(t),n.d(t,{App:()=>O,BuyOrders:()=>G,FormatNumberWithSuffix:()=>J,ModifyHoverItemName:()=>$,SKIN_WEAR_MAP:()=>E,SellListing:()=>D,SihUserPrices:()=>B,formatNumber:()=>M,formatNumberToLocalRu:()=>H,getLocation:()=>L,getPageParams:()=>T,getPercentNumberDifference:()=>N,getPriceFromSteam:()=>R,parseNumber:()=>P});var i,r,a=n(3080),o=null,s=function(e,t){l(t),c(e),f(t)},l=function(e){var t=$J("body"),n=$J('\n    <div id="sih-user-confirm-description" class="sih-user-confirm-description">\n      <div class="sih-user-confirm-description__fade"></div>\n\n      <div class="sih-modal sih-global sih-user-confirm-description-tab">\n        <div class="sih-modal__close"></div>\n        <div class="sih-modal__inner sih-modal__column">\n          <div class="sih-user-confirm-description__header">\n            <div class="column gap-2">\n              <span class="text text_white fs-20 lh-28">'.concat(_(e.length),' </span>\n              <span class="text text_grey-200 fs-16 lh-24"\n                >').concat(SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.subtitle,'</span\n              >\n            </div>\n\n            <label for="skip-for-identical-name" class="row items-center gap-4">\n              <input type="checkbox" name="skip-for-identical-name" id="skip-for-identical-name" />\n              <label\n                class="fake-checkbox sih-user-confirm-description__checkbox-label"\n                for="skip-for-identical-name"\n              ></label>\n              <label for="skip-for-identical-name" class="text text_white fs-12"\n                >').concat(SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.remember_identical_text,'</label\n              >\n              <span\n                class="sih-user-confirm-description__tooltip-icon"\n                title="').concat(SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.remember_identical_tooltip,'"\n                ><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <path\n                    fill-rule="evenodd"\n                    clip-rule="evenodd"\n                    d="M22 12C22 6.477 17.523 2 12 2C6.477 2 2 6.477 2 12C2 17.523 6.477 22 12 22C17.523 22 22 17.523 22 12ZM12 7C12.2652 7 12.5196 7.10536 12.7071 7.29289C12.8946 7.48043 13 7.73478 13 8V13C13 13.2652 12.8946 13.5196 12.7071 13.7071C12.5196 13.8946 12.2652 14 12 14C11.7348 14 11.4804 13.8946 11.2929 13.7071C11.1054 13.5196 11 13.2652 11 13V8C11 7.73478 11.1054 7.48043 11.2929 7.29289C11.4804 7.10536 11.7348 7 12 7ZM11 16C11 15.7348 11.1054 15.4804 11.2929 15.2929C11.4804 15.1054 11.7348 15 12 15H12.008C12.2732 15 12.5276 15.1054 12.7151 15.2929C12.9026 15.4804 13.008 15.7348 13.008 16C13.008 16.2652 12.9026 16.5196 12.7151 16.7071C12.5276 16.8946 12.2732 17 12.008 17H12C11.7348 17 11.4804 16.8946 11.2929 16.7071C11.1054 16.5196 11 16.2652 11 16Z"\n                    fill="currentColor"\n                  />\n                </svg>\n              </span>\n            </label>\n          </div>\n          <div class="sih-user-confirm-description-tab__items sih-items"></div>\n        </div>\n      </div>\n    </div>\n  '));n.find(".sih-user-confirm-description__tooltip-icon").tooltip({position:{my:"center bottom",at:"center top-10"},classes:{"ui-tooltip":"sih-user-confirm-description__tooltip"}});var i=m(e);n.find(".sih-items").append(i),t.find(".sih-user-confirm-description").length?(t.find(".sih-user-confirm-description").show(),t.find(".sih-user-confirm-description-tab").show(),$J("body").css("overflow","hidden")):(t.append(n),t.find(".sih-user-confirm-description").show(),t.find(".sih-user-confirm-description-tab").show(),$J("body").css("overflow","hidden"))},c=function(e){d(e),u()},d=function(e){var t=$J("#sih-user-confirm-description");t.find(".sih-items__item").each((function(n,i){var r=$J(i);r.find(".sih-item__button").off("click").click((function(){clearTimeout(o),o=setTimeout((function(){r[0].rgItem.isSkipItemDescriptions=$J("#skip-for-identical-name").is(":checked");var n=r[0].rgItem;e.postMessage({data:n}),t.hide().remove(),$J("body").css("overflow","auto")}),500)}))}))},u=function(){var e=$J("#sih-user-confirm-description");e.on("click",".sih-user-confirm-description__fade, .sih-modal__close",(function(){e.hide().remove(),$J("body").css("overflow","auto")}))},_=function(e){var t,n;return"ru"===window.lang?e%10==1&&e%100!=11?(t=SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p1_v1,n=SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p2_v1):[2,3,4].includes(e%10)&&![12,13,14].includes(e%100)?(t=SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p1_v2,n=SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p2_v2):(t=SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p1_v2,n=SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p2_v3):(t=SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p1_v2,n=1===e?SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p2_v1:SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_2_p2_v3),"".concat(SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_1," ").concat(e," ").concat(t," ").concat(n," ").concat(SIHLang.market.resubmit_orders.user_confirm_descriptions_modal.title_3)},m=function(e){return e.map((function(e){var t=e.descriptions.find((function(e){return"sticker_info"===e.name})),n=t?$J(t.value):null,i=p(n),r=currencyId||1,o=a.A.getPriceFromCurrency((null==e?void 0:e.priceWithoutCommission)/100||0,r,r).text,s=a.A.getPriceFromCurrency((null==e?void 0:e.priceWithCommission)/100||0,r,r).text,l=$J('<div class="sih-items__item sih-item">\n        <div class="sih-item__left-side">\n          <div class="sih-item__image" style="border: 1px solid #'.concat(e.name_color,'">\n            <img src="https://community.fastly.steamstatic.com/economy/image/').concat(e.icon_url,'" alt="" />\n          </div>\n          <div class="sih-item__item-info">\n            <div class="sih-item__name" title="').concat(e.market_hash_name,'">\n              <span class="text text_grey-400 fs-14 bold">').concat(e.market_hash_name,'</span>\n            </div>\n            <div class="sih-item__float-info sih-floats">\n              <div class="sih-floats__spinner">&nbsp;</div>\n            </div>\n          </div>\n          <div class="sih-item__stickers sih-stickers"></div>\n        </div>\n        <div class="sih-item__right-side">\n          <div class="sih-item__price">\n            <span class="text text_white fs-14 lh-14">').concat(o,'</span>\n            <span class="text text_grey-500 fs-12 lh-16">').concat(s,'</span>\n          </div>\n          <div class="sih-item__button">').concat(SIHLang.market.resubmit_orders.relisting,"</div>\n        </div>\n      </div>"));return h(l),l.find(".sih-item__stickers").append(i),l[0].rgItem=e,l}))},h=function(e){var t=e.find(".sih-item__name");t.tooltip({position:{my:"center bottom",at:"center top-10"},classes:{"ui-tooltip":"sih-global sih-item-name__tooltip"}}).on("mouseenter",(function(e){t.not($J(this)).tooltip("close")})).on("mouseleave",(function(e,t){var n=e.target;t||(e.stopImmediatePropagation(),setTimeout((function(){0===$J(".ui-tooltip:hover").length&&$J(n).trigger("mouseleave",[!0])}),250))})),$J("body").on("mouseleave",".ui-tooltip",(function(e){t.tooltip(),t.tooltip("close")}))},f=function(e){var t=$J("#sih-user-confirm-description .sih-items .sih-items__item");e.forEach((function(e,n){var i,r,a=null==e||null===(i=e.actions)||void 0===i||null===(r=i[0])||void 0===r?void 0:r.link.replace("%assetid%",e.assetid).replace("%owner_steamid%",g_steamID);chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_WEAR_VALUE",data:{link:a}},(function(e){var i=$J(t[n]).find(".sih-floats");if(e&&e.success){var r=$J('\n          <div class="sih-floats__item">\n            <div class="row justify-between">\n              <span class="text text_grey-500 fs-12 lh-16 semi-bold">'.concat(SIHLang.sihCases.wear,'</span>\n              <span class="text text_grey-500 fs-12 lh-16 semi-bold">').concat(e.iteminfo.floatvalue,'</span>\n            </div>\n            <div class="sih-floats__float-bar">\n              <div class="sih-floats__float-indicator"></div>\n            </div>\n          </div>\n        '));r.find(".sih-floats__float-indicator").css("left","".concat(271*e.iteminfo.floatvalue-9,"px")),i.find(".sih-floats__spinner").remove(),i.append(r)}else i.find(".sih-floats__spinner").remove()}))}))},p=function(e){var t=[];if(!e)return t;e.find("br").remove();var n=e.find("img"),i=e.find("center").text().split(":");if(2!==i.length)return t;i[0].trim();var r=g(n,i[1]);return n.length===r.length&&(t=r.map((function(e,t){var i=$J('\n        <div class="sih-stickers__item" title="'.concat(e,'">\n          <div class="sih-stickers__image">').concat(n[t].outerHTML,"</div>\n        </div>\n      ")),r=i.find(".sih-stickers__image img");return r.tooltip({position:{my:"center top",at:"center bottom+10"},classes:{"ui-tooltip":"sih-global sih-stickers__tooltip"}}).on("mouseenter",(function(e){r.not($J(this)).tooltip("close")})).on("mouseleave",(function(e,t){var n=e.target;t||(e.stopImmediatePropagation(),setTimeout((function(){0===$J(".ui-tooltip:hover").length&&$J(n).trigger("mouseleave",[!0])}),250))})),$J("body").on("mouseleave",".ui-tooltip",(function(e){i.tooltip(),i.tooltip("close")})),i}))),t},g=function(e,t){if(e.length!=t.split(",").length){t=t.split(",");for(var n=[],i=0;i<t.length;i++)if(t[i].includes("(")&&!t[i].includes(")")){var r="".concat(t[i]+","+t[i+1]);n.push(r),t.splice([i+1],1)}else n.push(t[i]);return n}return t.split(",")};function v(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */v=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),s=new P(i||[]);return r(o,"_invoke",{value:E(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var _="suspendedStart",m="suspendedYield",h="executing",f="completed",p={};function g(){}function b(){}function y(){}var k={};c(k,o,(function(){return this}));var w=Object.getPrototypeOf,C=w&&w(w(O([])));C&&C!==n&&i.call(C,o)&&(k=C);var A=y.prototype=g.prototype=Object.create(k);function I(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(r,a,o,s){var l=u(e[r],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==S(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return a=a?a.then(r,r):r()}})}function E(t,n,i){var r=_;return function(a,o){if(r===h)throw Error("Generator is already running");if(r===f){if("throw"===a)throw o;return{value:e,done:!0}}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var l=L(s,i);if(l){if(l===p)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===_)throw r=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=h;var c=u(t,n,i);if("normal"===c.type){if(r=i.done?f:m,c.arg===p)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=f,i.method="throw",i.arg=c.arg)}}}function L(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),p;var a=u(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(S(t)+" is not iterable")}return b.prototype=y,r(A,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:b,configurable:!0}),b.displayName=c(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,l,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},I(x.prototype),c(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new x(d(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},I(A),c(A,l,"Generator"),c(A,o,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=O,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;T(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:O(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),p}},t}function b(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function w(e,t,n){return(t=x(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,x(i.key),i)}}function I(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function x(e){var t=function(e,t){if("object"!=S(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=S(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==S(t)?t:t+""}var E=new Map([["fn","Factory New"],["mw","Minimal Wear"],["ft","Field-Tested"],["ww","Well-Worn"],["bs","Battle-Scarred"]]);function L(e){var t=(e=decodeURIComponent(e)).match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);return t&&{href:e,protocol:t[1],host:t[2],hostname:t[3],port:t[4],pathname:t[5],search:t[6],hash:t[7]}}function R(e){return new Promise((function(t){Object.keys(e).length>0?chrome.runtime.sendMessage(SIHID,{type:"GET_PRICE_FROM_STEAM",data:e},t):t()}))}function T(e){var t=L(e=e||window.location.href);if(t.pathname.indexOf("market/listings/")>-1){var n=t.pathname.split("/");return{appId:n[3],marketHashName:n[4]+t.hash,location:t}}return{}}function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=".";return(e=e.replace(/[^0-9.,]/g,"")).indexOf(",")>e.indexOf(".")&&(t=","),(e.match(new RegExp("\\"+t,"g"))||[]).length>1&&(t=""),""!==t&&e.length-e.indexOf(t)-1==3&&0!==e.indexOf("0"+t)&&(t=""),e=(e=e.replace(new RegExp("[^0-9"+t+"]","g"),"")).replace(",","."),parseFloat(e)}var O={getManifest:function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"GET_MANIFEST_APP",data:{}},e)})).then((function(e){return e.data}))}};function M(e){return(+e.toFixed(2)).toLocaleString("ru").replace(",",".")}function H(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,o=a.A.getPriceFromCurrency(e,t,n,i,r),s=o.price,l=o.symbolPosition,c=o.symbol;return s>1e5&&(s=Math.ceil(s)),2!==r&&s>.03&&(r=2),"".concat("before"===l?c:""," ").concat((+s.toFixed(r)).toLocaleString("ru").replace(",",".")," ").concat("after"===l?c:"")}function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return Math.round(100*(1-e/t)*100)/100*n}var $=function(e){var t=e.item;$J(".item-hover-name-tooltip").remove(),t.prop("title",SIHLang.market.blockBestOfferOfMarketplaceCopyItemName),t.css({display:"inline-block",cursor:"pointer"}),t.tooltip({position:{my:"center bottom",at:"center top"},tooltipClass:"name-tooltip item-hover-name-tooltip"}),t.off("click").click((function(){var t=$J(this);$J(".name-tooltip").css("opacity",".3").animate({opacity:"1"},"fast"),navigator.clipboard.writeText(e.marketHashName).then((function(){t.tooltip({content:SIHLang.market.blockBestOfferOfMarketplaceCopiedItemName})})).catch((function(e){console.error("Error in copying text: ",e)}))})),t.mouseout((function(){t.tooltip("close"),t.tooltip({content:SIHLang.market.blockBestOfferOfMarketplaceCopyItemName})}))},J=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=a.A.getPriceFromCurrency(e,t,n,r),s=o.price,l=o.symbol,c=o.symbolPosition,d=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}].findLast((function(e){return s>=e.value})),u=d?(s/d.value).toFixed(i).replace(/\.0+$|(?<=\.[0-9]*[1-9])0+$/,"").concat(d.symbol):Math.ceil(100*s)/100;return{price:u,text:"before"===c?"".concat(l," ").concat(u):"".concat(u," ").concat(l),symbol:l,symbolPosition:c}},B=function(){return I((function e(){C(this,e)}),null,[{key:"sendItemData",value:function(e,t,n,i,r,a){try{var o,s,l=JSON.parse(JSON.stringify(e)),c=JSON.parse(JSON.stringify(l.buy_order_graph)),d=JSON.parse(JSON.stringify(l.sell_order_graph));if(!t||5!==i)return!1;if(!g_steamID)return!1;if(0===d.length)return;d.length>5?d.length=5:d.length,c.length>1?c.length=1:c.length;for(var u=[],_=d.length-1;_>=0;_--){var m=d[_][0],h=0!==_?d[_][1]-d[_-1][1]:d[_][1];u.unshift({price:m,count:h})}var f=null==c||null===(o=c[0])||void 0===o?void 0:o[0],p=null==c||null===(s=c[0])||void 0===s?void 0:s[1],g={app_id:t,hash_name:n,prices:u,steamid:g_steamID};if(c.length){var v={price:f,count:p};Object.assign(g,{buy_price:v})}if(r&&Object.keys(r).length&&Object.assign(g,{steamSoldData:r}),a){var b,y;"russian"===a?(b=Number($J.parseHTML(l.buy_order_summary)[1].innerHTML),y=Number($J.parseHTML(l.sell_order_summary)[1].innerHTML)):["koreana","japanese","turkish"].includes(a)?(b=Number($J(l.buy_order_summary)[2].innerHTML),y=Number($J(l.sell_order_summary)[2].innerHTML)):(b=Number($J(l.buy_order_summary)[0].innerHTML),y=Number($J(l.sell_order_summary)[0].innerHTML)),g.orders={buy:b,sell:y}}chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_USER_STEAM_PRICE",data:g})}catch(e){}}}])}(),D=I((function e(){C(this,e)}));i=D,w(D,"SELL_LISTING",{}),w(D,"setItem",(function(e){if(e){var t={sessionid:g_sessionID,steamid:g_steamID,steamLang:g_strLanguage||"english"},n="".concat(e.appid,"/").concat(e.contextid),r="".concat(e.market_hash_name,"/").concat(e.price);if(Object.keys(i.SELL_LISTING).length){var a=i.SELL_LISTING.data.findIndex((function(e){return Object.keys(e)[0]===n}));if(a>=0)if(i.SELL_LISTING.data[a][n].length){var o=i.SELL_LISTING.data[a][n].findIndex((function(e){return Object.keys(e)[0]===r}));if(o<0)i.SELL_LISTING.data[a][n].push(w({},r,[e]));else i.SELL_LISTING.data[a][n][o][r].findIndex((function(t){return t.assetid===e.assetid}))<0&&i.SELL_LISTING.data[a][n][o][r].push(e)}else i.SELL_LISTING.data[a][n].push(w({},r,[e]));else i.SELL_LISTING.data.push(w({},n,[w({},r,[e])]))}else i.SELL_LISTING={data:[w({},n,[w({},r,[e])])],userInfo:t}}})),w(D,"removeItem",(function(e){e&&i.SELL_LISTING&&i.SELL_LISTING.data&&i.SELL_LISTING.data.length&&i.SELL_LISTING.data.forEach((function(t,n){for(var r=function(){var t=y(o[a],2),r=t[0];t[1].forEach((function(t,a){for(var o=0,s=Object.entries(t);o<s.length;o++){var l=y(s[o],2),c=l[0],d=l[1].findIndex((function(t){return t.assetid===e}));d>=0&&(i.SELL_LISTING.data[n][r][a][c].splice(d,1),i.SELL_LISTING.data[n][r][a][c].length||(i.SELL_LISTING.data[n][r].splice(a,1),i.SELL_LISTING.data[n][r].length||i.SELL_LISTING.data.splice(n,1)))}}))},a=0,o=Object.entries(t);a<o.length;a++)r()}))})),w(D,"resellItems",(function(){var e=chrome.runtime.connect(SIHID,{name:"STEAM_RESUBMIT_ITEMS_CONNECTION"});return e.onMessage.addListener(function(){var t,n=(t=v().mark((function t(n){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s(e,n);case 2:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(i,r){var a=t.apply(e,n);function o(e){b(a,i,r,o,s,"next",e)}function s(e){b(a,i,r,o,s,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}()),new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_RESELL_ITEMS",data:i.SELL_LISTING},(function(t){e()}))}))}));var G=I((function e(){C(this,e)}));r=G,w(G,"BUY_ORDERS",[]),w(G,"setItem",(function(e){e&&(r.BUY_ORDERS.length?-1===r.BUY_ORDERS.findIndex((function(t){return t.payload.buy_orderid===e.payload.buy_orderid}))&&r.BUY_ORDERS.push(e):r.BUY_ORDERS.push(e))})),w(G,"removeItem",(function(e){if(e&&r.BUY_ORDERS.length){var t=r.BUY_ORDERS.findIndex((function(t){return t.payload.buy_orderid===e}));-1!==t&&r.BUY_ORDERS.splice(t,1)}})),w(G,"createBuyOrders",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_RESUBMIT_BUY_ORDER",data:r.BUY_ORDERS},(function(t){e()}))}))}))},7123:(e,t,n)=>{n.d(t,{A:()=>w});var i=n(9118);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */a=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",d=s.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function _(e,t,n,i){var r=t&&t.prototype instanceof b?t:b,a=Object.create(r.prototype),s=new P(i||[]);return o(a,"_invoke",{value:E(e,n,s)}),a}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=_;var h="suspendedStart",f="suspendedYield",p="executing",g="completed",v={};function b(){}function y(){}function k(){}var S={};u(S,l,(function(){return this}));var w=Object.getPrototypeOf,C=w&&w(w(O([])));C&&C!==n&&i.call(C,l)&&(S=C);var A=k.prototype=b.prototype=Object.create(S);function I(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(a,o,s,l){var c=m(e[a],e,o);if("throw"!==c.type){var d=c.arg,u=d.value;return u&&"object"==r(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(u).then((function(e){d.value=e,s(d)}),(function(e){return n("throw",e,s,l)}))}l(c.arg)}var a;o(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return a=a?a.then(r,r):r()}})}function E(t,n,i){var r=h;return function(a,o){if(r===p)throw Error("Generator is already running");if(r===g){if("throw"===a)throw o;return{value:e,done:!0}}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var l=L(s,i);if(l){if(l===v)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===h)throw r=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=p;var c=m(t,n,i);if("normal"===c.type){if(r=i.done?g:f,c.arg===v)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=g,i.method="throw",i.arg=c.arg)}}}function L(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),v;var a=m(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[l];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(i.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(r(t)+" is not iterable")}return y.prototype=k,o(A,"constructor",{value:k,configurable:!0}),o(k,"constructor",{value:y,configurable:!0}),y.displayName=u(k,d,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,u(e,d,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},I(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new x(_(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},I(A),u(A,d,"Generator"),u(A,l,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=O,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;T(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:O(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),v}},t}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){l(a,i,r,o,s,"next",e)}function s(e){l(a,i,r,o,s,"throw",e)}o(void 0)}))}}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,m(i.key),i)}}function u(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function h(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function f(e,t){return e.get(function(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}(e,t))}var p=new WeakMap,g=new WeakMap,v=new WeakMap,b=new WeakMap,y=new WeakMap,k=new WeakMap,S=new WeakMap;const w=new(u((function e(){var t,n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,p,"case-open-feat"),h(this,g,"button"),h(this,v,"click"),h(this,b,"n/a"),h(this,y,"n/a"),h(this,k,"n/a"),h(this,S,"n/a"),_(this,"set",function(){var e=c(a().mark((function e(t){var n,i,r,l,d,u,_,m,h;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.group,i=t.target,r=t.targetType,l=t.action,d=t.properties,u=t.lang,_=t.country,m=t.uid,h=t.steamId,e.abrupt("return",new Promise(function(){var e=c(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=chrome.runtime,e.t1=SIHID,e.t2=s,e.t3=s({group:n||o.group,target:i,targetType:r||o.targetType,action:l||o.action},d),e.t4={},e.t5=u||o.lang,e.t6=_||o.country,!m){e.next=11;break}e.t7=m,e.next=14;break;case 11:return e.next=13,o.parseUid();case 13:e.t7=e.sent;case 14:e.t8=e.t7,e.t9=h||o.steamId,e.t10={lang:e.t5,country:e.t6,uid:e.t8,steamId:e.t9},e.t11=(0,e.t2)(e.t3,e.t4,e.t10),e.t12={type:"BACKGROUND_SET_EVENT_REGISTRATION_V2",data:e.t11},e.t13=function(e){t(e)},e.t0.sendMessage.call(e.t0,e.t1,e.t12,e.t13);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_(this,"parseUserInfo",(function(){var e=("function"==typeof $J?$J:$)("#application_config");if(e.length){var t,n,i,r,a,s=e.attr("data-config"),l=e.attr("data-userinfo");return{lang:s?null===(t=JSON.parse(s))||void 0===t||null===(n=t.LANGUAGE)||void 0===n?void 0:n.toLowerCase():f(b,o),country:s?null===(i=JSON.parse(s))||void 0===i||null===(r=i.COUNTRY)||void 0===r?void 0:r.toLowerCase():f(y,o),steamId:l?null===(a=JSON.parse(l))||void 0===a?void 0:a.steamid:f(S,o)}}return{lang:"en",country:"us",steamId:null}})),_(this,"parseUid",c(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=c(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.M.getSync("sih_token");case 2:n=e.sent,r=n.sih_token,t(r||f(k,o));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))));var l=this.parseUserInfo();this.group=f(p,this),this.targetType=f(g,this),this.action=f(v,this),this.lang=null!==(t=window)&&void 0!==t&&t.g_strLanguage?g_strLanguage.toLowerCase():null!=l&&l.lang?null==l?void 0:l.lang:f(b,this),this.country=null!==(n=window)&&void 0!==n&&n.g_strCountryCode?g_strCountryCode.toLowerCase():null!=l&&l.country?null==l?void 0:l.country:f(y,this),this.steamId=null!==(r=window)&&void 0!==r&&r.g_steamID?g_steamID:null!=l&&l.steamId?l.steamId:f(S,this)})))},3080:(e,t,n)=>{function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,o(i.key),i)}}function a(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function s(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function l(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}n.d(t,{A:()=>_});var c=new WeakSet;function d(e){var t=e.match(/(?:AED|ARS\$|A\$|R\$|Br|CDN\$|CHF|CLP\$|¥|COL\$|₡|€|£|HK\$|Rp|₪|₹|¥|₩|KD|₸|Mex\$|RM|kr|원|NZ\$|S\/\.|P|zł|QR|刀币|₽|SR|S\$|฿|TL|NT\$|₴|\$|\$U|₫|R)/);return t?t[0]:""}function u(e){var t=this;return Object.keys(this.g_rgCurrencyData).find((function(n){return t.g_rgCurrencyData[n].strSymbol===e}))||""}const _=new(function(){return e=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,c),a(this,"getPriceFromCurrency",(function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,o=t.getCurrency(+n),s=t.getCurrency(+i),l=r?ExchangeSteamRates[o.strCode]:ExchangeRates._rates[o.strCode],c=r?ExchangeSteamRates[s.strCode]:ExchangeRates._rates[s.strCode];return"USD"===s.strCode&&e?"USD"!=o.strCode&&(e*=l)<.03&&2===a&&(e=.03):s.strCode!=o.strCode&&e&&(e=e/c*l)<.03&&2===a&&(e=.03),2!==a&&e>.03&&(a=2),{price:e||0,code:o.strCode,symbol:o.strSymbol,text:"".concat(o.bSymbolIsPrefix?"".concat(o.strSymbol).concat(o.strSymbolAndNumberSeparator):"").concat(e?e.toFixed(a):0).concat(o.bSymbolIsPrefix?"":"".concat(o.strSymbolAndNumberSeparator).concat(o.strSymbol)),template:"".concat(o.bSymbolIsPrefix?"".concat(o.strSymbol).concat(o.strSymbolAndNumberSeparator):"","$price").concat(o.bSymbolIsPrefix?"":"".concat(o.strSymbolAndNumberSeparator).concat(o.strSymbol)),symbolPosition:o.bSymbolIsPrefix?"before":"after"}})),a(this,"getCurrency",(function(e){var n=null;for(var i in e=e||"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1,t.g_rgCurrencyData)if(t.g_rgCurrencyData[i].eCurrencyCode===+e){n=t.g_rgCurrencyData[i];break}return n})),a(this,"getCurrencyCodeSteam",(function(){return"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1})),a(this,"g_rgCurrencyData",{USD:{strCode:"USD",eCurrencyCode:1,strSymbol:"$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"US",countryCodeAlpha3:"USA"},GBP:{strCode:"GBP",eCurrencyCode:2,strSymbol:"£",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"GB",countryCodeAlpha3:"GBR"},EUR:{strCode:"EUR",eCurrencyCode:3,strSymbol:"€",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"DE",countryCodeAlpha3:"DEU"},CHF:{strCode:"CHF",eCurrencyCode:4,strSymbol:"CHF",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"CH",countryCodeAlpha3:"CHE"},RUB:{strCode:"RUB",eCurrencyCode:5,strSymbol:"₽",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:"",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"RU",countryCodeAlpha3:"RUS"},BRL:{strCode:"BRL",eCurrencyCode:7,strSymbol:"R$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"BR",countryCodeAlpha3:"BRA"},JPY:{strCode:"JPY",eCurrencyCode:8,strSymbol:"¥",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"JP",countryCodeAlpha3:"JPN"},NOK:{strCode:"NOK",eCurrencyCode:9,strSymbol:"kr",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"NO",countryCodeAlpha3:"NOR"},IDR:{strCode:"IDR",eCurrencyCode:10,strSymbol:"Rp",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"ID",countryCodeAlpha3:"IDN"},MYR:{strCode:"MYR",eCurrencyCode:11,strSymbol:"RM",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"MY",countryCodeAlpha3:"MYS"},PHP:{strCode:"PHP",eCurrencyCode:12,strSymbol:"P",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"PH",countryCodeAlpha3:"PHL"},SGD:{strCode:"SGD",eCurrencyCode:13,strSymbol:"S$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"SG",countryCodeAlpha3:"SGP"},THB:{strCode:"THB",eCurrencyCode:14,strSymbol:"฿",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"TH",countryCodeAlpha3:"THA"},VND:{strCode:"VND",eCurrencyCode:15,strSymbol:"₫",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"VN",countryCodeAlpha3:"VNM"},KRW:{strCode:"KRW",eCurrencyCode:16,strSymbol:"₩",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"KR",countryCodeAlpha3:"KOR"},TRY:{strCode:"TRY",eCurrencyCode:17,strSymbol:"TL",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"TR",countryCodeAlpha3:"TUR"},UAH:{strCode:"UAH",eCurrencyCode:18,strSymbol:"₴",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"UA",countryCodeAlpha3:"UKR"},MXN:{strCode:"MXN",eCurrencyCode:19,strSymbol:"Mex$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"MX",countryCodeAlpha3:"MEX"},CAD:{strCode:"CAD",eCurrencyCode:20,strSymbol:"CDN$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"CA",countryCodeAlpha3:"CAN"},AUD:{strCode:"AUD",eCurrencyCode:21,strSymbol:"A$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"AU",countryCodeAlpha3:"AUS"},NZD:{strCode:"NZD",eCurrencyCode:22,strSymbol:"NZ$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"NZ",countryCodeAlpha3:"NZL"},PLN:{strCode:"PLN",eCurrencyCode:6,strSymbol:"zł",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"PL",countryCodeAlpha3:"POL"},CNY:{strCode:"CNY",eCurrencyCode:23,strSymbol:"¥",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"CN",countryCodeAlpha3:"CHN"},INR:{strCode:"INR",eCurrencyCode:24,strSymbol:"₹",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"IN",countryCodeAlpha3:"IND"},CLP:{strCode:"CLP",eCurrencyCode:25,strSymbol:"CLP$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"CL",countryCodeAlpha3:"CHL"},PEN:{strCode:"PEN",eCurrencyCode:26,strSymbol:"S/.",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"PE",countryCodeAlpha3:"PER"},COP:{strCode:"COP",eCurrencyCode:27,strSymbol:"COL$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"CO",countryCodeAlpha3:"COL"},ZAR:{strCode:"ZAR",eCurrencyCode:28,strSymbol:"R",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"ZA",countryCodeAlpha3:"ZAF"},HKD:{strCode:"HKD",eCurrencyCode:29,strSymbol:"HK$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"HK",countryCodeAlpha3:"HKG"},TWD:{strCode:"TWD",eCurrencyCode:30,strSymbol:"NT$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"TW",countryCodeAlpha3:"TWN"},SAR:{strCode:"SAR",eCurrencyCode:31,strSymbol:"SR",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"SA",countryCodeAlpha3:"SAU"},AED:{strCode:"AED",eCurrencyCode:32,strSymbol:"AED",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"AE",countryCodeAlpha3:"ARE"},ARS:{strCode:"ARS",eCurrencyCode:34,strSymbol:"ARS$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"AR",countryCodeAlpha3:"ARG"},ILS:{strCode:"ILS",eCurrencyCode:35,strSymbol:"₪",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"IL",countryCodeAlpha3:"ISR"},BYN:{strCode:"BYN",eCurrencyCode:36,strSymbol:"Br",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"BY",countryCodeAlpha3:"BLR"},KZT:{strCode:"KZT",eCurrencyCode:37,strSymbol:"₸",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"KZ",countryCodeAlpha3:"KAZ"},KWD:{strCode:"KWD",eCurrencyCode:38,strSymbol:"KD",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"KW",countryCodeAlpha3:"KWT"},QAR:{strCode:"QAR",eCurrencyCode:39,strSymbol:"QR",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" ",countryCodeAlpha2:"QA",countryCodeAlpha3:"QAT"},CRC:{strCode:"CRC",eCurrencyCode:40,strSymbol:"₡",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"CR",countryCodeAlpha3:"CRI"},UYU:{strCode:"UYU",eCurrencyCode:41,strSymbol:"$U",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:"",countryCodeAlpha2:"UY",countryCodeAlpha3:"URY"}})},t=[{key:"getCurrencyIdByCode",value:function(e){var t;return(null===(t=g_rgCurrencyData[e])||void 0===t?void 0:t.eCurrencyCode)||null}},{key:"parsePrice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=l(c,this,d).call(this,e),i=l(c,this,u).call(this,n),r=this.g_rgCurrencyData[i],a=r.eCurrencyCode,o=t?r.strThousandsSeparator:1111..toLocaleString().replace(/1/g,""),s=t?r.strDecimalSymbol:1.1.toLocaleString().replace(/1/g,""),_=(o?e.replace(new RegExp("\\"+o,"g"),""):e).replace(new RegExp("\\"+s),".").match(new RegExp(/\d+[0-9,.]?\d*/g)),m=_&&_[0]&&(parseFloat(_[0])||0===parseFloat(_[0]))||NaN;return isNaN(m)?null:{value:m,currencyCode:i,currencySign:n,currencyNumber:a}}}],t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}())},7752:(e,t,n)=>{n.d(t,{A:()=>b});var i,r=n(1029),a=n(6703),o=n(3450),s=n(7123),l=n(8440);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function d(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function _(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var a=t&&t.prototype instanceof b?t:b,o=Object.create(a.prototype),s=new P(i||[]);return r(o,"_invoke",{value:E(e,n,s)}),o}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",f="suspendedYield",p="executing",g="completed",v={};function b(){}function y(){}function k(){}var S={};d(S,o,(function(){return this}));var w=Object.getPrototypeOf,C=w&&w(w(O([])));C&&C!==n&&i.call(C,o)&&(S=C);var A=k.prototype=b.prototype=Object.create(S);function I(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(r,a,o,s){var l=m(e[r],e,a);if("throw"!==l.type){var d=l.arg,u=d.value;return u&&"object"==c(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(u).then((function(e){d.value=e,o(d)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return a=a?a.then(r,r):r()}})}function E(t,n,i){var r=h;return function(a,o){if(r===p)throw Error("Generator is already running");if(r===g){if("throw"===a)throw o;return{value:e,done:!0}}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var l=L(s,i);if(l){if(l===v)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===h)throw r=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=p;var c=m(t,n,i);if("normal"===c.type){if(r=i.done?g:f,c.arg===v)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=g,i.method="throw",i.arg=c.arg)}}}function L(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),v;var a=m(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(c(t)+" is not iterable")}return y.prototype=k,r(A,"constructor",{value:k,configurable:!0}),r(k,"constructor",{value:y,configurable:!0}),y.displayName=d(k,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,d(e,l,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},I(x.prototype),d(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new x(u(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},I(A),d(A,l,"Generator"),d(A,o,(function(){return this})),d(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=O,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;T(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:O(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),v}},t}function m(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){m(a,i,r,o,s,"next",e)}function s(e){m(a,i,r,o,s,"throw",e)}o(void 0)}))}}function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,g(i.key),i)}}function p(e,t,n){return(t=g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=c(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}var v=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,"getLink",(function(t,n,i,r,a){return e._getLink(t,n,i,r,a)})),p(this,"getPriceMarket",(function(e){var t=o.E1.get(),n=!1,i=0,r=0,a=0,s=0,l=0,c=0;return e.data&&(a=e.data.price||0,s=e.data.count||0,e.data.locked&&(l=e.data.locked.price||0,c=e.data.locked.count||e.data.locked.locked||0)),t.isPriceLotsTradeLock?("A"===e.group&&(i=a,r=s),"B"===e.group&&(a?a>l&&l?(i=l,n=!0,r=c):(i=a,r=s):(i=l,r=c,n=!0)),"C"===e.group&&(i=l,r=c,n=!0)):"A"!==e.group&&"B"!==e.group||(i=a,r=s),{price:i,isLock:n,count:r}})),p(this,"makeNewData",(function(){e._statusLoadMarkers=e._statusLoadMarkersEnum.NO_LOADING})),p(this,"loadMarkets",h(_().mark((function t(){var n,i,r,s,l,c,d,u,m=arguments;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=m.length>0&&void 0!==m[0]?m[0]:null,i=m.length>1&&void 0!==m[1]?m[1]:null,m.length>2&&void 0!==m[2]&&m[2]&&(e._statusLoadMarkers=e._statusLoadMarkersEnum.NO_LOADING),e._statusLoadMarkers===e._statusLoadMarkersEnum.NO_LOADING){t.next=6;break}return t.abrupt("return");case 6:if(e._statusLoadMarkers=e._statusLoadMarkersEnum.LOADING,(r=null===n&&null===i?(0,a.getPageParams)():{appId:n,marketHashName:i}).marketHashName=decodeURIComponent(r.marketHashName),r){t.next=11;break}return t.abrupt("return");case 11:if(s=o.vx.get(),l="".concat(r.appId,"_").concat(r.marketHashName),!(s[l]&&Date.now()-s[l].time<e._marketCacheTime)){t.next=18;break}return e._statusLoadMarkers=e._statusLoadMarkersEnum.SUCCESS,e._marketplace||(e._marketplace={}),e._marketplace.markets=s[l].data,t.abrupt("return");case 18:return c=n&&i,t.next=21,e._getMarkets(r.appId,r.marketHashName,c);case 21:d=t.sent,u={appId:r.appId,markets:d.map((function(e){return e.name})),items:[r.marketHashName]},chrome.runtime.sendMessage(SIHID,{type:"GET_PRICES_BY_MARKETPLACES",data:u},(function(t){t&&t.success&&t.items?(e._statusLoadMarkers=e._statusLoadMarkersEnum.SUCCESS,t.items&&t.items[r.marketHashName]&&t.items[r.marketHashName].csmoney&&(t.items[r.marketHashName].csmoney.csmoneyStore&&(t.items[r.marketHashName].csmoneyStore=t.items[r.marketHashName].csmoney.csmoneyStore),t.items[r.marketHashName].csmoney.csmoneyTrade&&(t.items[r.marketHashName].csmoneyTrade=t.items[r.marketHashName].csmoney.csmoneyTrade)),e._marketplace={},e._marketplace.markets=d.map((function(e){return e.data=t.items[r.marketHashName]&&t.items[r.marketHashName][e.name],e})).filter((function(e){return!(!e.data||!(e.data.price||e.data.locked&&e.data.locked.price))})),s[l]={},s[l].data=e._marketplace.markets,s[l].time=Date.now(),o.vx.set(s)):e._statusLoadMarkers=e._statusLoadMarkersEnum.ERROR}));case 24:case"end":return t.stop()}}),t)})))),p(this,"checkLoadMarkets",(function(){var n=[e._statusLoadMarkersEnum.SUCCESS,e._statusLoadMarkersEnum.ERROR].includes(e._statusLoadMarkers);if(n){var i=o.E1.get();i.market&&t.getMarkets().filter((function(e){return e.isView})).forEach((function(e){var t=i.market[e.name];t&&(e.depositPercentage=t.depositPercentage||0,e.fixedDepositPercentage=t.fixedDepositPercentage||0)}))}return n})),p(this,"getMarkets",(function(){return e._marketplace?o.E1.get().isPriceLotsTradeLock?e._marketplace.markets:e._marketplace.markets.filter((function(e){return"A"===e.group||"B"===e.group&&(e.data||{}).price})):[]})),p(this,"getMarketLowerPrice",(function(){var n=null;if(t.checkLoadMarkets()&&e._marketplace&&Array.isArray(e._marketplace.markets)&&e._marketplace.markets.length>0){var i=o.E1.get(),r=function(e,t){return t.isServiceCommission?1+(e||0)/100:1},a=function(e,t){return t.isServiceCommission&&e||0},s=e.excludeBuyMarkets(t.getMarkets()).filter((function(e){return e.isView}));s.length>1?n=s.reduce((function(e,n){var o=t.getPriceMarket(e),s=t.getPriceMarket(n);return o.price*r(e.depositPercentage,i)+a(e.fixedDepositPercentage,i)<s.price*r(n.depositPercentage,i)+a(n.fixedDepositPercentage,i)?e:n})):1===s.length&&(n=s[0])}return n})),p(this,"getOffersCount",(function(n){return e.excludeBuyMarkets(n).reduce((function(e,n){return e+t.getPriceMarket(n).count}),0)})),p(this,"getMarketsForExternal",(function(){return e._markets.filter((function(e){return e.forExternalInjection}))})),p(this,"getAllMarkets",(function(t){return t?e._markets.filter((function(e){return e.appIds.includes(t)})):e._markets}))}return t=e,n=null,i=[{key:"_markets",get:function(){return JSON.parse(JSON.stringify(r.A.markets))}},{key:"_getMarkets",value:(l=h(_().mark((function t(n,i,r){var a,o,l,c,u,m,h;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e._markets.filter((function(e){return e.isView&&e.appIds.includes(n)})),t.next=3,e.getSubscribeAds();case 3:return l=t.sent,c=l.success,u=s.A.parseUserInfo(),m=u.country,c||(o=["RU","BY"].includes(m)?"zh-TW"!==m&&"zh-CN"!==m?o.filter((function(e){if("dmarket"!==e.name&&"igxe"!==e.name)return e.name})):o.filter((function(e){return e.name})):["ZH","CN"].includes(m)?o.filter((function(e){return e.name})):"zh-TW"!==m&&"zh-CN"!==m?o.filter((function(e){return"igxe"!==e.name})):o.filter((function(e){return e.name}))),o.forEach((function(t){t.link=e._getLink(t.name,n,i,r)})),h=e._markets.filter((function(e){return!e.isView})),(a=o).push.apply(a,d(h)),t.abrupt("return",o);case 11:case"end":return t.stop()}}),t)}))),function(e,t,n){return l.apply(this,arguments)})},{key:"_getRandomInt",value:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}},{key:"excludeBuyMarkets",value:function(e){var t=["csgocomBuy"];return e.filter((function(e){return!t.includes(e.name)}))}}],n&&f(t.prototype,n),i&&f(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i,l}();i=v,p(v,"_statusLoadMarkersEnum",{NO_LOADING:"no_loading",LOADING:"loading",ERROR:"error",SUCCESS:"success"}),p(v,"_statusLoadMarkers",i._statusLoadMarkersEnum.NO_LOADING),p(v,"_marketplace",null),p(v,"_marketCacheTime",3e4),p(v,"_getLink",(function(e,t,n,i,r){var a="https://t.sih-db.com/".concat(r?"external-panel":"15GzoA"),o="",s="";if("csgocom"===e||"csgocomBuy"===e){switch(t){case"730":s="csgo.com";break;case"570":s="market.dota2.net";break;case"440":s="tf2.tm";break;case"252490":s="rust.tm";break;default:return}o="".concat(a,"?subid1=").concat(encodeURIComponent("?s=price&t=all&search=".concat(n,"&sd=asc")),"&subid2=").concat(s).concat(i?"-side-menu":"")}if("csmoneyStore"===e&&(o="".concat(a,"?subid1=").concat(encodeURIComponent("".concat(n)),"&subid2=cs.moneyStore").concat(i?"-side-menu":"")),"csmoneyTrade"===e&&(o="".concat(a,"?subid1=").concat(encodeURIComponent("".concat(n)),"&subid2=cs.moneyTrade").concat(i?"-side-menu":"")),"skinport"===e){var c=n.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"-").replace(/^-+|-+$/g,""),d="";"570"===t?d="/dota2":"440"===t?d="/tf2":"252490"===t&&(d="/rust"),o="".concat(a,"?subid1=").concat(encodeURIComponent("".concat(d,"/market?search=").concat(c,"&sort=price&order=asc")),"&subid2=skinport").concat(i?"-side-menu":"")}if("bitskins"===e){var u="";switch(t){case"730":u="csgo";break;case"570":u="dota2";break;case"440":u="tf2"}o="".concat(a,"?subid1=").concat(encodeURIComponent("".concat(u,'?ref_alias=sihfree&search={"order":[{"field":"price","order":"ASC"}],"where":{"skin_name":"').concat(n,'"}}')),"&subid2=newBitskins").concat(i?"-side-menu":"")}if("bitskinsp2p"===e){var _=n.replace(/ /g,"+");o="".concat(a,"?subid1=").concat(encodeURIComponent('?search={"where":{"name":"'.concat(_,'"}}')),"&subid2=p2p-bitskins").concat(i?"-side-menu":"")}if("skinbaron"===e){n=n.replace("Souvenir Package","");var m="";"730"===t?m="/csgo":"440"===t&&(m="/tf2");var h=encodeURIComponent("".concat(m,"?str=").concat(n,"&sort=CF"));o="".concat(a,"?subid1=").concat(h,"&subid2=skinbaron").concat(i?"-side-menu":"")}if("shadowpay"===e){var f=encodeURIComponent("?search=".concat(n));o="".concat(a,"?subid1=").concat(f,"&subid2=shadowpay").concat(i?"-side-menu":"")}if("waxpeer"===e){var p=n.toLocaleLowerCase().replace(/[|()™★]/g,"").replace(/\s{2,}/g," ").trim().replace(/ /g,"-").replace(/&/g,"%26").replace(/cs:/g,"cs-"),g="";["252490"].includes(t)&&(g="rust/"),["440"].includes(t)&&(g="tf2/"),o="".concat(a,"?subid1=").concat(g).concat(p,"/item/&subid2=waxpeer").concat(i?"-side-menu":"")}if("dmarket"===e&&["570","730","252490","440"].includes(t)){var v=n.replace(/[™★]/g,""),b="";"730"===t&&(b="csgo-skins"),"570"===t&&(b="dota2-skins"),"252490"===t&&(b="rust-skins"),"440"===t&&(b="tf2-skins");var y=encodeURIComponent("/ingame-items/item-list/".concat(b,"?title=").concat(v));o="".concat(a,"?subid1=").concat(y,"&subid2=dmarket").concat(i?"-side-menu":"")}if("mannco"===e&&["440","730","570","252490"].includes(t)){var k="";if(n.indexOf("Unusual")>-1)k=encodeURIComponent("/market?e=".concat(n,"&f=ASC&appid=").concat(t));else{var S=n.replace(/[^a-zA-Z0-9 -]/gi,"").replace(/\s{2,}/g," ").trim().replace(/ /gi,"-").toLowerCase();k="/item/".concat(t,"-").concat(S)}o="".concat(a,"?subid1=").concat(k,"&subid2=manncostore").concat(i?"-side-menu":"")}if("tradeit"===e&&["730","440","570","252490"].includes(t)){var w="";"730"===t&&(w="csgo"),"440"===t&&(w="tf2"),"570"===t&&(w="dota2"),"252490"===t&&(w="rust");var C=encodeURIComponent("/".concat(w,"/store?search=").concat(n));o="".concat(a,"?subid1=").concat(C,"&subid2=tradeit").concat(i?"-side-menu":"")}if("tradeitDeposit"===e&&["730","440","570","252490"].includes(t)){var A="";"730"===t&&(A="csgo"),"440"===t&&(A="tf2"),"570"===t&&(A="dota2"),"252490"===t&&(A="rust");var I=encodeURIComponent("/".concat(A,"/trade?search=").concat(n));o="".concat(a,"?subid1=").concat(I,"&subid2=tradeit").concat(i?"-side-menu":"")}if("cstrade"===e&&["440","570","730","252490"].includes(t)&&(o="".concat(a,"?subid1=").concat(n,"&subid2=cstrade").concat(i?"-side-menu":"")),"lootfarm"===e&&["440","570","730","252490"].includes(t)){var x=encodeURIComponent("#skin=".concat(t,"_").concat(n));o="".concat(a,"?subid1=").concat(x,"&subid2=lootfarm").concat(i?"-side-menu":"")}if("swapgg"===e&&["440","570","730","252490"].includes(t)){var E=encodeURIComponent("/browse/".concat(t,"?search=").concat(n.replace("|"," ")));o="".concat(a,"?subid1=").concat(E,"&subid2=swapgg").concat(i?"-side-menu":"")}if("lisskins"===e&&["730","570","252490"].includes(t)){var L="";"730"===t&&(L="csgo"),"570"===t&&(L="dota2"),"252490"===t&&(L="rust");var R=encodeURIComponent("/".concat(L,"/?query=").concat(n));o="".concat(a,"?subid1=").concat(R,"&subid2=lisskins").concat(i?"-side-menu":"")}if("buff163"===e&&["730"].includes(t)){var T="";"730"===t&&(T="csgo");var P=encodeURIComponent("/market/".concat(T,"#tab=selling&page_num=1&search=").concat(n));o="".concat(a,"?subid1=").concat(P,"&subid2=buff163").concat(i?"-side-menu":"")}if("igxe"===e&&["730"].includes(t)){var O=n,M="";"730"===t&&(M="csgo");var H=encodeURIComponent("/market/".concat(M,"?keyword=").concat(O));o="".concat(a,"?subid1=").concat(H,"&subid2=igxe").concat(i?"-side-menu":"")}if("gamerpay"===e&&["730"].includes(t)){var N=encodeURIComponent("/buy?query=".concat(n));o="".concat(a,"?subid1=").concat(N,"&subid2=gamerpay").concat(i?"-side-menu":"")}if("skinsmonkey"===e&&["730"].includes(t)){var $=n,J=encodeURIComponent("appId=".concat(t,"&q=").concat($));o="".concat(a,"?subid1=").concat(J,"&subid2=skinmonkey").concat(i?"-side-menu":"")}if("skinsmonkeycash"===e&&["730"].includes(t)){var B=n,D=encodeURIComponent("appId=".concat(t,"&q=").concat(B));o="".concat(a,"?subid1=").concat(D,"&subid2=skinmonkey").concat(i?"-side-menu":"")}if("skinout"===e&&["730"].includes(t)){var G=n.replace(/[^a-zA-Z0-9★ -]/gi,"").replace(/\s{2,}/g," ").trim().replace(/ /gi,"-").toLowerCase();o="".concat(a,"?subid1=").concat(G,"&subid2=skinout").concat(i?"-side-menu":"")}if("whitemarket"===e&&["730"].includes(t)){var U=n;o="".concat(a,"?subid1=").concat(U,"&subid2=whitemarket").concat(i?"-side-menu":"")}if("haloskins"===e&&["730"].includes(t)){var j=encodeURIComponent(n.replace(/&/,""));o="".concat(a,"?subid1=").concat(j,"&subid2=haloskins").concat(i?"-side-menu":"")}if("cs2go"===e&&["730"].includes(t)){var K=n.replace(/[^a-zA-Z0-9★ -]/gi,"").replace(/\s{2,}/g," ").trim().replace(/ /gi,"-").toLowerCase(),F="".concat(t,"/").concat(K);o="".concat(a,"?subid1=").concat(F,"&subid2=cs2go").concat(i?"-side-menu":"")}if("rustskins"===e&&["252490"].includes(t)){var V="".concat(n);o="".concat(a,"?subid1=").concat(V,"&subid2=rustskins").concat(i?"-side-menu":"")}if("csdeal"===e&&["730","570","440","252490"].includes(t)){var Y="";"730"===t&&(Y="csgo"),"440"===t&&(Y="tf2"),"570"===t&&(Y="dota2"),"252490"===t&&(Y="rust");var W=encodeURIComponent(n.replace(/&/,"")),Z="".concat(W,"&game=").concat(Y);o="".concat(a,"?subid1=").concat(Z,"&subid2=cs.deals").concat(i?"-side-menu":"")}if("sihmarket"===e&&["730","252490","440"].includes(t)){var z="".concat(encodeURIComponent("".concat(n,"&sortBy=-profitPercent&appId=").concat(t)));o="".concat(a,"?subid1=").concat(z,"&subid2=sih.app").concat(i?"-side-menu":"")}if("csmarket"===e&&["730"].includes(t)){var q=encodeURIComponent("".concat(n,"&sortBy=price&utm_source=sih&utm_medium=cpm&utm_campaign=first"));o="".concat(a,"?subid1=").concat(q,"&subid2=csmarket").concat(i?"-side-menu":"")}if("steamLiveSell"===e&&["730"].includes(t)){var X=encodeURIComponent("".concat(n));o="".concat(a,"?subid1=").concat(X,"&subid2=steam").concat(i?"-side-menu":"")}if("csfloat"===e&&["730"].includes(t)){var Q=encodeURIComponent("".concat(n));o="".concat(a,"?subid1=").concat(Q,"&subid2=csfloat").concat(i?"-side-menu":"")}if("avanmarket"===e&&["730","570","252490"].includes(t)){var ee="";"730"===t&&(ee="cs"),"570"===t&&(ee="dota2"),"252490"===t&&(ee="rust");var te=n.toLowerCase().replace(/stattrak™/gi,"stattraktm").replace(/\s*\|\s*/g,"-").replace(/[()]/g,"").replace(/\s+/g,"-").replace(/&/g,"%26").replace(/-+/g,"-").trim(),ne="/".concat(ee,"/").concat(te);o="".concat(a,"?subid1=").concat(ne,"&subid2=avanmarket").concat(i?"-side-menu":"")}if("skinplace"===e&&["730"].includes(t)){var ie=l.A.getWearInfo(n),re=l.A.getSplitName(n),ae=(re.nameWithoutWear?re.skinTagName+" "+re.nameWithoutWear:n).toLowerCase().replace(/\s*\|\s*/g,"-").replace(/[^a-zA-Z0-9 -]/gi,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),oe="".concat(ae,"?");null!=ie&&ie.wearFull&&(oe+="exterior=".concat(ie.wearFull.replace(/\s+/g,"+")),ie.stattrak?oe+="%26is_stattrak=1":ie.souvenir&&(oe+="%26is_souvenir=1")),o="".concat(a,"?subid1=").concat(oe,"&subid2=skinplace").concat(i?"-side-menu":"")}return r&&(o="".concat(o,"&subid3=").concat(r)),o})),p(v,"getSubscribeAds",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CHECK_SUBSCRIBE_ADS"},(function(t){e(t)}))}))}));const b=new v},3186:(e,t,n)=>{n.d(t,{A:()=>f});var i=n(6703),r=n(3080),a=n(7752);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function c(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */c=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",d=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function _(e,t,n,i){var a=t&&t.prototype instanceof b?t:b,o=Object.create(a.prototype),s=new P(i||[]);return r(o,"_invoke",{value:E(e,n,s)}),o}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=_;var h="suspendedStart",f="suspendedYield",p="executing",g="completed",v={};function b(){}function y(){}function k(){}var S={};u(S,s,(function(){return this}));var w=Object.getPrototypeOf,C=w&&w(w(O([])));C&&C!==n&&i.call(C,s)&&(S=C);var A=k.prototype=b.prototype=Object.create(S);function I(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(r,a,s,l){var c=m(e[r],e,a);if("throw"!==c.type){var d=c.arg,u=d.value;return u&&"object"==o(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(u).then((function(e){d.value=e,s(d)}),(function(e){return n("throw",e,s,l)}))}l(c.arg)}var a;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return a=a?a.then(r,r):r()}})}function E(t,n,i){var r=h;return function(a,o){if(r===p)throw Error("Generator is already running");if(r===g){if("throw"===a)throw o;return{value:e,done:!0}}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var l=L(s,i);if(l){if(l===v)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===h)throw r=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=p;var c=m(t,n,i);if("normal"===c.type){if(r=i.done?g:f,c.arg===v)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=g,i.method="throw",i.arg=c.arg)}}}function L(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),v;var a=m(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(o(t)+" is not iterable")}return y.prototype=k,r(A,"constructor",{value:k,configurable:!0}),r(k,"constructor",{value:y,configurable:!0}),y.displayName=u(k,d,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,u(e,d,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},I(x.prototype),u(x.prototype,l,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new x(_(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},I(A),u(A,d,"Generator"),u(A,s,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=O,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;T(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:O(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),v}},t}function d(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,m(i.key),i)}}function _(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}var h=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_(this,"getOrderStatusText",(function(t){return e._buyOrderStatusEnum[t]})),_(this,"loginSihApp",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_LOGIN_SIH_APP"},(function(t){e(t)}))}))})),_(this,"getLoginSihAppUser",(function(){return new Promise((function(e,n){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_USER_INFO"},function(){var n,i=(n=c().mark((function n(i){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i.success&&Object.keys(i).length){n.next=6;break}return n.t0=e,n.next=4,t.loginSihApp();case 4:n.t1=n.sent,(0,n.t0)(n.t1);case 6:i.success&&Object.keys(i).length?e(i):e({success:!1});case 7:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(i,r){var a=n.apply(e,t);function o(e){d(a,i,r,o,s,"next",e)}function s(e){d(a,i,r,o,s,"throw",e)}o(void 0)}))});return function(e){return i.apply(this,arguments)}}())}))})),_(this,"getUserSihApp",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_USER_AUTH_SIH_APP"},(function(t){e(t)}))}))})),_(this,"getSubscribeAds",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CHECK_SUBSCRIBE_ADS"},(function(t){e(t)}))}))})),_(this,"getSubscribeAdsPlans",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SUBSCRIBE_ADS_PLANS_SIH_APP"},(function(t){e(t)}))}))})),_(this,"getDaysNumber",(function(e){var t=(new Date).toUTCString(),n=new Date("".concat(t)).getTime(),i=new Date("".concat(e)).getTime()-n,r=Math.round(i/36e5);return r>24?{days:Math.ceil((r-24)/24)}:{hours:r}})),_(this,"setItemToBuyStack",(function(n){var r=n.hashName,o=void 0===r?null:r,l=n.countAdd,c=void 0===l?1:l,d=n.statusCode,u=void 0===d?null:d,m=n.steamId,h=void 0===m?null:m,f=n.appId,p=void 0===f?"730":f,g=n.price,v=void 0===g?null:g,b=n.image,y=n.url,k=n.gameName,S=void 0===k?null:k,w=n.color,C=void 0===w?"rgb(210, 210, 210)":w,A=n.rarityColor,I=void 0===A?"default":A,x=n.itemId,E=void 0===x?null:x;return new Promise((function(n,r){var l=a.A.getMarkets().find((function(e){return"sihmarket"===e.name}));if(S||(S=e._gameNames[p]),l||v){var d=v||a.A.getPriceMarket(l);if(d&&(d.price||v)){var m=(0,i.getPageParams)(),f=o||encodeURIComponent(m.marketHashName);t.getAllItemsBuyStackByName(f).then((function(i){for(var a=t.getFilterItemsByStatus(i,u),s=[],l=c>1?c-a.length:c,_=b||$J(".market_listing_largeimage").find("img").attr("src"),g=S||$J(".market_listing_nav > a:nth(0)").text(),k=C||$J("#largeiteminfo_item_name").css("color"),w=p&&o?"".concat(p,"/").concat(o):"".concat(m.appId,"/").concat(encodeURIComponent(m.marketHashName)),A=0;A<l;A++){var x,L={appid:p||m.appId,market_hash_name:o?decodeURIComponent(o):m.marketHashName,price:v||d.price,providerName:"sih",steam_id:h||(null!==(x=window)&&void 0!==x&&x.g_steamID?window.g_steamID:sih_steamID),custom_trade_link:null,createdAt:Date.now()+A+1,image:_,url:y||window.location.href,gameName:g,hashMarket:w,color:k,isChecked:!0,rarityColor:I||"default",itemId:E||null};null!==u&&(L.status=u),s.push(L)}if(m&&encodeURIComponent(m.marketHashName)===f&&730==+Object.keys(g_rgAssets)[0]){var R=+Object.keys(g_rgAssets[730]||{})[0],T=Object.values(g_rgAssets[730][R])[0];e.getRarityColor(730,T.classid,T.instanceid).then((function(t){s.forEach((function(e){e.rarityColor=t})),e.setPreparedDataToBuyStack(f,s).then((function(e){n(e)})).catch((function(e){r(e)}))}))}else e.setPreparedDataToBuyStack(f,s).then((function(e){n(e)})).catch((function(e){r(e)}))}))}}else o&&t.getAllItemsBuyStackByName(o).then((function(e){var i=t.getFilterItemsByStatus(e,u);if(i.length){for(var a=i.map((function(e){return e.createdAt})),l=i.find((function(e){return e.createdAt===Math.max.apply(Math,s(a))})),d=c>1?c-i.length:c,m=[],h=0;h<d;h++){var f=Object.assign({},l);f.createdAt=Date.now()+h+1,m.push(f)}var p=_({},o,[].concat(s(e),m));chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_BUY_STACK_SIH_APP",data:p},(function(e){e.success?n(p[o]):r(e)}))}}))}))})),_(this,"deleteItemFromBuyStack",(function(e){var n=e.hashName,i=e.argCountDelete,r=void 0===i?null:i,a=e.statusCode,o=void 0===a?null:a,s=e.itemId,l=void 0===s?null:s;return new Promise((function(e,i){t.getAllItemsBuyStackByName(n).then((function(a){var s=t.getFilterItemsByStatus(a,o),c=s.length-(null!==r?r:s.length-1);chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_DELETE_LAST_BUY_STACK_SIH_APP",data:{hashName:n,statusCode:o,countDelete:c,itemId:l}},(function(r){t.getAllItemsBuyStackByName(n).then((function(t){r.success?e(t):i(r)}))}))}))}))})),_(this,"getAllBuyStack",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_ALL_BUY_STACK_SIH_APP"},(function(t){e(t)}))}))})),_(this,"getFilterItemsByStatus",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.filter((function(e){return Array.isArray(t)?t.length?t.includes(e.status):!e.status:t?e.status===t:!e.status}))||[]})),_(this,"updateSIHMarketPrice",(function(){return new Promise((function(e,n){t.getAllBuyStack().then((function(t){if(t.length>0){var n=[],i=[],r=[];t.forEach((function(e){e.itemId?n.push(e.itemId.toString()):i.push(e.market_hash_name)})),n.length&&r.push(new Promise((function(e,t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_MARKET_ACTUAL_PRICES",data:{itemIds:n}},(function(n){n.success?e(n.data):t()}))}))),i.length&&r.push(new Promise((function(e,t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_MARKET_ACTUAL_PRICES",data:{items:i}},(function(n){n.success?e(n.data):t()}))}))),Promise.all(r).then((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_UPDATE_PRICE_ITEMS_BUY_STACK_SIH_APP",data:{items:t.flat()}},(function(t){e(t)}))})).catch((function(){e()}))}else e()}))}))})),_(this,"changeItemsStatus",(function(e){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CHANGE_STATUS_ITEM_BUY_STACK_SIH_APP",data:e},(function(){t()}))}))})),_(this,"cancelSihAppOrder",(function(e){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CANCEL_ORDER_SIH_APP",data:{orderId:e}},(function(e){t(e)}))}))})),_(this,"updateItemLocalHistoryOrders",(function(e){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_UPDATE_LOCAL_ITEM_ORDER_SIH_APP",data:{orderId:e}},(function(e){t(e)}))}))})),_(this,"getUserOrdersHistory",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return new Promise((function(i){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_ORDERS_HISTORY_SIH_APP",data:{isLocal:e,page:t,number:n}},(function(e){i(e)}))}))})),_(this,"createBuyOrder",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CREATE_BUY_ORDER_SIH_APP"},(function(t){e(t)}))}))})),_(this,"getTopSales",(function(e){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_TOP_SALES",data:e},(function(e){t(e)}))}))})),_(this,"getLogs",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_LOG"},(function(t){e(t)}))}))})),_(this,"readAllNotification",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_READ_SIH_APP_LOG"},(function(t){e(t)}))}))})),_(this,"renderTextLog",(function(t){return"".concat(e._buyOrderErrorsEnum[t.error]?"".concat(e._buyOrderErrorsEnum[t.error]," <br>"):t.error||t.message||"".concat(SIHLang.sihAppMarket.orders.order," № ").concat(t.orderId," ").concat(SIHLang.sihAppMarket.orders.successful_operation," <br>")," ").concat(t.itemData?"".concat(t.itemData.market_hash_name," <br>"):""," ").concat(t.itemData?"".concat(SIHLang.sihAppMarket.orders.price,": ").concat(t.itemData.price," <br>"):"")})),_(this,"getLogTemplateByGroup",(function(e){var n;if("bookmarks"===e.groupType){var i=a.A.getLink(e.itemData.marketName||"buff163",e.itemData.appId||"730",e.itemData.market_hash_name,e.itemData.market_hash_name),o=r.A.getPriceFromCurrency(e.itemData.price,e.itemData.currencyId||1).text;n='\n          <div class="column gap-5 items-start pl-50">\n            <span class="text">'.concat(e.title,'</span>\n            <a href="').concat(i,'" target="_blank" class="text text_blue hover-opacity-8"\n              >').concat(e.itemData.market_hash_name,'</a\n            >\n          </div>\n          <div class="row gap-5 items-end pb-2">\n            \x3c!--                    TODO: Добавить проверку на data.itemData.marketName, если его нету, то иконку не рендерить (текущая иконка для теста)--\x3e\n            <img\n              class="notification-panel__icon"\n              src="chrome-extension://').concat(SIHID,"/assets/marketplace/mini-icons/").concat(e.itemData.marketName||"buff163",'.svg"\n              alt="').concat(e.itemData.marketName||"buff163",'"\n            />\n            <span class="text text_green whitespace-nowrap">').concat(o,"</span>\n          </div>\n        ")}else n='\n          <div class="column gap-5 items-start pl-50">\n            <span class="text">'.concat(SIHLang.notifications[e.title],'</span>\n            <span class="text ').concat(e.success?"text_green":"text_red",'">').concat(t.renderTextLog(e),"</span>\n          </div>\n        ");return n})),_(this,"validateInput",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return isNaN(e)||e<=n?n:e>=t?Math.ceil(t):i?Math.floor(1e3*e)/1e3:Math.ceil(e)})),_(this,"getSubscribeAdsMethods",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SUBSCRIBE_ADS_METHODS_SIH_APP"},(function(t){e(t)}))}))})),_(this,"getLinkForInvoice",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return new Promise((function(n){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CREATE_INVOICE",data:{amount:e,method:t}},(function(e){n(e)}))}))})),_(this,"updateTradeLink",(function(e){chrome.runtime.sendMessage(window.SIHID,{type:"BACKGROUND_UPDATE_TRADELINK_SIH_APP",data:{link:e}})})),_(this,"getSihAppToken",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_TOKEN"},(function(t){e(t)}))}))})),_(this,"getAutoLoadFloats",(function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_AUTO_LOAD_FLOATS"},(function(t){e(t)}))}))})),_(this,"errorHandler",(function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Please, try again";i.toLowerCase().includes("invalid token or session is over")&&(e.text(SIHLang.subscribeAds.modal.reload_page),e.off("click").click((function(){window.location.reload()}))),0===n.length?t.append('<span class="sih-modal__text sih-modal__error_message">'.concat("Error! "+i,"</span>")):(n.text("".concat("Error! "+i)),n.hasClass("blink")?(n.removeClass("blink"),setTimeout((function(){n.addClass("blink")}),100)):n.addClass("blink")),e.removeClass("animated-background animated-background-btn"),t.show()})),this.getAllItemsBuyStackByName=e.getAllItemsBuyStackByName}return t=e,o=[{key:"setPreparedDataToBuyStack",value:function(t,n){var i=this;return new Promise((function(r,a){e.getAllItemsBuyStackByName(t).then((function(e){var o=_({},t,[].concat(s(e),s(n)));chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_BUY_STACK_SIH_APP",data:o},(function(e){e.success?i.getAllItemsBuyStackByName(t).then((function(e){r(e)})):a(e)}))}))}))}},{key:"getRarityColor",value:function(e,t,n){return new Promise((function(i,r){$J.ajax({url:"https://steamcommunity.com/economy/itemclasshover/".concat(e,"/").concat(t,"/").concat(n,"?content_only=1&l=english"),cache:!0}).done((function(e){var t=/BuildHover\( '(.*)', (.*)\);/i.exec(e);switch(JSON.parse(t[2]).tags.find((function(e){return"Rarity"===e.category})).name.toLowerCase()){case"consumer grade":case"base grade":i("b0c3d9");break;case"mil-spec grade":case"distinguished":case"high grade":i("4b69ff");break;case"industrial grade":i("5e98d9");break;case"restricted":case"exceptional":case"remarkable":i("8847ff");break;case"classified":case"superior":case"exotic":i("d32ce6");break;case"covert":case"extraordinary":case"master":i("eb4b4b");break;case"contraband":i("e4ae39")}})).fail((function(e){r(e)}))}))}},{key:"getAllItemsBuyStackByName",value:function(e){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_BUY_STACK_BY_NAME_SIH_APP",data:{hashName:e}},(function(e){t(e)}))}))}}],(n=null)&&u(t.prototype,n),o&&u(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,o}();_(h,"_buyOrderStatusEnum",{ordering:SIHLang.sihAppMarket.orders.statuses.ordering,pending:SIHLang.sihAppMarket.orders.statuses.pending,new:SIHLang.sihAppMarket.orders.statuses.new,created:SIHLang.sihAppMarket.orders.statuses.created,processing:SIHLang.sihAppMarket.orders.statuses.processing,sent:SIHLang.sihAppMarket.orders.statuses.sent,finished:SIHLang.sihAppMarket.orders.statuses.finished,failed:SIHLang.sihAppMarket.orders.statuses.failed,penalized:SIHLang.sihAppMarket.orders.statuses.penalized}),_(h,"_buyOrderErrorsEnum",{"Not enough balance":SIHLang.sihAppMarket.orders.errors.not_enough_balance,"Time for refills is up":SIHLang.sihAppMarket.orders.errors.time_refills_up,"receiver failed":SIHLang.sihAppMarket.orders.errors.receiver_failed,"max retries reached":SIHLang.sihAppMarket.orders.errors.max_retries_reached}),_(h,"_gameNames",{730:"Counter-Strike 2",252490:"Rust",440:"TF2"});const f=new h},8440:(e,t,n)=>{function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,c(i.key),i)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}n.d(t,{A:()=>u});var d=s((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"getWearInfo",(function(t){var n=e._skinWear.find((function(e){return t.includes(e.wearFull)})),i=t.includes("StatTrak™"),r=t.includes("Souvenir");return n?a(a({},n),{},{name:t,stattrak:i,souvenir:r}):null})),l(this,"getSplitName",(function(e){var n=e.split("|"),i=n[0].replace(/StatTrak™/g,"").replace(/Souvenir/g,"").replace(/[^a-zA-Z0-9 -]/gi,"").replace(/\s{2,}/g,"").trim(),r=2===n.length?n[1]:n.splice(1,n.length).join("|"),a=t.getWearInfo(e),o=a&&null!=a&&a.wearFull?r.replace("(".concat(null==a?void 0:a.wearFull,")"),"").trim():null;return{skinTagName:i,skinName:r,nameWithoutWear:o}}))}));l(d,"_skinWear",[{wearFull:"Battle-Scarred",wearShort:"BS",color:"#E05A59",priorityPosition:1},{wearFull:"Field-Tested",wearShort:"FT",color:"#E3E15B",priorityPosition:2},{wearFull:"Minimal Wear",wearShort:"MW",color:"#79D154",priorityPosition:3},{wearFull:"Well-Worn",wearShort:"WW",color:"#E9A75D",priorityPosition:4},{wearFull:"Factory New",wearShort:"FN",color:"#5EB648",priorityPosition:5}]);const u=new d},9118:(e,t,n)=>{n.d(t,{M:()=>i});var i={getSync:function(e){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SYNC_STORAGE",data:e},(function(e){t(e)}))}))},setSync:function(e,t){return new Promise((function(n){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_SYNC_STORAGE",data:{key:e,value:t}},(function(e){n(e)}))}))},getLocal:function(e){return new Promise((function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_LOCAL_STORAGE",data:e},(function(e){t(e)}))}))},setLocal:function(e,t){return new Promise((function(n){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_LOCAL_STORAGE",data:{key:e,value:t}},(function(e){n(e)}))}))}}},4056:(e,t,n)=>{n.d(t,{Fk:()=>r,zc:()=>i});var i={set:function(e,t){try{t=t||"",localStorage.setItem(e,JSON.stringify(t))}catch(e){console.error(e)}},get:function(e){try{var t=localStorage.getItem(e)||null;return JSON.parse(t)}catch(e){return console.error(e),null}}},r=function(e){return e?e.startsWith("https://")?e:"https://community.akamai.steamstatic.com/economy/image/".concat(e):null}},4285:(e,t,n)=>{n.d(t,{I:()=>a,P:()=>r});var i=n(4056),r={_name:"SIH_FILTER_MARKET_HISTORY",get:function(){return i.zc.get(this._name)},set:function(e){i.zc.set(this._name,e)}},a={_name:"SIH_MARKET_TAB",get:function(){return i.zc.get(this._name)},set:function(e){i.zc.set(this._name,e)}}},4317:(e,t,n)=>{function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */r=function(){return t};var e,t={},n=Object.prototype,a=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",d=s.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function _(e,t,n,i){var r=t&&t.prototype instanceof b?t:b,a=Object.create(r.prototype),s=new P(i||[]);return o(a,"_invoke",{value:E(e,n,s)}),a}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=_;var h="suspendedStart",f="suspendedYield",p="executing",g="completed",v={};function b(){}function y(){}function k(){}var S={};u(S,l,(function(){return this}));var w=Object.getPrototypeOf,C=w&&w(w(O([])));C&&C!==n&&a.call(C,l)&&(S=C);var A=k.prototype=b.prototype=Object.create(S);function I(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(r,o,s,l){var c=m(e[r],e,o);if("throw"!==c.type){var d=c.arg,u=d.value;return u&&"object"==i(u)&&a.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(u).then((function(e){d.value=e,s(d)}),(function(e){return n("throw",e,s,l)}))}l(c.arg)}var r;o(this,"_invoke",{value:function(e,i){function a(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(a,a):a()}})}function E(t,n,i){var r=h;return function(a,o){if(r===p)throw Error("Generator is already running");if(r===g){if("throw"===a)throw o;return{value:e,done:!0}}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var l=L(s,i);if(l){if(l===v)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===h)throw r=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=p;var c=m(t,n,i);if("normal"===c.type){if(r=i.done?g:f,c.arg===v)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=g,i.method="throw",i.arg=c.arg)}}}function L(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),v;var a=m(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[l];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(a.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(i(t)+" is not iterable")}return y.prototype=k,o(A,"constructor",{value:k,configurable:!0}),o(k,"constructor",{value:y,configurable:!0}),y.displayName=u(k,d,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,u(e,d,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},I(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new x(_(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},I(A),u(A,d,"Generator"),u(A,l,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=O,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&a.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;T(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:O(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),v}},t}function a(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){a(o,i,r,s,l,"next",e)}function l(e){a(o,i,r,s,l,"throw",e)}s(void 0)}))}}n.d(t,{m:()=>l});var s={history:[],from:0,to:500,totalCount:0,progress:0,requestCount:500,numOfRequests:0,inProgress:!1,lastRequestSuccessful:!0},l=function(){var e=o(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c();case 3:d(),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),e.t0,s.lastRequestSuccessful=!1;case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=o(r().mark((function e(){var t,n,i,a,o,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=$J("#BG_bottom"),n=$J(".sih.my_market_history_filtration"),t.css("position","relative"),(i=$J('\n    <div id="sih-tab-content-export-market-history" class="sih-global sih-export-market-history">\n      <div class="sih-export-market-history__left-side">\n        <div class="row gap-4 items-center">\n          <div class="sih-export-market-history__info-icon" title="'.concat(SIHLang.export_market_history.tooltip_1,'">\n            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                fill-rule="evenodd"\n                clip-rule="evenodd"\n                d="M22 12C22 6.477 17.523 2 12 2C6.477 2 2 6.477 2 12C2 17.523 6.477 22 12 22C17.523 22 22 17.523 22 12ZM12 7C12.2652 7 12.5196 7.10536 12.7071 7.29289C12.8946 7.48043 13 7.73478 13 8V13C13 13.2652 12.8946 13.5196 12.7071 13.7071C12.5196 13.8946 12.2652 14 12 14C11.7348 14 11.4804 13.8946 11.2929 13.7071C11.1054 13.5196 11 13.2652 11 13V8C11 7.73478 11.1054 7.48043 11.2929 7.29289C11.4804 7.10536 11.7348 7 12 7ZM11 16C11 15.7348 11.1054 15.4804 11.2929 15.2929C11.4804 15.1054 11.7348 15 12 15H12.008C12.2732 15 12.5276 15.1054 12.7151 15.2929C12.9026 15.4804 13.008 15.7348 13.008 16C13.008 16.2652 12.9026 16.5196 12.7151 16.7071C12.5276 16.8946 12.2732 17 12.008 17H12C11.7348 17 11.4804 16.8946 11.2929 16.7071C11.1054 16.5196 11 16.2652 11 16Z"\n                fill="currentColor"\n              />\n            </svg>\n          </div>\n          <span class="text text_white fs-14">').concat(SIHLang.export_market_history.title,':</span>\n        </div>\n        <div class="sih-export-market-history__number-items sih-number-items">\n          <div class="sih-number-items__content">\n            <span class="text text_white fs-14 whitespace-nowrap">').concat(SIHLang.export_market_history.number_items,':</span>\n            <span class="sih-number-items__start text text_white fs-14 bold" data-value="0">0</span>\n            <span class="text text_white fs-14 bold">-</span>\n            <span class="sih-number-items__finish text text_white fs-14 bold text-ellipsis" data-value="0">0</span>\n          </div>\n          <div class="sih-number-items__arrow">\n            <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M8.00146 11.389L12.001 6.58861L4.00097 6.58943L8.00146 11.389Z" fill="white" />\n            </svg>\n          </div>\n        </div>\n        <label for="sih-export-market-history-input-non-transaction">\n          <label for="sih-export-market-history-input-non-transaction" class="sih-export-market-history__checkbox text"\n            >').concat(SIHLang.export_market_history.exclude_non_transaction,'</label\n          >\n          <input id="sih-export-market-history-input-non-transaction" type="checkbox" />\n        </label>\n      </div>\n      <div class="sih-export-market-history__right-side">\n        <div class="row gap-20">\n          <a\n            href="javascript:void(0)"\n            id="sih-export-market-history"\n            class="text-uppercase bold sih-export-market-history__btn"\n            >').concat(SIHLang.export_market_history.export_csv,'</a\n          >\n          <div\n            id="sih-export-market-history-progress"\n            class="hidden text-uppercase bold sih-export-market-history__btn sih-export-market-history__btn_process"\n          >\n            <span class="text text_white fs-12">').concat(SIHLang.export_market_history.loading,'</span>\n            <div class="row">\n              <span class="text text_white fs-12">(</span>\n              <span class="sih-export-market-history__working-progress text text_white fs-12" data-value="0">0</span>\n              <span class="text text_white fs-12">%)</span>\n            </div>\n          </div>\n          <a\n            href="javascript:void(0)"\n            id="sih-market-history-download"\n            class="hidden text-uppercase bold sih-export-market-history__btn"\n            >').concat(SIHLang.export_market_history.download,'</a\n          >\n        </div>\n      </div>\n    </div>\n    <div id="sih-number-items-modal" class="sih-number-items-modal sih-global">\n      <div class="row justify-between">\n        <span class="text text_white fs-12">').concat(SIHLang.export_market_history.select_range,'</span>\n        <div class="sih-number-items-modal__close">\n          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path\n              d="M8.00214 8.93499L4.7358 12.202C4.6136 12.3242 4.45805 12.3854 4.26916 12.3854C4.08027 12.3854 3.92471 12.3243 3.80247 12.2021C3.68024 12.0799 3.61911 11.9243 3.61909 11.7354C3.61907 11.5466 3.68017 11.391 3.80238 11.2688L7.06871 8.00175L3.8017 4.73542C3.67947 4.61321 3.61834 4.45766 3.61832 4.26877C3.6183 4.07989 3.6794 3.92432 3.80161 3.80209C3.92382 3.67985 4.07937 3.61873 4.26826 3.61871C4.45714 3.61869 4.61271 3.67978 4.73494 3.80199L8.00194 7.06832L11.2683 3.80132C11.3905 3.67909 11.546 3.61796 11.7349 3.61794C11.9238 3.61792 12.0794 3.67902 12.2016 3.80122C12.3238 3.92343 12.385 4.07898 12.385 4.26787C12.385 4.45676 12.3239 4.61232 12.2017 4.73456L8.93537 8.00156L12.2024 11.2679C12.3246 11.3901 12.3857 11.5457 12.3858 11.7345C12.3858 11.9234 12.3247 12.079 12.2025 12.2012C12.0803 12.3235 11.9247 12.3846 11.7358 12.3846C11.5469 12.3846 11.3914 12.3235 11.2691 12.2013L8.00214 8.93499Z"\n              fill="currentColor"\n            />\n          </svg>\n        </div>\n      </div>\n      <div class="column gap-4">\n        <label for="sih-number-items-modal-input-start" class="sih-number-items-modal__input-outer">\n          <label class="text text_white fs-12">').concat(SIHLang.export_market_history.from,': </label>\n          <input\n            id="sih-number-items-modal-input-start"\n            class="sih-number-items-modal__input"\n            type="number"\n            value="0"\n          />\n        </label>\n        <label for="sih-number-items-modal-input-finish" class="sih-number-items-modal__input-outer">\n          <span class="text text_white fs-12">').concat(SIHLang.export_market_history.to,': </span>\n          <input\n            id="sih-number-items-modal-input-finish"\n            class="sih-number-items-modal__input"\n            type="number"\n            value="0"\n          />\n        </label>\n      </div>\n      <div class="row justify-end">\n        <a href="javascript:void(0)" id="sih-number-items-modal-apply" class="sih-export-market-history__btn"\n          >').concat(SIHLang.export_market_history.apply,"</a\n        >\n      </div>\n    </div>\n  "))).find(".sih-export-market-history__info-icon").tooltip({position:{my:"center bottom-10",at:"center top"}}),i.find("#sih-export-market-history-input-non-transaction").checkboxradio(),(a=t.find("#sih-tab-content-export-market-history")).length){e.next=18;break}return n.before(i),e.next=11,p(0,50);case 11:o=e.sent,l=o.total_count,s.totalCount=l||0,i.find(".sih-number-items__finish").attr("data-value",s.totalCount).text(s.totalCount),i.find("#sih-number-items-modal-input-finish").val(s.totalCount),e.next=19;break;case 18:a.show();case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){u(),_(),m(),h(),f()},u=function(){var e=$J("#sih-tab-content-export-market-history").find(".sih-number-items"),t=$J("#sih-number-items-modal"),n=e.find(".sih-number-items__arrow");e.off("click").on("click",(function(e){var i=e.currentTarget,r=$J(i),a=r.outerWidth(),o=r.position();t.toggleClass("active"),n.toggleClass("active"),t.css("width",a),t.css("left",o.left)}))},_=function(){var e=$J("#sih-tab-content-export-market-history"),t=$J("#sih-number-items-modal"),n=e.find(".sih-number-items").find(".sih-number-items__arrow");t.on("click",".sih-number-items-modal__close",(function(){t.removeClass("active"),n.removeClass("active")}))},m=function(){var e=$J("#sih-tab-content-export-market-history"),t=e.find(".sih-number-items"),n=$J("#sih-number-items-modal"),i=n.find("#sih-number-items-modal-apply"),r=t.find(".sih-number-items__arrow");i.off("click").on("click",(function(i){i.currentTarget;var a=+n.find("#sih-number-items-modal-input-start").val(),o=+n.find("#sih-number-items-modal-input-finish").val();t.find(".sih-number-items__start").attr("data-value",a).text(a),t.find(".sih-number-items__finish").attr("data-value",o).text(o),n.removeClass("active"),r.removeClass("active"),e.find("#sih-export-market-history").removeClass("hidden"),e.find("#sih-market-history-download").addClass("hidden").attr("href","javascript:void(0)")}))},h=function(){var e=$J("#sih-tab-content-export-market-history"),t=e.find("#sih-export-market-history"),n=e.find("#sih-export-market-history-progress"),i=n.find(".sih-export-market-history__working-progress"),a=e.find(".sih-number-items");t.off("click").click(o(r().mark((function o(){var l,c;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l=+$J("#sih-number-items-modal-input-start").val(),c=+$J("#sih-number-items-modal-input-finish").val(),t.addClass("hidden"),n.removeClass("hidden"),a.addClass("disabled"),e.find("#sih-market-history-download").addClass("hidden").attr("href","javascript:void(0)"),i.attr("data-value",0).text(0),s.from=l,s.to=c,s.inProgress=!0,s.history.length=0,s.progress=0,r.next=14,v();case 14:case"end":return r.stop()}}),o)}))))},f=function(){$J("#sih-number-items-modal").find(".sih-number-items-modal__input").each((function(e,t){var n=$J(t);n.on("input",(function(e){var t=e.target,n="sih-number-items-modal-input-start"===$J(t).attr("id"),i=$J("#sih-number-items-modal-input-start"),r=$J("#sih-number-items-modal-input-finish"),a=+i.val(),o=+r.val(),l=n?s.totalCount-1:s.totalCount,c=$J(t).val();c=c.replace(/[^0-9]/g,""),$J(t).val(l>=c?c:l);var d=+$J(t).val();n&&d>=o&&$J(t).val(o-1),!n&&d<=a&&i.val(d-1)})),n.on("keypress",(function(e){var t=e.which||e.keyCode;(t<48||t>57)&&e.preventDefault()})),n.on("paste",(function(e){var t="sih-number-items-modal-input-start"===$J(e.target).attr("id"),n=$J("#sih-number-items-modal-input-start"),i=$J("#sih-number-items-modal-input-finish"),r=+n.val(),a=+i.val(),o=t?s.totalCount-1:s.totalCount,l=(e.originalEvent||e).clipboardData.getData("text/plain");l=l.replace(/[^0-9]/g,""),$J(e.target).val(o>=l?l:o);var c=+$J(e.target).val();t&&c>=a&&$J(e.target).val(a-1),!t&&c<=r&&n.val(c-1),e.preventDefault()}))}))},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.requestCount;return new Promise((function(n,i){$J.ajax({method:"GET",url:"https://steamcommunity.com/market/myhistory",data:{start:e,count:t}}).done((function(e){n(e)})).fail((function(e){i(e)}))}))},g=function(e,t,n){var i=$J(e),r=[];return i.find(".market_listing_row.market_recent_listing_row").each((function(e,i){var a=$J(i),o=a.find(".market_listing_item_name").text(),s=a.find(".market_listing_game_name").text(),l=$J(a.find(".market_listing_listed_date").get(0)).text().trim(),c=$J(a.find(".market_listing_listed_date").get(1)).text().trim(),d=a.find(".market_listing_price").text().replace(/руб./g,"₽").trim(),u=GetPriceValueAsInt(d),_=function(e){var t;switch(e.find(".market_listing_gainorloss").text().trim()){case"+":t="purchase";break;case"-":t="sale";break;default:t=e.find(".market_listing_whoactedwith").text().replace(/\s/g,"")}return t}(a),m=null,h=null,f=null,p=null,g=null,v=null,b=null,y=null,k=!1;if("sale"===_||"purchase"===_){var S=i.id,w=t.split("".concat(S,"_name"))[1].split(");")[0].split(",");m=parseInt(w[1]),h=parseInt(w[2].split("'")[1]),f=w[3].split("'")[1];var C=n[m][h][f];p=C.classid,g=C.instanceid,v=C.unowned_contextid,b=C.unowned_id,y=C.market_hash_name,k=!0}r.push({itemName:o,gameName:s,listedOn:c,actedOn:l,displayPrice:d,priceInCents:u,type:_,marketName:y,appID:m,contextID:h,assetID:f,classID:p,instanceID:g,unOwnedContextID:v,unOwnedID:b,detailedRow:k})})),r},v=function(){var e=o(r().mark((function e(){var t,n,i,a,l,c,d,u,_,m,h,f,y;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=$J("#sih-tab-content-export-market-history"),n=s.lastRequestSuccessful?5e3:3e4,i=t.find("#sih-export-market-history-progress"),a=i.find(".sih-export-market-history__working-progress"),l=t.find(".sih-number-items"),e.prev=5,!s.inProgress){e.next=22;break}return e.next=9,p(s.from+s.progress,s.requestCount);case 9:c=e.sent,d=c.results_html,u=c.hovers,_=c.assets,s.lastRequestSuccessful=!0,s.progress+=s.requestCount,s.history=s.history.concat(g(d,u,_)),m=Math.ceil((s.to-s.from)/500),h=100/m,f=+a.attr("data-value"),y=f+h,a.attr("data-value",y).text(Math.floor(y)),s.progress>=s.to-s.from?(i.addClass("hidden"),l.removeClass("disabled"),s.inProgress=!1,b()):setTimeout(o(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),n);case 22:e.next=29;break;case 24:e.prev=24,e.t0=e.catch(5),s.lastRequestSuccessful=!1,setTimeout(o(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),n),e.t0;case 29:case"end":return e.stop()}}),e,null,[[5,24]])})));return function(){return e.apply(this,arguments)}}(),b=function(){for(var e=$J("#sih-export-market-history-input-non-transaction").is(":checked"),t="Item Name,Game Name,Listed On,Acted On,Display Price,Price in Cents,Type,Market Name,App Id,Context Id,Asset Id,Instance Id,Class Id,Unowned Context Id,Unowned Id\n",n=0;n<s.to-s.from;n++){var i=s.history[n];if(!e||"purchase"===i.type||"sale"===i.type)t+=(i.detailedRow?'"'.concat(i.itemName,'","').concat(i.gameName,'","').concat(i.listedOn,'","').concat(i.actedOn,'","').concat(i.displayPrice,'","').concat(i.priceInCents,'","').concat(i.type,'","').concat(i.marketName,'","').concat(i.appID,'","').concat(i.contextID,'","').concat(i.assetID,'","').concat(i.instanceID,'","').concat(i.classID,'","').concat(i.unOwnedContextID,'","').concat(i.unOwnedID,'"'):'"'.concat(i.itemName,'","').concat(i.gameName,'","').concat(i.listedOn,'","').concat(i.actedOn,'","').concat(i.displayPrice,'","').concat(i.priceInCents,'","').concat(i.type,'",,,,,,,,,'))+"\n"}var r=new Blob([t],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(r),o=$J("#sih-export-market-history"),l=$J("#sih-market-history-download");o.addClass("hidden"),l.attr("href",a),l.attr("download","my_market_history_".concat(Date.now(),".csv")),l.removeClass("hidden")}},8156:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{marketMyHistoryRequestBefore:()=>marketMyHistoryRequestBefore,marketMyHistoryRequestOnFailureBefore:()=>marketMyHistoryRequestOnFailureBefore,marketMyHistoryRequestOnSuccessAfter:()=>marketMyHistoryRequestOnSuccessAfter,marketMyHistoryRequestOnSuccessBefore:()=>marketMyHistoryRequestOnSuccessBefore,selectTabMarket:()=>selectTabMarket});var _common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4285),_exportMarketHistory_content__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4317),g_sihSelectTabMarket="",g_sihSettingFiltration={};function selectTabMarket(){$J("#myMarketTabs").find(".market_tab_well_tabs a").on("click",(function(){g_sihSelectTabMarket=$J(this).attr("id"),$J(this).addClass("market_tab_well_tab_active").siblings().removeClass("market_tab_well_tab_active").addClass("market_tab_well_tab_inactive"),"tabMyMarketHistory"===g_sihSelectTabMarket?($J("#BG_bottom").find(".my_market_history_filtration").show(),$J("#BG_bottom").find("#sih-tab-content-export-market-history").show()):($J("#BG_bottom").find(".my_market_history_filtration").hide(),$J("#BG_bottom").find("#sih-tab-content-export-market-history").hide())}))}function marketMyHistoryRequestBefore(e,t){spinnerFilterMarketHistory(!0);var n=getLocalStorage();t.parameters.count=n.isVisibleSlots?500:window.historypagesize}function marketMyHistoryRequestOnFailureBefore(){spinnerFilterMarketHistory(!1)}function marketMyHistoryRequestOnSuccessBefore(){"tabMyMarketHistory"===(g_sihSelectTabMarket=$J("#myMarketTabs .market_tab_well_tabs a.market_tab_well_tab_active").attr("id"))?(loadCheckboxHistoryFiltration(getLocalStorage()),(0,_exportMarketHistory_content__WEBPACK_IMPORTED_MODULE_1__.m)(),$J("#BG_bottom").find(".my_market_history_filtration").show()):($J("#BG_bottom").find(".my_market_history_filtration").hide(),$J("#BG_bottom").find(".animated").removeClass("animated"))}function marketMyHistoryRequestOnSuccessAfter(e,t,n){if($J(".sih.my_market_history_filtration .switcher_history_filtration").hasClass("selected")){if(t.start||$J("#tabContentsMyMarketHistoryRows .market_listing_row.market_recent_listing_row").hide(),0===$J("#tabContentsMyMarketHistory").find(".market_listing_table_showmore").length){var i=$J("#tabContentsMyMarketHistory_ctn");i.hide();for(var r='<a\n        class="sih_button sih_pre_shadow_button collapse_my_history"\n        href="javascript:void(0);"\n        >'.concat(SIHLang.collapseHistoryMarket,"</a\n      >"),a=0,o=[10,25,50,100];a<o.length;a++){var s=o[a];r+='<a\n          class="sih_button sih_pre_shadow_button upload_my_history"\n          data-number="'.concat(s,'"\n          href="javascript:void(0);"\n          >').concat(SIHLang.uploadHistoryMarket.replace("$1",s),"</a\n        >")}i.after('<div class="market_listing_table_showmore sih">\n          <div class="upload_my_history_buttons">'.concat(r,"</div>\n        </div>")),$J("#tabContentsMyMarketHistory").find(".upload_my_history").click($J.debounce(300,(function(){viewFilterMarketHistory(!0,$J(this).data("number"),this),colorMarketHistory()}))),$J("#tabContentsMyMarketHistory").find(".collapse_my_history").click($J.debounce(300,(function(){$J("body, html").animate({scrollTop:240},400),g_sihSettingFiltration.totalCountView=10,clearTableHistory(this)})))}Object.keys(n.responseJSON.assets).length>0?g_sihSettingFiltration.start=n.responseJSON.start+n.responseJSON.pagesize:g_sihSettingFiltration.emptyAssets=!0,g_sihSettingFiltration.totalCount=n.responseJSON.total_count,0===$J(".market_listing_table_showmore.sih").find(".sih__total-count").length&&$J(".market_listing_table_showmore.sih").prepend('<div class="sih__total-count">\n          <span>'.concat(SIHLang.historyTotal,": ").concat(g_sihSettingFiltration.totalCount,"</span>\n        </div>")),viewFilterMarketHistory(),spinnerFilterMarketHistory(!1)}else ImprovedMyMarketHistoryNav.init();colorMarketHistory()}function getLocalStorage(){var e,t=_common__WEBPACK_IMPORTED_MODULE_0__.P.get();return null!==(e=t)&&void 0!==e&&e.isChangedForced||(t={isSlotPurchasedHistoryTran:!0,isSlotSoldHistoryTran:!0,isVisibleSlots:!0,isChangedForced:!0},_common__WEBPACK_IMPORTED_MODULE_0__.P.set(t)),t}function loadCheckboxHistoryFiltration(e){0===$J("#BG_bottom").find(".my_market_history_filtration").length&&($J("#myMarketTabs").after('\n      <div class="sih my_market_history_filtration">\n        <div class="switch_history_filtration">\n          <a class="switcher_history_filtration" href="javascript:void(0);">\n            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                d="M13 3H11V13H13V3ZM17.83 5.17L16.41 6.59C18.05 7.91 19 9.9 19 12C19 13.8565 18.2625 15.637 16.9497 16.9497C15.637 18.2625 13.8565 19 12 19C8.13997 19 4.99997 15.88 4.99997 12C4.99997 9.91 5.94997 7.91 7.57997 6.58L6.16997 5.17C2.37997 8.39 1.91997 14.07 5.13997 17.86C8.35997 21.64 14.04 22.1 17.83 18.88C19.85 17.17 21 14.65 21 12C21 9.37 19.84 6.87 17.83 5.17Z"\n                fill="#3DC67D"\n              />\n            </svg>\n            '.concat(SIHLang.filters,'\n          </a>\n        </div>\n\n        <div class="slots_history_tran">\n          <div class="slot_history_tran">\n            <label\n              for="slot_purchased_history_tran"\n              class="sih_checkbox ui-checkboxradio-label ui-corner-all ui-button ui-widget ui-checkboxradio-checked ui-state-active"\n              >').concat(SIHLang.historySaleSlotPurchased,'</label\n            >\n            <input\n              type="checkbox"\n              data-id="isSlotPurchasedHistoryTran"\n              class="ui-checkboxradio ui-helper-hidden-accessible"\n              ').concat(e.isSlotPurchasedHistoryTran?"checked":"",'\n              id="slot_purchased_history_tran"\n            />\n          </div>\n\n          <div class="slot_history_tran">\n            <label\n              for="slot_sold_history_tran"\n              class="sih_checkbox ui-checkboxradio-label ui-corner-all ui-button ui-widget ui-checkboxradio-checked ui-state-active"\n              >').concat(SIHLang.historySaleSlotSold,'</label\n            >\n            <input\n              type="checkbox"\n              data-id="isSlotSoldHistoryTran"\n              ').concat(e.isSlotSoldHistoryTran?"checked":"",'\n              class="ui-checkboxradio ui-helper-hidden-accessible"\n              id="slot_sold_history_tran"\n            />\n          </div>\n        </div>\n      </div>\n    ')),e.isVisibleSlots&&$J(".sih.my_market_history_filtration .switcher_history_filtration").addClass("selected"),loadSlots(e),$J(".sih.my_market_history_filtration .switcher_history_filtration").click((function(){var t=$J(this);t.hasClass("selected")?(t.removeClass("selected"),e.isVisibleSlots=!1):(t.addClass("selected"),e.isVisibleSlots=!0),_common__WEBPACK_IMPORTED_MODULE_0__.P.set(e),loadSlots(e)})))}function loadSlots(e){$J("#new_tab_contents_my_market_history_table").remove();var t=$J(".my_market_history_filtration");$J("#slot_removed_history_tran, #slot_placed_history_tran, #slot_purchased_history_tran, #slot_sold_history_tran").checkboxradio(),e.isVisibleSlots?($J("#BG_bottom").append('<div id="new_tab_contents_my_market_history_table" style="display: none"></div>'),g_sihSettingFiltration={},t.removeClass("inactive"),t.find("input").change((function(){var n=$J(this);t.find("input:checked").length?(e[n.data("id")]=n.prop("checked"),_common__WEBPACK_IMPORTED_MODULE_0__.P.set(e),g_sihSettingFiltration={},LoadMarketHistory()):n.prop("checked",!0).checkboxradio("refresh")}))):t.addClass("inactive"),LoadMarketHistory()}function performFilterMarketHistory(){var e=0,t=!1;return $J("#tabContentsMyMarketHistoryRows .market_listing_row.market_recent_listing_row").each((function(n,i){var r=!1;g_sihSettingFiltration.totalCountView<=e&&(r=!0);var a=getLocalStorage();a.isSlotPurchasedHistoryTran&&($J(i).find(".market_listing_left_cell.market_listing_gainorloss").text().indexOf("+")>-1&&(r?t=!0:(e++,$J(i).addClass("new_history_row_market"))));a.isSlotSoldHistoryTran&&($J(i).find(".market_listing_left_cell.market_listing_gainorloss").text().indexOf("-")>-1&&(r?t=!0:(e++,$J(i).addClass("new_history_row_market"))));if(r&&t)return!1})),t}function clearTableHistory(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){var t=$J(e).text();$J(e).addClass("animation-background"),$J(e).text(SIHLang.loading);var n=0,i=$J("#tabContentsMyMarketHistoryRows");$J(i).find(".market_listing_row.market_recent_listing_row").each((function(e,t){$J(t).attr("style").includes("block")&&(++n>10?$J(t).hide("slow"):$J(t).show("slow"))})),setTimeout((function(){$J(e).removeClass("animation-background"),$J(e).text(t)}),500)}}function uploadMarketHistory(currentButton,defaultText){new Ajax.Request("https://steamcommunity.com/market/myhistory?count=500",{method:"get",parameters:{start:g_sihSettingFiltration.start},onSuccess:function onSuccess(transport){if($J(currentButton).removeClass("animation-background"),$J(currentButton).text(defaultText),transport.responseJSON){g_sihSettingFiltration.emptyAssets=!1;var response=transport.responseJSON,$newTable=$J("#new_tab_contents_my_market_history_table");$newTable.append(response.results_html),$newTable.find(".market_listing_row.market_recent_listing_row").hide(),$J("#tabContentsMyMarketHistoryRows").append($newTable.find(".market_listing_row.market_recent_listing_row")),$newTable.empty(),MergeWithAssetArray(response.assets),eval(response.hovers)}}})}function viewFilterMarketHistory(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;void 0===g_sihSettingFiltration.totalCountView?g_sihSettingFiltration.totalCountView=t:e&&!g_sihSettingFiltration.emptyAssets&&(g_sihSettingFiltration.totalCountView+=t);performFilterMarketHistory();var i=function(e){a.each((function(e,t){$J(t).removeClass("new_history_row_market").show()}))},r=$J("#tabContentsMyMarketHistoryRows .market_listing_row.market_recent_listing_row"),a=$J("#tabContentsMyMarketHistoryRows .market_listing_row.market_recent_listing_row.new_history_row_market");if(g_sihSettingFiltration.totalCountView>a.length)if(g_sihSettingFiltration.totalCount>r.length||g_sihSettingFiltration.emptyAssets){$J(n).addClass("animation-background");var o=$J(n).text();$J(n).text(SIHLang.loading),setTimeout((function(){uploadMarketHistory(n,o)}),3e3)}else i();else i()}function spinnerFilterMarketHistory(e){e?($J("#upload_my_history").addClass("sih-disabled"),$J(".spinner_upload_my_history").css({display:"inline-block"})):($J(".spinner_upload_my_history").css({display:"none"}),$J("#upload_my_history").removeClass("sih-disabled"))}function colorMarketHistory(){$J("#tabContentsMyMarketHistoryRows .market_listing_row.market_recent_listing_row:visible").each((function(e,t){$J(t).find(".sih_market_listing_left_cell_color").length||($J(t).find(".market_listing_gainorloss").before(' <div class="market_listing_left_cell sih_market_listing_left_cell_color"></div> '),$J(t).find(".sih_market_listing_left_cell_color").append($J(t).find(".market_listing_gainorloss")).append('<div class="color_background"></div>').append($J(t).find(".market_listing_item_img")));var n=$J(t).find(".market_listing_left_cell.market_listing_gainorloss").text();if(n.indexOf("+")>-1){var i=$J(t).find(".market_listing_price").text();i.includes("-")||$J(t).find(".market_listing_price").text("-".concat(i.trim()))}if(n.indexOf("-")>-1){var r=$J(t).find(".market_listing_price").text();r.includes("+")||$J(t).find(".market_listing_price").text("+".concat(r.trim()))}(window.color_slot_removed_history_tran_show&&$J(t).attr("id").indexOf("_event_2")>-1&&$J(t).find(".sih_market_listing_left_cell_color").css({"background-color":window.color_slot_removed_history_tran}),window.color_slot_placed_history_tran_show&&$J(t).attr("id").indexOf("_event_1")>-1&&$J(t).find(".sih_market_listing_left_cell_color").css({"background-color":window.color_slot_placed_history_tran}),window.color_slot_purchased_history_tran_show)&&($J(t).find(".market_listing_left_cell.market_listing_gainorloss").text().indexOf("+")>-1&&$J(t).find(".sih_market_listing_left_cell_color").css({"background-color":window.color_slot_purchased_history_tran}));window.color_slot_sold_history_tran_show&&($J(t).find(".market_listing_left_cell.market_listing_gainorloss").text().indexOf("-")>-1&&$J(t).find(".sih_market_listing_left_cell_color").css({"background-color":window.color_slot_sold_history_tran}))}))}},3450:(e,t,n)=>{n.d(t,{E1:()=>r,vx:()=>a});var i=n(4056),r={_name:"SIH_MARKETPLACE_BANNERS",get:function(){return i.zc.get(this._name)||{}},set:function(e){i.zc.set(this._name,e)}},a={_name:"SIH_MARKETPLACES_CACHE",get:function(){return i.zc.get(this._name)||{}},set:function(e){i.zc.set(this._name,e)}}},527:(e,t,n)=>{n.d(t,{LoadSteamAppFilters:()=>r,RefactorAdvancedSearchDialog:()=>i});var i=function(){window.AdvancedSearchDialog={m_bInitialized:!1,m_fnDocumentKeyHandler:null,m_modal:null,Initialize:function(){},Show:function(){this.m_bInitialized||this.Initialize(),this.m_fnDocumentKeyHandler=this.OnDocumentKeyPress.bindAsEventListener(this),$(document).observe("keydown",this.m_fnDocumentKeyHandler);var e=this;this.m_modal=ShowDialog("Search Community Market",$J("#market_advancedsearch_dialog").show()),this.m_modal.SetRemoveContentOnDismissal(!1),this.m_modal.always((function(){e.Dismiss()})),$("market_advancedsearch_dialog").focus(),this.refactoredHeader()},Dismiss:function(){$(document).stopObserving("keydown",this.m_fnDocumentKeyHandler),this.m_modal&&(this.m_modal.Dismiss(),this.m_modal=null)},SelectApp:function(e){this.SelectAppElement($J("#app_option_"+e))},SelectAppElement:function(e){var t=e.clone();$J("#market_advancedsearch_appselect_activeapp").empty(),t.attr("id",t.attr("id")+"_selected"),$J("#market_advancedsearch_appselect_activeapp").append(t),$J("#market_advanced_search_app").remove();var n=$J('<input type="hidden" id="market_advanced_search_app" name="appid" value="'+e.data("appid")+'"/>');$J("#market_advanced_search").append(n)},OnCancel:function(e){this.Dismiss(),e.stop()},OnDocumentKeyPress:function(e){e.keyCode==Event.KEY_ESC&&(this.Dismiss(),e.stop())},refactoredHeader:function(){var e=$J(".newmodal_header:visible"),t=$J('\n        <div class="sih-global sih-market-search">\n          <div class="sih-market-search__header row gap-25">\n            <div class="sih-market-search__header_left">\n              <div class="sih-market-search__powered"></div>\n            </div>\n\n            <div class="sih-market-search__header_right">\n              <div class="row gap-16">\n                <a href="javascript:void(0)" class="sih-market-search__item" data-appid="730" title="CS 2">\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/730/8dbc71957312bbd3baea65848b545be9eae2a355.jpg"\n                    alt="CS 2"\n                  />\n                </a>\n                <a href="javascript:void(0)" class="sih-market-search__item" data-appid="570" title="Dota 2">\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/570/0bbb630d63262dd66d2fdd0f7d37e8661a410075.jpg"\n                    alt="Dota 2"\n                  />\n                </a>\n                <a href="javascript:void(0)" class="sih-market-search__item" data-appid="252490" title="Rust">\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/252490/820be4782639f9c4b64fa3ca7e6c26a95ae4fd1c.jpg"\n                    alt="Rust"\n                  />\n                </a>\n                <a href="javascript:void(0)" class="sih-market-search__item" data-appid="440" title="Team Fortress 2">\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/440/e3f595a92552da3d664ad00277fad2107345f743.jpg"\n                    alt="TF 2"\n                  />\n                </a>\n\n                <a href="javascript:void(0)" class="sih-market-search__item" data-appid="753" title="Steam">\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/753/1d0167575d746dadea7706685c0f3c01c8aeb6d8.jpg"\n                    alt="Steam"\n                  />\n                </a>\n                <a href="javascript:void(0)" class="sih-market-search__item" data-appid="866510" title="!Anyway!">\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/866510/7cf8f282dabdd1f7f33a02653f877551632e6ecd.jpg"\n                    alt="!Anyway!"\n                  />\n                </a>\n                <a\n                  href="javascript:void(0)"\n                  class="sih-market-search__item"\n                  data-appid="322330"\n                  title="Don\'t Starve Together"\n                >\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/322330/a80aa6cff8eebc1cbc18c367d9ab063e1553b0ee.jpg"\n                    alt="Don\'t Starve Together"\n                  />\n                </a>\n                <a href="javascript:void(0)" class="sih-market-search__item" data-appid="304930" title="Unturned">\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/304930/e18009fb628b35953826efe47dc3be556b689f4c.jpg"\n                    alt="Unturned"\n                  />\n                </a>\n                <a href="javascript:void(0)" class="sih-market-search__item" data-appid="218620" title="PAYDAY 2">\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/218620/a6abc0d0c1e79c0b5b0f5c8ab81ce9076a542414.jpg"\n                    alt="PAYDAY 2"\n                  />\n                </a>\n                <a\n                  href="javascript:void(0)"\n                  class="sih-market-search__item"\n                  data-appid="232090"\n                  title="Killing Floor 2"\n                >\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/232090/15837cefb378766e9916548f8591b6eb490b9e52.jpg"\n                    alt="Killing Floor 2"\n                  />\n                </a>\n                <a\n                  href="javascript:void(0)"\n                  class="sih-market-search__item"\n                  data-appid="578080"\n                  title="PUBG: BATTLEGROUNDS"\n                >\n                  <img\n                    src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/578080/609f27278aa70697c13bf99f32c5a0248c381f9d.jpg"\n                    alt="PUBG: BATTLEGROUNDS"\n                  />\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      ');e.find(".sih-market-search").length||(e.append(t),e.find(".title_text").prependTo(".sih-market-search__header_left"),e.find(".sih-market-search__item").tooltip({position:{my:"center bottom",at:"center top"},tooltipClass:"name-tooltip item-hover-name-tooltip"}));t.find(".sih-market-search__item").click((function(){var e=$J(this).data("appid");$J(".popup_item.popup_menu_item.market_advancedsearch_appname").each((function(t,n){var i=$J(n);e===i.data("appid")&&i.trigger("click")}))}))}}},r=function(){"undefined"!=typeof g_rgFilterData&&ProcessFilterData({facets:g_rgFilterData});var e=$J('<form id="sih_advanced_search" accept-charset="UTF8" action="https://steamcommunity.com/market/search" method="GET"></form>'),t=$J(".market_app_selector").clone(),n=$J("#market_advancedsearch_filters").clone(),i=$J('<div class="sih-market-search__powered"></div>');t.find("#market_advancedsearch_appselect").attr("id","sih_advancedsearch_appselect").attr("onClick","ShowMenu('sih_advancedsearch_appselect','sih_advancedsearch_appselect_options', 'left');"),t.find("#market_advancedsearch_appselect_activeapp").attr("id","sih_advancedsearch_appselect_activeapp"),t.find("#appselect_arrow").attr("id","sih_appselect_arrow"),t.find("#market_advancedsearch_appselect_options").attr("id","sih_advancedsearch_appselect_options"),t.find("#market_advancedsearch_appselect_options_apps").attr("id","sih_advancedsearch_appselect_options_apps"),n.attr("id","sih_advancedsearch_filters");var r=$J('\n    <div class="market_advancedsearch_bottombuttons">\n      <a href="javascript:ResetSearchFilters();">'.concat(SIHLang.reset,'</a>\n      <div onclick="document.forms[\'sih_advanced_search\'].submit();" class="btn_medium btn_green_white_innerfade">\n        <span>').concat(SIHLang.search,"</span>\n      </div>\n    </div>\n  "));e.append(i).append(t).append(n).append(r),$J("#sideBar").append(e);var a=new URLSearchParams(window.location.search);function o(e){var t=e.clone();t.attr("id",t.attr("id")+"_selected"),$J("#sih_advancedsearch_appselect_activeapp").empty().append(t),$J("#sih_advanced_search_app").remove();var n=$J('<input type="hidden" id="sih_advanced_search_app" name="appid" value="'.concat(e.data("appid"),'" />'));$J("#sih_advanced_search").append(n)}$J("#sih_advancedsearch_appselect_options .popup_item.popup_menu_item.market_advancedsearch_appname").each((function(e,t){var n=$J(t);+a.get("appid")===n.data("appid")&&o(n)})),$J("#sih_advanced_search #sih_advancedsearch_appselect_options_apps .popup_item").click((function(){HideMenu($("sih_advancedsearch_appselect"),$("sih_advancedsearch_appselect_options")),o($J(this));var e=$J(this).data("appid"),t=$J("#sih_advancedsearch_filters");if(e){t.empty();var n=$J('<img\n          src="https://community.akamai.steamstatic.com/public/images/login/throbber.gif"\n          alt="Загрузка"\n          style="margin-top: 139px"\n        />');t.append(n).css("text-align","center"),$J.ajax({url:"https://steamcommunity.com/market/appfilters/"+e,type:"GET"}).error((function(){t.empty().css("text-align","inherit").text("Oops. We are sorry, but something went wrong")})).success((function(e){if(e.success){ProcessFilterData(e);var n=$J("#market_advancedsearch_filters").clone();n.attr("id","sih_advancedsearch_filters"),$J("#sih_advanced_search #sih_advancedsearch_filters").replaceWith(n)}else t.empty().css("text-align","inherit").text("Oops. We are sorry, but something went wrong")}))}}))};n(3186)},1029:(e,t,n)=>{n.d(t,{A:()=>i});const i={msg:{BACKGROUND_GET_INVENTORY_VALUE:"GetInventoryValue",BACKGROUND_GET_INVENTORY_ITEMS:"GetInventoryItems",BACKGROUND_GET_EXTPRICE_TF2BP:"TF2BP",BACKGROUND_GET_EXTPRICES:"GET_EXTERNAL_PRICES",BACKGROUND_GET_PLAYER_ITEMS:"GetPlayerItems",BACKGROUND_GET_PLAYER_BANS:"GetPlayerBans",BACKGROUND_GET_LAST_TRADES:"GetLastTrades",BACKGROUND_GET_EXCHANGE_RATES:"exchangerate",BACKGROUND_GET_BANNER:"GetBanner",BACKGROUND_GET_CUSTOM:"getcustom",BACKGROUND_GET_CUSTOM_TOTAL:"getcustomtotal",BACKGROUND_GET_STEAM_PRICES:"GET_STEAM_PRICES",BACKGROUND_GET_PRICE_FROM_STEAM:"GET_PRICE_FROM_STEAM",BACKGROUND_SEND_MARKETPLACE_FEEDBACK:"SEND_MARKETPLACE_FEEDBACK",BACKGROUND_GET_MANIFEST_APP:"GET_MANIFEST_APP",BACKGROUND_GET_MARKETPLACES:"GET_MARKETPLACES",BACKGROUND_REMOVE_BOOKMARK:"RemoveBookmark",BACKGROUND_UPDATE_BOOKMARKS:"UpdateBookmarks",BACKGROUND_SET_TRADEOFFER_NUMBERS:"SetTradeOfferNumbers",BACKGROUND_GET_STEAM_PLAYER_BADGES:"GetSteamPlayerBadges",BACKGROUND_GET_STEAM_BADGES:"GetSteamBadges",BACKGROUND_GET_STEAM_PLAYER_AVAILABLE_CARDS:"getSteamPlayerAvailableCards",BACKGROUND_SET_USER_STEAM_PRICE:"BACKGROUND_SET_USER_STEAM_PRICE",BACKGROUND_SEND_USER_STEAM_PRICE:"BACKGROUND_SEND_USER_STEAM_PRICE",BACKGROUND_GET_LISTING_ITEM_INFO:"GetListingItemInfo",BACKGROUND_GET_RATES:"GetRates",BACKGROUND_CHANGE_CURRENCY:"BACKGROUND_CHANGE_CURRENCY",BACKGROUND_GET_STEAM_BY_SIH_PRICES:"GET_STEAM_BY_SIH_PRICES",BACKGROUND_GET_PRICES_BY_MARKETPLACES:"GET_PRICES_BY_MARKETPLACES",BACKGROUND_GET_WEAPON_WEAR_MAP:"GET_WEAPON_WEAR_MAP",BACKGROUND_GET_STEAM_RUNES:"GET_STEAM_RUNES",BACKGROUND_GET_SKINS_GIVEAWAY:"GET_SKINS_GIVEAWAY",BACKGROUND_GET_STEAM_REP_BAN_INFO:"GET_STEAM_REP_BAN_INFO",BACKGROUND_GET_PLAYER_BANS_GAINSKINS:"GET_PLAYER_BANS_GAINSKINS",BACKGROUND_GET_ONLINE_USERS_BY_APPID:"GET_ONLINE_USERS_BY_APPID",BACKGROUND_GET_SIH_PRICES:"GET_SIH_PRICES",BACKGROUND_BADGE_PROGRESS_GET_BADGES:"BADGE_PROGRESS_GET_BADGES",BACKGROUND_OPEN_TAB_SETTINGS:"BACKGROUND_OPEN_TAB_SETTINGS",BACKGROUND_EVENT_STORE:"EVENT_STORE",BACKGROUND_EVENT_REGISTRATION:"EVENT_REGISTRATION",BACKGROUND_SET_EVENT_REGISTRATION_V2:"BACKGROUND_SET_EVENT_REGISTRATION_V2",BACKGROUND_SIH_SETTINGS:"SIH_SETTINGS",BACKGROUND_REGISTER_SIH_REFERRER:"REGISTER_SIH_REFERRER",BACKGROUND_REGISTER_SIH_REFERRER_DELETE:"REGISTER_SIH_REFERRER_DELETE",BACKGROUND_INVENTORY_MODE:"SIH_INVENTORY_MODE",BACKGROUND_INVENTORY_PRICE:"BACKGROUND_INVENTORY_PRICE",BACKGROUND_HIGHLIGHT_OVERPRICED:"BACKGROUND_HIGHLIGHT_OVERPRICED",BACKGROUND_TRADE_ACCEPT:"BACKGROUND_TRADE_ACCEPT",BACKGROUND_TRADE_DECLINE:"BACKGROUND_TRADE_DECLINE",BACKGROUND_TRADE_CANCEL:"BACKGROUND_TRADE_CANCEL",BACKGROUND_UPDATE_TRADE_STATUS:"BACKGROUND_UPDATE_TRADE_STATUS",BACKGROUND_TRADEOFFER_THROUGH_PARSING:"BACKGROUND_TRADEOFFER_THROUGH_PARSING",BACKGROUND_HIGHLIGHT_OVERPRICED_AWAIT:"BACKGROUND_HIGHLIGHT_OVERPRICED_AWAIT",BACKGROUND_HIGHLIGHT_LOWERPRICED_BUY:"BACKGROUND_HIGHLIGHT_LOWERPRICED_BUY",BACKGROUND_GET_MY_STEAM_ID:"BACKGROUND_GET_MY_STEAM_ID",BACKGROUND_UPDATE_KEY_STORAGE_SYNC:"BACKGROUND_UPDATE_KEY_STORAGE_SYNC",BACKGROUND_UPDATE_WALLET:"BACKGROUND_UPDATE_WALLET",BACKGROUND_MANUAL_LOGIN:"BACKGROUND_MANUAL_LOGIN",BACKGROUND_CHECK_USER:"BACKGROUND_CHECK_USER",BACKGROUND_ON_LOGOUT_STEAM_USER:"BACKGROUND_ON_LOGOUT_STEAM_USER",BACKGROUND_UPDATE_USER_SORT_MARKET:"BACKGROUND_UPDATE_USER_SORT_MARKET",BACKGROUND_LOGIN_SIH_APP:"BACKGROUND_LOGIN_SIH_APP",BACKGROUND_GET_USER_AUTH_SIH_APP:"BACKGROUND_GET_USER_AUTH_SIH_APP",BACKGROUND_GET_SIH_APP_USER_INFO:"BACKGROUND_GET_SIH_APP_USER_INFO",BACKGROUND_GET_LINK_TO_PAYMENT_SUBSCRIBE:"BACKGROUND_GET_LINK_TO_PAYMENT_SUBSCRIBE",BACKGROUND_SET_EMAIL_SIH_APP:"BACKGROUND_SET_EMAIL_SIH_APP",BACKGROUND_DELETE_EMAIL_SIH_APP:"BACKGROUND_DELETE_EMAIL_SIH_APP",BACKGROUND_CHECK_SUBSCRIBE_ADS:"BACKGROUND_CHECK_SUBSCRIBE_ADS",BACKGROUND_ENTER_PASSWORD_SIH_APP:"BACKGROUND_ENTER_PASSWORD_SIH_APP",BACKGROUND_UPDATE_TRADELINK_SIH_APP:"BACKGROUND_UPDATE_TRADELINK_SIH_APP",BACKGROUND_GET_SIH_APP_LOG:"BACKGROUND_GET_SIH_APP_LOG",BACKGROUND_READ_SIH_APP_LOG:"BACKGROUND_READ_SIH_APP_LOG",BACKGROUND_GET_SUBSCRIBE_ADS_PLANS_SIH_APP:"BACKGROUND_GET_SUBSCRIBE_ADS_PLANS_SIH_APP",BACKGROUND_GET_SUBSCRIBE_ADS_METHODS_SIH_APP:"BACKGROUND_GET_SUBSCRIBE_ADS_METHODS_SIH_APP",BACKGROUND_CREATE_INVOICE:"BACKGROUND_CREATE_INVOICE",BACKGROUND_GET_ORDER_HISTOGRAM:"BACKGROUND_GET_ORDER_HISTOGRAM",BACKGROUND_GET_SIH_TOKEN:"BACKGROUND_GET_SIH_TOKEN",BACKGROUND_GET_SIH_APP_TOKEN:"BACKGROUND_GET_SIH_APP_TOKEN",BACKGROUND_GET_EVENT_CARDS:"BACKGROUND_GET_EVENT_CARDS",BACKGROUND_CHECK_EVENT_GAME:"BACKGROUND_CHECK_EVENT_GAME",BACKGROUND_BUY_ITEM_SIH_APP:"BACKGROUND_BUY_ITEM_SIH_APP",BACKGROUND_CANCEL_ORDER_SIH_APP:"BACKGROUND_CANCEL_ORDER_SIH_APP",BACKGROUND_UPDATE_LOCAL_ITEM_ORDER_SIH_APP:"BACKGROUND_UPDATE_LOCAL_ITEM_ORDER_SIH_APP",BACKGROUND_SET_BUY_STACK_SIH_APP:"BACKGROUND_SET_BUY_STACK_SIH_APP",BACKGROUND_GET_BUY_STACK_BY_NAME_SIH_APP:"BACKGROUND_GET_BUY_STACK_BY_NAME_SIH_APP",BACKGROUND_GET_ALL_BUY_STACK_SIH_APP:"BACKGROUND_GET_ALL_BUY_STACK_SIH_APP",BACKGROUND_DELETE_BUY_STACK_SIH_APP:"BACKGROUND_DELETE_BUY_STACK_SIH_APP",BACKGROUND_DELETE_LAST_BUY_STACK_SIH_APP:"BACKGROUND_DELETE_LAST_BUY_STACK_SIH_APP",BACKGROUND_CHANGE_STATUS_ITEM_BUY_STACK_SIH_APP:"BACKGROUND_CHANGE_STATUS_ITEM_BUY_STACK_SIH_APP",BACKGROUND_UPDATE_PRICE_ITEMS_BUY_STACK_SIH_APP:"BACKGROUND_UPDATE_PRICE_ITEMS_BUY_STACK_SIH_APP",BACKGROUND_GET_ORDERS_HISTORY_SIH_APP:"BACKGROUND_GET_ORDERS_HISTORY_SIH_APP",BACKGROUND_CREATE_BUY_ORDER_SIH_APP:"BACKGROUND_CREATE_BUY_ORDER_SIH_APP",BACKGROUND_GET_TOP_SALES:"BACKGROUND_GET_TOP_SALES",BACKGROUND_UPDATE_ITEM_CHECKBOX_SIH_APP:"BACKGROUND_UPDATE_ITEM_CHECKBOX_SIH_APP",BACKGROUND_SET_DEFAULT_BUY_COUNT:"BACKGROUND_SET_DEFAULT_BUY_COUNT",BACKGROUND_GET_AUTO_LOAD_FLOATS:"BACKGROUND_GET_AUTO_LOAD_FLOATS",BACKGROUND_PING_SIH_APP_SESSION:"BACKGROUND_PING_SIH_APP_SESSION",BACKGROUND_UPDATE_USER_STATE:"BACKGROUND_UPDATE_USER_STATE",BACKGROUND_CREATE_BUY_ORDER:"BACKGROUND_CREATE_BUY_ORDER",BACKGROUND_GET_BUY_ORDER_STATUS:"BACKGROUND_GET_BUY_ORDER_STATUS",BACKGROUND_CANCEL_BUY_ORDER:"BACKGROUND_CANCEL_BUY_ORDER",BACKGROUND_GET_ENABLED_RESUBMIT_ORDERS:"BACKGROUND_GET_ENABLED_RESUBMIT_ORDERS",BACKGROUND_RESELL_ITEMS:"BACKGROUND_RESELL_ITEMS",BACKGROUND_SAVE_ITEM_FOR_SALE:"BACKGROUND_SAVE_ITEM_FOR_SALE",BACKGROUND_REMOVE_ITEM_FOR_SALE:"BACKGROUND_REMOVE_ITEM_FOR_SALE",BACKGROUND_GET_SAVED_ITEMS_FOR_SALE:"BACKGROUND_GET_SAVED_ITEMS_FOR_SALE",BACKGROUND_STOP_RESELL_ITEMS:"BACKGROUND_STOP_RESELL_ITEMS",BACKGROUND_GET_COMPLETED_SELL_MARKET_ITEMS:"BACKGROUND_GET_COMPLETED_SELL_MARKET_ITEMS",BACKGROUND_RESUBMIT_BUY_ORDER:"BACKGROUND_RESUBMIT_BUY_ORDER",BACKGROUND_GET_COMPLETED_BUY_ORDERS_MARKET_ITEMS:"BACKGROUND_GET_COMPLETED_BUY_ORDERS_MARKET_ITEMS",BACKGROUND_STOP_RELISTING_BUY_ORDERS_ITEMS:"BACKGROUND_STOP_RELISTING_BUY_ORDERS_ITEMS",BACKGROUND_GET_AVAILABLE_ITEM_PAY_IDS:"BACKGROUND_GET_AVAILABLE_ITEM_PAY_IDS",BACKGROUND_EDIT_PROJECTS_PERMISSION:"BACKGROUND_EDIT_PROJECTS_PERMISSION",BACKGROUND_DELETE_PROJECTS_PERMISSION:"BACKGROUND_DELETE_PROJECTS_PERMISSION",BACKGROUND_GET_PROJECTS_PERMISSION:"BACKGROUND_GET_PROJECTS_PERMISSION",BACKGROUND_GET_PRICES_FOR_EXTERNAL:"BACKGROUND_GET_PRICES_FOR_EXTERNAL",BACKGROUND_GET_SIH_MARKET_ACTUAL_PRICES:"BACKGROUND_GET_SIH_MARKET_ACTUAL_PRICES",BACKGROUND_CHECK_SIH_CASE:"BACKGROUND_CHECK_SIH_CASE",BACKGROUND_GET_SIH_CASES:"BACKGROUND_GET_SIH_CASES",BACKGROUND_GET_SIH_CASE_INFO:"BACKGROUND_GET_SIH_CASE_INFO",BACKGROUND_SIH_OPEN_CASE:"BACKGROUND_SIH_OPEN_CASE",BACKGROUND_GET_SIH_CASE_HISTORY:"BACKGROUND_GET_SIH_CASE_HISTORY",BACKGROUND_DELETE_SIH_CASE_HISTORY:"BACKGROUND_DELETE_SIH_CASE_HISTORY",BACKGROUND_GET_KINGUIN_PRODUCTS:"BACKGROUND_GET_KINGUIN_PRODUCTS",BACKGROUND_GET_CURRENT_USER_COUNTRY_CODE:"BACKGROUND_GET_CURRENT_USER_COUNTRY_CODE"},alarm:{MAIN:"main",CHECK_PRICE:"checkprice",CHECK_USER:"checkUser",CHECK_TRADEOFFER_THROUGH_API:"CHECK_TRADEOFFER_THROUGH_API",CHECK_TRADEOFFER_THROUGH_PARSING:"CHECK_TRADEOFFER_THROUGH_PARSING",CLEAR_TRADEOFFER_REQUEST_LIMIT:"CLEAR_TRADEOFFER_REQUEST_LIMIT",CHECK_MARKET_AUTOACCEPT_TRADES_TOGGLE:"CHECK_MARKET_AUTOACCEPT_TRADES_TOGGLE",BACKGROUND_AD_HIT_SEND:"AD_HIT_SEND",ACTUALIZE_AGENTS_STATE:"ACTUALIZE_AGENTS_STATE",ACTUALIZE_NEW_SIH_AGENT_STATE:"ACTUALIZE_NEW_SIH_AGENT_STATE",PARSING_ACTUAL_INVENTORY:"PARSING_ACTUAL_INVENTORY",CHECK_ACTUAL_BALANCE:"CHECK_ACTUAL_BALANCE",CHECK_ACTIVE_LOTS_MARKET:"CHECK_ACTIVE_LOTS_MARKET",CHECK_HISTORY_LOTS_MARKET:"CHECK_HISTORY_LOTS_MARKET",GET_EXCHANGE_RATES:"GET_EXCHANGE_RATES",GET_STEAM_RATES:"GET_STEAM_RATES",GET_STEAM_CURRENCY:"GET_STEAM_CURRENCY",UPDATE_PRICE_BOOKMARKS:"UPDATE_PRICE_BOOKMARKS",UPDATE_SIH_APP_AUTH:"UPDATE_SIH_APP_AUTH",UPDATE_SUBSCRIBE_ADS_PLANS_AND_METHODS:"UPDATE_SUBSCRIBE_ADS_PLANS_AND_METHODS",PING_SIH_APP_SESSION:"PING_SIH_APP_SESSION",BACKGROUND_CREATE_BUY_ORDER_FROM_STACK_SIH_APP:"BACKGROUND_CREATE_BUY_ORDER_FROM_STACK_SIH_APP",BACKGROUND_UPDATE_ORDERS_HISTORY_SIH_APP:"BACKGROUND_UPDATE_ORDERS_HISTORY_SIH_APP",BACKGROUND_PARSE_OTHER_INVENTORY:"BACKGROUND_PARSE_OTHER_INVENTORY",BACKGROUND_SEND_EVENT_REGISTRATION_V2:"BACKGROUND_SEND_EVENT_REGISTRATION_V2",BACKGROUND_SEND_USER_MARKET_HISTORY:"BACKGROUND_SEND_USER_MARKET_HISTORY",BACKGROUND_CHECK_SIH_VERSION:"BACKGROUND_CHECK_SIH_VERSION"},markets:[{name:"waxpeer",title:"Waxpeer",isView:!0,appIds:["730","252490","440"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"dmarket",title:"DMarket",isView:!0,appIds:["570","730","252490","440"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"csgocom",title:"Csgocom",isView:!0,appIds:["730","570","440","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0,priorityPosition:2},{name:"csgocomBuy",title:"Csgocom buy",isView:!0,appIds:["730","570","440","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!1,priorityPosition:2},{name:"csmoney",title:"CS.money",isView:!1,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!1},{name:"csmoneyStore",title:"CS.money Store",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0,priorityPosition:3},{name:"csmoneyTrade",title:"CS.money Trade",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0,priorityPosition:3},{name:"skinport",title:"Skinport",isView:!0,appIds:["730","570","440","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"bitskins",title:"BitSkins",isView:!0,appIds:["730","570","440"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"skinbaron",title:"Skinbaron",isView:!0,appIds:["730","440"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"shadowpay",title:"ShadowPay",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"mannco",title:"Mann.Co",isView:!0,appIds:["440","730","570","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"tradeit",title:"Tradeit",isView:!0,appIds:["730","440","570","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0,priorityPosition:1},{name:"tradeitDeposit",title:"Tradeit Deposit",isView:!0,appIds:["730","440","570","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!1,priorityPosition:1},{name:"cstrade",title:"CS.Trade",isView:!0,appIds:["440","570","730","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"lootfarm",title:"LOOTfarm",isView:!0,appIds:["440","570","730","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"swapgg",title:"Swapgg",isView:!0,appIds:["440","570","730","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"lisskins",title:"Lisskins",isView:!0,appIds:["730","570","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"buff163",title:"Buff163",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"cs2go",title:"CS2GO",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"haloskins",title:"HaloSkins",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"igxe",title:"Igxe",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"gamerpay",title:"GamerPay",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"skinsmonkey",title:"Skinsmonkey",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"skinsmonkeycash",title:"Skinsmonkey cash",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"skinout",title:"SkinOut",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0,priorityPosition:4},{name:"bitskinsp2p",title:"Bitskins P2P",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"whitemarket",title:"White.market",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"steamprices",title:"Steamprices",isView:!1,appIds:["730","570","440","252490"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!1},{name:"sihmarket",title:"SIH.Market",isView:!0,appIds:["730","252490","440"],depositPercentage:0,link:null,data:null,group:"B",forExternalInjection:!0},{name:"rustskins",title:"Rustskins",isView:!0,appIds:["252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"steamLiveSell",title:"Steam",isView:!1,appIds:["730"],link:null,data:null,group:"B",forExternalInjection:!0},{name:"csfloat",title:"CSFloat",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"avanmarket",title:"Avan.Market",isView:!0,appIds:["570","730","252490"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0},{name:"skinplace",title:"Skin.Place",isView:!0,appIds:["730"],depositPercentage:0,link:null,data:null,group:"A",forExternalInjection:!0}],notification:{EXTENSION_UPDATED:"update",INPUT_INVITE:"comInvites",INPUT_COMMENT:"comMessages",OUTPUT_OFFER:"comSentOffers",INPUT_OFFER:"comReceivedOffers",AVAILABLE_FREE_REWARDS:"available_free_rewards",AVAILABLE_EGS_FREE:"available_egs_free"},tradeOfferState:{Invalid:1,Active:2,Accepted:3,Countered:4,Expired:5,Canceled:6,Declined:7,InvalidItems:8,CreatedNeedsConfirmation:9,CanceledBySecondFactor:10,InEscrow:11},tradeOfferType:{Sent:0,Received:1},games:{CSGO:730,COUNTER_STRIKE_GLOBAL_OFFENSIVE:730,TEAM_FORTRESS_2:440,DOTA_2:570,PAYDAY_2:218620,RUST:252490,H1Z1_JUST_SURVIVE:295110,H1Z1_KING_OF_THE_KILL:433850,UNTURNED:304930,KILLING_FLOOR_2:232090,PLAYERUNKNOWNS_BATTLEGROUNDS:578080,STEAM_COMMUNITY:753},stats:{SIH_EVENT_REGISTER_VIEW_ITEM_EVENT_REGISTER_ENABLED:"SIH_EVENT_REGISTER_VIEW_ITEM_EVENT_REGISTER_ENABLED",SIH_EVENTS_REGISTER_ENABLED:"SIH_EVENTS_REGISTER_ENABLED",SIH_REFERRER:"SIH_REFERRER"},ALLOW_LAST_STEAM_NUMBERS:[0,1,2,3,4,5,6,7,8,9],UNAVAILABLE_GROUP_APP_IDS:[321360,753],AVAILABLE_MARKET_LISTING_NUMBER_PRESETS:[10,20,100],AVAILABLE_DOTA_NAMES:[{"Music Pack":{isMarketHashName:!0,isType:!0}},{"Cursor Pack":{isMarketHashName:!0,isType:!0}},{Bundle:{isMarketHashName:!0,isType:!0}},{Taunt:{isMarketHashName:!0,isType:!1}},{"Treasure Chest":{isMarketHashName:!1,isType:!0}},{"Immortal Treasure":{isMarketHashName:!0,isType:!1}},{"Inscribed Gem":{isMarketHashName:!1,isType:!0}},{"Name Tag":{isMarketHashName:!0,isType:!1}},{"Treasure Key":{isMarketHashName:!1,isType:!0}},{"Loading Screen":{isMarketHashName:!1,isType:!0}},{"Priceless Treasure":{isMarketHashName:!1,isType:!0}}],STEAM_NOTIFICATIONS_TYPES:{TRADE:9},countries:{abw:"Aruba",afg:"Afghanistan",ago:"Angola",aia:"Anguilla",ala:"Åland Islands",alb:"Albania",and:"Andorra",are:"United Arab Emirates",arg:"Argentina",arm:"Armenia",asm:"American Samoa",ata:"Antarctica",atf:"French Southern Territories",atg:"Antigua and Barbuda",aus:"Australia",aut:"Austria",aze:"Azerbaijan",bdi:"Burundi",bel:"Belgium",ben:"Benin",bes:"Bonaire, Sint Eustatius and Saba",bfa:"Burkina Faso",bgd:"Bangladesh",bgr:"Bulgaria",bhr:"Bahrain",bhs:"Bahamas",bih:"Bosnia and Herzegovina",blm:"Saint Barthélemy",blr:"Belarus",blz:"Belize",bmu:"Bermuda",bol:"Bolivia",bra:"Brasil",brb:"Barbados",brn:"Brunei Darussalam",btn:"Bhutan",bvt:"Bouvet Island",bwa:"Botswana",caf:"Central African Republic",can:"Canada",cat:"Catalonia",cck:"Cocos (Keeling) Islands",che:"Switzerland",chl:"Chile",chn:"China",civ:"Côte d`Ivoire",cmr:"Cameroon",cod:"Congo (Democratic Republic of the Congo)",cog:"Congo (Congo-Brazzaville)",cok:"Cook Islands",col:"Colombia",com:"Comoros",cpv:"Cabo Verde",cri:"Costa Rica",cub:"Cuba",cuw:"Curaçao",cxr:"Christmas Island",cym:"Cayman Islands",cyp:"Cyprus",cze:"Czech Republic",deu:"Germany",dji:"Djibouti",dma:"Dominica",dnk:"Denmark",dom:"Dominican Republic",dza:"Algeria",ecu:"Ecuador",egy:"Egypt",eri:"Eritrea",esh:"Western Sahara",esp:"Spain",est:"Estonia",eth:"Ethiopia",fin:"Finland",fji:"Fiji",flk:"Falkland Islands (Malvinas)",fra:"France",fro:"Faroe Islands",fsm:"Micronesia",gab:"Gabon",gbr:"United Kingdom",geo:"Georgia",ggy:"Guernsey",gha:"Ghana",gib:"Gibraltar",gin:"Guinea",glp:"Guadeloupe",gmb:"Gambia",gnb:"Guinea-Bissau",gnq:"Equatorial Guinea",grc:"Greece",grd:"Grenada",grl:"Greenland",gtm:"Guatemala",guf:"French Guiana",gum:"Guam",guy:"Guyana",hkg:"Hong Kong",hmd:"Heard Island and McDonald Islands",hnd:"Honduras",hrv:"Croatia",hti:"Haiti",hun:"Hungary",idn:"Indonesia",imn:"Isle of Man",ind:"India",iot:"British Indian Ocean Territory",irl:"Ireland",irn:"Iran",irq:"Iraq",isl:"Iceland",isr:"Israel",ita:"Italy",jam:"Jamaica",jey:"Jersey",jor:"Jordan",jpn:"Japan",kaz:"Kazakstan",ken:"Kenya",kgz:"Kyrgyzstan",khm:"Cambodia",kir:"Kiribati",kna:"Saint Kitts and Nevis",kor:"Korea",kos:"Kosovo",kwt:"Kuwait",lbn:"Lebanon",lbr:"Liberia",lby:"Libya",lca:"Saint Lucia",lie:"Liechtenstein",lka:"Sri Lanka",lso:"Lesotho",ltu:"Lithuania",lux:"Luxembourg",lva:"Latvia",mac:"Macau",maf:"Saint Martin",mar:"Marokko",mco:"Monaco",mda:"Moldova",mdg:"Madagascar",mdv:"Maldives",mex:"Mexico",mhl:"Marshall Islands",mkd:"Makedonia",mli:"Mali",mlt:"Malta",mmr:"Myanmar",mne:"Montenegro",mng:"Mongolia",mnp:"Northern Mariana Islands",moz:"Mozambique",mrt:"Mauritania",msr:"Montserrat",mtq:"Martinique",mus:"Mauritius",mwi:"Malawi",mys:"Malaysia",myt:"Mayotte",nam:"Namibia",ncl:"New Caledonia",ner:"Niger",nfk:"Norfolk Island",nga:"Nigeria",nic:"Nicaragua",niu:"Niue",nld:"Netherlands",nor:"Norway",npl:"Nepal",nru:"Nauru",nzl:"New Zealand",omn:"Oman",pak:"Pakistan",pan:"Panama",pcn:"Pitcairn",per:"Peru",phl:"Phillipines",plw:"Palau",png:"Papua New Guinea",pol:"Poland",pri:"Puerto Rico",prk:"Korea",prt:"Portugal",pry:"Paraguay",pse:"State of Palestine",pyf:"French Polynesia",qat:"Qatar",reu:"Réunion",rou:"Roumania",rus:"Russia",rwa:"Rwanda",sau:"Saudi Arabia",sco:"Scotland",sdn:"Sudan",sen:"Senegal",sgp:"Singapore",sgs:"South Georgia and the South Sandwich Islands",shn:"Saint Helena, Ascension and Tristan da Cunha",sjm:"Svalbard and Jan Mayen",slb:"Solomon Islands",sle:"Sierra Leone",slv:"El Salvador",smr:"San Marino",som:"Somalia",spm:"Saint Pierre and Miquelon",srb:"Serbia",ssd:"South Sudan",stp:"Sao Tome and Principe",sur:"Suriname",svk:"Slovakia",svn:"Slovenia",swe:"Sweden",swz:"Swaziland",sxm:"Sint Maarten",syc:"Seychelles",syr:"Syrian Arab Republic",tca:"Turks and Caicos Islands",tcd:"Chad",tgo:"Togo",tha:"Thailand",tjk:"Tajikistan",tkl:"Tokelau",tkm:"Turkmenistan",tls:"Timor-Leste",ton:"Tonga",tto:"Trinidad and Tobago",tun:"Tunisia",tur:"Turkey",tuv:"Tuvalu",twn:"Taiwan, Province of China",tza:"United Republic of Tanzania",uga:"Uganda",ukr:"Ukraine",umi:"United States Minor Outlying Islands",ury:"Uruguay",usa:"USA",uzb:"Uzbekistan",vat:"Vanuatu",vct:"Vatican",ven:"Venezuela",vgb:"Virgin Islands",vnm:"Vietnam",vut:"Vanuatu",wlf:"Wallis and Futuna",wsm:"Samoa",yem:"Yemen",zaf:"South Africa",zmb:"Zambia",zwe:"Zimbabwe"},ISOToSihCountryCodes:{AD:"and",AE:"are",AF:"afg",AG:"atg",AI:"aia",AL:"alb",AM:"arm",AO:"ago",AQ:"ata",AR:"arg",AS:"asm",AT:"aut",AU:"aus",AW:"abw",AX:"ala",AZ:"aze",BA:"bih",BB:"brb",BD:"bgd",BE:"bel",BF:"bfa",BG:"bgr",BH:"bhr",BI:"bdi",BJ:"ben",BL:"blm",BM:"bmu",BN:"brn",BO:"bol",BQ:"bes",BR:"bra",BS:"bhs",BT:"btn",BV:"bvt",BW:"bwa",BY:"blr",BZ:"blz",CA:"can",CC:"cck",CD:"cod",CF:"caf",CG:"cog",CH:"che",CI:"civ",CK:"cok",CL:"chl",CM:"cmr",CN:"chn",CO:"col",CR:"cri",CU:"cub",CV:"cpv",CW:"cuw",CX:"cxr",CY:"cyp",CZ:"cze",DE:"deu",DJ:"dji",DK:"dnk",DM:"dma",DO:"dom",DZ:"dza",EC:"ecu",EE:"est",EG:"egy",EH:"esh",ER:"eri",ES:"esp",ET:"eth",FI:"fin",FJ:"fji",FK:"flk",FM:"fsm",FO:"fro",FR:"fra",GA:"gab",GB:"gbr",GD:"grd",GE:"geo",GF:"guf",GG:"ggy",GH:"gha",GI:"gib",GL:"grl",GM:"gmb",GN:"gin",GP:"glp",GQ:"gnq",GR:"grc",GS:"sgs",GT:"gtm",GU:"gum",GW:"gnb",GY:"guy",HK:"hkg",HM:"hmd",HN:"hnd",HR:"hrv",HT:"hti",HU:"hun",ID:"idn",IE:"irl",IL:"isr",IM:"imn",IN:"ind",IO:"iot",IQ:"irq",IR:"irn",IS:"isl",IT:"ita",JE:"jey",JM:"jam",JO:"jor",JP:"jpn",KE:"ken",KG:"kgz",KH:"khm",KI:"kir",KM:"kmr",KN:"kna",KP:"prk",KR:"kor",KW:"kwt",KY:"cym",KZ:"kaz",LA:"lao",LB:"lbn",LC:"lca",LI:"lie",LK:"lka",LR:"lbr",LS:"lso",LT:"ltu",LU:"lux",LV:"lva",LY:"lby",MA:"mar",MC:"mco",MD:"mda",ME:"mne",MF:"maf",MG:"mdg",MH:"mhl",MK:"mkd",ML:"mli",MM:"mmr",MN:"mng",MO:"mac",MP:"mnp",MQ:"mtq",MR:"mrt",MS:"msr",MT:"mlt",MU:"mus",MV:"mdv",MW:"mwi",MX:"mex",MY:"mys",MZ:"moz",NA:"nam",NC:"ncl",NE:"ner",NF:"nfk",NG:"nga",NI:"nic",NL:"nld",NO:"nor",NP:"npl",NR:"nru",NU:"niu",NZ:"nzl",OM:"omn",PA:"pan",PE:"per",PF:"pyf",PG:"png",PH:"phl",PK:"pak",PL:"pol",PM:"spm",PN:"pcn",PR:"pri",PS:"pse",PT:"prt",PW:"plw",PY:"pry",QA:"qat",RE:"reu",RO:"rou",RS:"srb",RU:"rus",RW:"rwa",SA:"sau",SB:"slb",SC:"syc",SD:"sdn",SE:"swe",SG:"sgp",SH:"shn",SI:"svn",SJ:"sjm",SK:"svk",SL:"sle",SM:"smr",SN:"sen",SO:"som",SR:"sur",SS:"ssd",ST:"stp",SV:"slv",SX:"sxm",SY:"syr",SZ:"swz",TC:"tca",TD:"tcd",TF:"atf",TG:"tgo",TH:"tha",TJ:"tjk",TK:"tkl",TL:"tls",TM:"tkm",TN:"tun",TO:"ton",TR:"tur",TT:"tto",TV:"tuv",TW:"twn",TZ:"tza",UA:"ukr",UG:"uga",UM:"umi",US:"usa",UY:"ury",UZ:"uzb",VA:"vat",VC:"vct",VE:"ven",VG:"vgb",VI:"vir",VN:"vnm",VU:"vut",WF:"wlf",WS:"wsm",XK:"kos",YE:"yem",YT:"myt",ZA:"zaf",ZM:"zmb",ZW:"zwe"}}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{LoadSteamAppFilters:()=>marketSearch.LoadSteamAppFilters,RefactorAdvancedSearchDialog:()=>marketSearch.RefactorAdvancedSearchDialog,activeListings:()=>activeListings_namespaceObject,exportMarketHistory:()=>exportMarketHistory_namespaceObject,global:()=>global,marketHistory:()=>marketHistory_namespaceObject,sihMarketTab:()=>sihMarketTab_namespaceObject});var sihMarketTab_namespaceObject={};__webpack_require__.r(sihMarketTab_namespaceObject),__webpack_require__.d(sihMarketTab_namespaceObject,{LoadSihMarketTab:()=>LoadSihMarketTab});var filterPanel_namespaceObject={};__webpack_require__.r(filterPanel_namespaceObject),__webpack_require__.d(filterPanel_namespaceObject,{RenderHeaderTotal:()=>RenderHeaderTotal,RenderMarketFilter:()=>RenderMarketFilter});var listingRow_namespaceObject={};__webpack_require__.r(listingRow_namespaceObject),__webpack_require__.d(listingRow_namespaceObject,{RefactorListingRow:()=>RefactorListingRow});var resubmitButton_namespaceObject={};__webpack_require__.r(resubmitButton_namespaceObject),__webpack_require__.d(resubmitButton_namespaceObject,{LoadResubmitOrderButton:()=>LoadResubmitOrderButton});var resubmitOrders_namespaceObject={};__webpack_require__.r(resubmitOrders_namespaceObject),__webpack_require__.d(resubmitOrders_namespaceObject,{SaveSellListing:()=>SaveSellListing,resubmitButton:()=>resubmitButton_namespaceObject});var activeListings_namespaceObject={};__webpack_require__.r(activeListings_namespaceObject),__webpack_require__.d(activeListings_namespaceObject,{AddSortableColumns:()=>AddSortableColumns,RenderHeaderTable:()=>RenderHeaderTable,filterPanel:()=>filterPanel_namespaceObject,listingRow:()=>listingRow_namespaceObject,resubmitOrders:()=>resubmitOrders_namespaceObject});var exportMarketHistory_namespaceObject={};__webpack_require__.r(exportMarketHistory_namespaceObject),__webpack_require__.d(exportMarketHistory_namespaceObject,{RenderExportMarketHistoryBtn:()=>RenderExportMarketHistoryBtn});var marketHistory_namespaceObject={};__webpack_require__.r(marketHistory_namespaceObject),__webpack_require__.d(marketHistory_namespaceObject,{filter:()=>filter});var global=__webpack_require__(6703),common=__webpack_require__(4285),sih_app_global_service=__webpack_require__(3186),chromeStorage=__webpack_require__(9118);function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),s=new R(i||[]);return r(o,"_invoke",{value:I(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var _="suspendedStart",m="suspendedYield",h="executing",f="completed",p={};function g(){}function v(){}function b(){}var y={};c(y,o,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(T([])));S&&S!==n&&i.call(S,o)&&(y=S);var w=b.prototype=g.prototype=Object.create(y);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(r,a,o,s){var l=u(e[r],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==_typeof(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return a=a?a.then(r,r):r()}})}function I(t,n,i){var r=_;return function(a,o){if(r===h)throw Error("Generator is already running");if(r===f){if("throw"===a)throw o;return{value:e,done:!0}}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var l=x(s,i);if(l){if(l===p)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===_)throw r=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=h;var c=u(t,n,i);if("normal"===c.type){if(r=i.done?f:m,c.arg===p)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=f,i.method="throw",i.arg=c.arg)}}}function x(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),p;var a=u(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(_typeof(t)+" is not iterable")}return v.prototype=b,r(w,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},C(A.prototype),c(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new A(d(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(w),c(w,l,"Generator"),c(w,o,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=T,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;L(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:T(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),p}},t}function asyncGeneratorStep(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){asyncGeneratorStep(a,i,r,o,s,"next",e)}function s(e){asyncGeneratorStep(a,i,r,o,s,"throw",e)}o(void 0)}))}}var RenderSihMarketOverlay=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,i,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,chromeStorage.M.getLocal("SIH_FEATURES_MENU");case 2:n=e.sent,i=n.SIH_FEATURES_MENU,null!=(r=void 0===i?{}:i)&&null!==(t=r.sihMarket)&&void 0!==t&&t.showOverlay&&(loadHtml(),listenerActions());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),RemoveSihMarketOverlay=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,i,r,a,o,s;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$J("body"),i=n.find("#findItems"),r=n.find("#sellListings"),i.removeClass("overlay"),r.removeClass("overlay"),n.find(".sih-market-overlay").hide().remove(),n.find(".sih-market-overlay-tooltip").hide().remove(),e.next=9,chromeStorage.M.getLocal("SIH_FEATURES_MENU");case 9:if(a=e.sent,o=a.SIH_FEATURES_MENU,null==(s=void 0===o?{}:o)||null===(t=s.sihMarket)||void 0===t||!t.showOverlay){e.next=16;break}return s.sihMarket.showOverlay=!1,e.next=16,chromeStorage.M.setLocal("SIH_FEATURES_MENU",s);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),loadHtml=function(){var e=$J("body"),t=$J(".market_search_sidebar_contents");e.find("#findItems").addClass("overlay");var n=$J(' <div class="sih-market-overlay"></div>'),i=$J(' <div class="sih-market-overlay-tooltip sih-market-overlay-tooltip_first sih-global">\n      <div class="row items-center justify-between gap-14">\n        <span class="text text_white fs-16 ">'.concat(SIHLang.sih_features.sih_market_overlay_info.tooltip_text_1,'</span>\n\n        <div class="sih-market-overlay-tooltip__close">\n          <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path\n              d="M12.1824 13.568L7.28242 18.468C7.09909 18.6514 6.86576 18.743 6.58242 18.743C6.29909 18.743 6.06575 18.6514 5.88242 18.468C5.69909 18.2847 5.60742 18.0514 5.60742 17.768C5.60742 17.4847 5.69909 17.2514 5.88242 17.068L10.7824 12.168L5.88242 7.26802C5.69909 7.08468 5.60742 6.85135 5.60742 6.56802C5.60742 6.28468 5.69909 6.05135 5.88242 5.86802C6.06575 5.68468 6.29909 5.59302 6.58242 5.59302C6.86576 5.59302 7.09909 5.68468 7.28242 5.86802L12.1824 10.768L17.0824 5.86802C17.2658 5.68468 17.4991 5.59302 17.7824 5.59302C18.0658 5.59302 18.2991 5.68468 18.4824 5.86802C18.6658 6.05135 18.7574 6.28468 18.7574 6.56802C18.7574 6.85135 18.6658 7.08468 18.4824 7.26802L13.5824 12.168L18.4824 17.068C18.6658 17.2514 18.7574 17.4847 18.7574 17.768C18.7574 18.0514 18.6658 18.2847 18.4824 18.468C18.2991 18.6514 18.0658 18.743 17.7824 18.743C17.4991 18.743 17.2658 18.6514 17.0824 18.468L12.1824 13.568Z"\n              fill="currentColor"\n            />\n          </svg>\n        </div>\n      </div>\n\n      <div class="row items-center justify-between gap-14">\n        <span class="text text_grey-700 fs-14">1 ').concat(SIHLang.sih_features.level_up_feature_overlay_info.of,' 2</span>\n        <div class="sih-market-overlay-tooltip__btn">').concat(SIHLang.sih_features.level_up_feature_overlay_info.next,"</div>\n      </div>\n    </div>"));e.append(n),t.append(i)},listenerActions=function(){changeTooltipAction(),closeOverlayAction()},changeTooltipAction=function(){var e=$J(".sih-market-overlay-tooltip"),t=e.find(".sih-market-overlay-tooltip__btn"),n=$J("body").find("#findItems");t.off("click").click((function(t){var i=$J("#sellListings");n.removeClass("overlay"),e.remove(),i.addClass("overlay");var r=$J(' <div class="sih-market-overlay-tooltip sih-market-overlay-tooltip_second sih-global">\n        <div class="row items-center justify-between gap-14">\n          <span class="text text_white fs-16 ">'.concat(SIHLang.sih_features.sih_market_overlay_info.tooltip_text_2,'</span>\n\n          <div class="sih-market-overlay-tooltip__close">\n            <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                d="M12.1824 13.568L7.28242 18.468C7.09909 18.6514 6.86576 18.743 6.58242 18.743C6.29909 18.743 6.06575 18.6514 5.88242 18.468C5.69909 18.2847 5.60742 18.0514 5.60742 17.768C5.60742 17.4847 5.69909 17.2514 5.88242 17.068L10.7824 12.168L5.88242 7.26802C5.69909 7.08468 5.60742 6.85135 5.60742 6.56802C5.60742 6.28468 5.69909 6.05135 5.88242 5.86802C6.06575 5.68468 6.29909 5.59302 6.58242 5.59302C6.86576 5.59302 7.09909 5.68468 7.28242 5.86802L12.1824 10.768L17.0824 5.86802C17.2658 5.68468 17.4991 5.59302 17.7824 5.59302C18.0658 5.59302 18.2991 5.68468 18.4824 5.86802C18.6658 6.05135 18.7574 6.28468 18.7574 6.56802C18.7574 6.85135 18.6658 7.08468 18.4824 7.26802L13.5824 12.168L18.4824 17.068C18.6658 17.2514 18.7574 17.4847 18.7574 17.768C18.7574 18.0514 18.6658 18.2847 18.4824 18.468C18.2991 18.6514 18.0658 18.743 17.7824 18.743C17.4991 18.743 17.2658 18.6514 17.0824 18.468L12.1824 13.568Z"\n                fill="currentColor"\n              />\n            </svg>\n          </div>\n        </div>\n\n        <div class="row items-center justify-between gap-14">\n          <span class="text text_grey-700 fs-14">2 ').concat(SIHLang.sih_features.level_up_feature_overlay_info.of," 2</span>\n        </div>\n      </div>"));i.append(r)}))},closeOverlayAction=function(){$J("body").on("click",".sih-market-overlay, .sih-market-overlay-tooltip__close",_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,RemoveSihMarketOverlay();case 2:case"end":return e.stop()}}),e)}))))},debounce=null,RenderFilterCategory=function(){filterCategory_loadHtml(),actionsListener()},UpdateFilterCategoryBalance=function(){var e=$J("#sih-inventory-market-listing"),t=$J("#sih-filter-category");sih_app_global_service.A.getLoginSihAppUser().then((function(n){if(n.success&&!n.tfaNeed){var i=n.user.balance/1e3;Math.floor(1e3*i)/1e3!==+e.find('.sih-market-store-filter .sih-market-store-filter__input[data-key="maxPrice"]').val()&&t.find('.sih-filter-category__item[data-name="balance"]').removeClass("active")}}))},filterCategory_loadHtml=function(){var e=$J("#sih-inventory-market-listing"),t=$J('\n    <div id="sih-filter-category" class="sih-filter-category">\n      <a href="javascript:void(0)" class="sih-filter-category__item active" data-name="all"\n        >'.concat(SIHLang.sihAppMarket.filter_category.all,'</a\n      >\n      <a href="javascript:void(0)" class="sih-filter-category__item" data-name="balance"\n        >').concat(SIHLang.sihAppMarket.filter_category.balance,"</a\n      >\n    </div>\n  "));e.find(".sih-filter-category").length||$J(".sih-market-header").after(t)},actionsListener=function(){selectCategoryItemAction()},selectCategoryItemAction=function(){$J("#sih-filter-category").find(".sih-filter-category__item").each((function(e,t){var n=$J(t);n.off("click").click((function(){clearTimeout(debounce),debounce=setTimeout((function(){if(n.addClass("active").siblings().removeClass("active"),"balance"===n.attr("data-name"))SihAppGlobalService.getLoginSihAppUser().then((function(e){if(e.success&&!e.tfaNeed){var t=e.user.balance/1e3,n=$J('.sih-market-store-filter .sih-market-store-filter__input[data-key="minPrice"]');n.val()>t&&n.val(""),$J(".sih-market-store-filter .sih-market-store-filter__input").val(""),$J('.sih-market-store-filter .sih-market-store-filter__input[data-key="maxPrice"]').val(t).trigger("change").trigger("focusout")}}));else $J(".sih-market-store-filter__reset:visible").trigger("click")}),200)}))}))},currency_service=__webpack_require__(3080),utils=__webpack_require__(4056),skin_wear_service=__webpack_require__(8440),RenderListingContent=function(){content_loadHtml(),content_actionsListener()},toggleSIHMarketItemLoaders=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=$J("#sih-market-listing .sih-market-listing__fake-content"),n=t.is(":visible");e?n&&t.fadeOut():n||t.addClass("active").fadeIn()},content_loadHtml=function(){var e=$J("#sih-market-listing"),t=$J('\n    <div class="sih-market-listing__main">\n      <div class="sih-market-listing__fake-content">\n        <div class="sih-market-listing__fake-item"></div>\n        <div class="sih-market-listing__fake-item"></div>\n        <div class="sih-market-listing__fake-item"></div>\n        <div class="sih-market-listing__fake-item"></div>\n        <div class="sih-market-listing__fake-item"></div>\n        <div class="sih-market-listing__fake-item"></div>\n        <div class="sih-market-listing__fake-item"></div>\n        <div class="sih-market-listing__fake-item"></div>\n        <div class="sih-market-listing__fake-item"></div>\n        <div class="sih-market-listing__fake-item"></div>\n      </div>\n      <div class="sih-market-listing__content"></div>\n    </div>\n  ');e.find(".sih-market-listing__content").length||e.append(t)},content_actionsListener=function(){};function bookmarkBtn_typeof(e){return bookmarkBtn_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bookmarkBtn_typeof(e)}function bookmarkBtn_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */bookmarkBtn_regeneratorRuntime=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),s=new R(i||[]);return r(o,"_invoke",{value:I(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var _="suspendedStart",m="suspendedYield",h="executing",f="completed",p={};function g(){}function v(){}function b(){}var y={};c(y,o,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(T([])));S&&S!==n&&i.call(S,o)&&(y=S);var w=b.prototype=g.prototype=Object.create(y);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(r,a,o,s){var l=u(e[r],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==bookmarkBtn_typeof(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return a=a?a.then(r,r):r()}})}function I(t,n,i){var r=_;return function(a,o){if(r===h)throw Error("Generator is already running");if(r===f){if("throw"===a)throw o;return{value:e,done:!0}}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var l=x(s,i);if(l){if(l===p)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===_)throw r=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=h;var c=u(t,n,i);if("normal"===c.type){if(r=i.done?f:m,c.arg===p)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=f,i.method="throw",i.arg=c.arg)}}}function x(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),p;var a=u(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(bookmarkBtn_typeof(t)+" is not iterable")}return v.prototype=b,r(w,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},C(A.prototype),c(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new A(d(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(w),c(w,l,"Generator"),c(w,o,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=T,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;L(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:T(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),p}},t}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bookmarkBtn_asyncGeneratorStep(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function bookmarkBtn_asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){bookmarkBtn_asyncGeneratorStep(a,i,r,o,s,"next",e)}function s(e){bookmarkBtn_asyncGeneratorStep(a,i,r,o,s,"throw",e)}o(void 0)}))}}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==bookmarkBtn_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=bookmarkBtn_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=bookmarkBtn_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}function _arrayWithHoles(e){if(Array.isArray(e))return e}var APP_FULL_NAMES={730:"Counter-Strike 2",252490:"Rust",440:"Team Fortress 2"},RenderBookmarkBtn=function(){bookmarkBtn_loadHtml(),bookmarkBtn_actionsListener()},bookmarkBtn_loadHtml=function(){$J("#sih-market-listing").find(".sih-market-listing__content").find(".sih-market-listing__item").each((function(e,t){var n=$J(t),i=n.find(".sih-market-listing__name").text(),r="730/".concat(encodeURIComponent(i)),a=$J(' <div\n        class="text text_light-blue fs-12 hover-opacity-8 sih-market-listing__'.concat(bookmarkeditems[r]?"remove-bookmark":"add-bookmark",'"\n      >\n        ').concat(bookmarkeditems[r]?"".concat(SIHLang.sihAppMarket.global.remove_bookmark):"".concat(SIHLang.sihAppMarket.global.add_bookmark),"\n      </div>"));n.find(".sih-market-listing__add-bookmark").length||n.find(".sih-market-listing__game-name").after(a)}))},bookmarkBtn_actionsListener=function(){addToBookmarkAction(),removeBookmarkAction()},addToBookmarkAction=function(){var e=$J("#sih-market-listing").find(".sih-market-listing__content").find(".sih-market-listing__item .sih-market-listing__add-bookmark"),t=(new Date).getTime();function n(){var e=_objectSpread(_objectSpread({},bookmarkscategories),{},_defineProperty({},t,"SIHMarket"));chromeStorage.M.setSync("bookmarkscategories",e),window.bookmarkscategories=_objectSpread({},e)}e.each((function(e,i){var r=$J(i);r.off("click").click((function(e){if(e.preventDefault(),e.stopPropagation(),Object.keys(bookmarkscategories).length){var i=!0;Object.entries(bookmarkscategories).forEach((function(e){var n=_slicedToArray(e,2),r=n[0],a=n[1];"SIHMarket"===a&&(t=r),i="SIHMarket"===a})),i||n()}else n();var a=$J(this).closest(".sih-market-listing__item"),o=a.find(".sih-market-listing__name").text(),s=a.find(".sih-market-listing__game-name").data("appid"),l="".concat(s,"/").concat(encodeURIComponent(o)),c=+a.find(".sih-market-listing__sih-price").attr("data-price"),d=currency_service.A.getPriceFromCurrency(c,currencyId,1),u=a.find(".market_listing_item_img").attr("src"),_=a.find(".market_listing_item_img").css("border-color"),m=a.attr("href"),h=_defineProperty({},l,{marketHashName:o,hashmarket:l,name:o,appid:s,img:u,color:_,gamename:APP_FULL_NAMES[s],url:m,price:d,cat:t});chrome.runtime.sendMessage(SIHID,{type:"UpdateBookmarks",data:h},function(){var e=bookmarkBtn_asyncToGenerator(bookmarkBtn_regeneratorRuntime().mark((function e(t){var n,i;return bookmarkBtn_regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,chromeStorage.M.getLocal("bookmarks");case 2:n=e.sent,i=n.bookmarks,window.bookmarkeditems=_objectSpread({},i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.removeClass("sih-market-listing__add-bookmark").addClass("sih-market-listing__remove-bookmark").text("".concat(SIHLang.sihAppMarket.global.remove_bookmark)),removeBookmarkAction()}))}))},removeBookmarkAction=function(){$J("#sih-market-listing").find(".sih-market-listing__content").find(".sih-market-listing__item .sih-market-listing__remove-bookmark").each((function(e,t){var n=$J(t);n.off("click").click((function(e){e.preventDefault(),e.stopPropagation();var t=$J(this).closest(".sih-market-listing__item").find(".sih-market-listing__name").text(),i="730/".concat(encodeURIComponent(t));chrome.runtime.sendMessage(SIHID,{type:"RemoveBookmark",data:{hashmarket:i}},function(){var e=bookmarkBtn_asyncToGenerator(bookmarkBtn_regeneratorRuntime().mark((function e(t){var n,i;return bookmarkBtn_regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,chromeStorage.M.getLocal("bookmarks");case 2:n=e.sent,i=n.bookmarks,window.bookmarkeditems=_objectSpread({},i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.removeClass("sih-market-listing__remove-bookmark").addClass("sih-market-listing__add-bookmark").text("".concat(SIHLang.sihAppMarket.global.add_bookmark)),addToBookmarkAction()}))}))};function EventRegister_typeof(e){return EventRegister_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EventRegister_typeof(e)}function EventRegister_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function EventRegister_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EventRegister_ownKeys(Object(n),!0).forEach((function(t){EventRegister_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EventRegister_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,EventRegister_toPropertyKey(i.key),i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function EventRegister_defineProperty(e,t,n){return(t=EventRegister_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EventRegister_toPropertyKey(e){var t=EventRegister_toPrimitive(e,"string");return"symbol"==EventRegister_typeof(t)?t:t+""}function EventRegister_toPrimitive(e,t){if("object"!=EventRegister_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=EventRegister_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var EventRegister=function(){return _createClass((function e(t){var n=t.eventGroup,i=t.eventType,r=void 0===i?e.EVENT_TYPE:i,a=t.messageType,o=void 0===a?e.MESSAGE_TYPE:a,s=t.lang,l=void 0===s?e.DEFAULT_LANG:s,c=t.country,d=void 0===c?e.DEFAULT_COUNTRY:c,u=t.uid,_=void 0===u?e.DEFAULT_UID:u,m=t.location,h=void 0===m?h&&h.href||"":m,f=t.SIHID,p=void 0===f?window.SIHID:f;_classCallCheck(this,e),this.eventGroup=n,this.eventType=r,this.messageType=o,this.location=h,this.SIHID=p,this.lang=l,this.country=d,this.uid=_}),[{key:"register",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={type:this.eventType,payload:EventRegister_objectSpread({uid:this.uid,country:this.country,lang:this.lang,group:this.eventGroup,link:this.location},e)};chrome.runtime.sendMessage(this.SIHID,{type:this.messageType,data:t})}}])}();function InventoryPageEventRegister_typeof(e){return InventoryPageEventRegister_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},InventoryPageEventRegister_typeof(e)}function InventoryPageEventRegister_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function InventoryPageEventRegister_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?InventoryPageEventRegister_ownKeys(Object(n),!0).forEach((function(t){InventoryPageEventRegister_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):InventoryPageEventRegister_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function InventoryPageEventRegister_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function InventoryPageEventRegister_defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,InventoryPageEventRegister_toPropertyKey(i.key),i)}}function InventoryPageEventRegister_createClass(e,t,n){return t&&InventoryPageEventRegister_defineProperties(e.prototype,t),n&&InventoryPageEventRegister_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _callSuper(e,t,n){return t=_getPrototypeOf(t),_possibleConstructorReturn(e,_isNativeReflectConstruct()?Reflect.construct(t,n||[],_getPrototypeOf(e).constructor):t.apply(e,n))}function _possibleConstructorReturn(e,t){if(t&&("object"==InventoryPageEventRegister_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}function _superPropGet(e,t,n,i){var r=_get(_getPrototypeOf(1&i?e.prototype:e),t,n);return 2&i&&"function"==typeof r?function(e){return r.apply(n,e)}:r}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=_superPropBase(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},_get.apply(null,arguments)}function _superPropBase(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}function _classPrivateMethodInitSpec(e,t){_checkPrivateRedeclaration(e,t),t.add(e)}function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function InventoryPageEventRegister_defineProperty(e,t,n){return(t=InventoryPageEventRegister_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function InventoryPageEventRegister_toPropertyKey(e){var t=InventoryPageEventRegister_toPrimitive(e,"string");return"symbol"==InventoryPageEventRegister_typeof(t)?t:t+""}function InventoryPageEventRegister_toPrimitive(e,t){if("object"!=InventoryPageEventRegister_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=InventoryPageEventRegister_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _assertClassBrand(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}EventRegister_defineProperty(EventRegister,"EVENT_TYPE","events"),EventRegister_defineProperty(EventRegister,"MESSAGE_TYPE","EVENT_STORE"),EventRegister_defineProperty(EventRegister,"DEFAULT_COUNTRY","n/a"),EventRegister_defineProperty(EventRegister,"DEFAULT_LANG","n/a"),EventRegister_defineProperty(EventRegister,"DEFAULT_UID","n/a");var _InventoryPageEventRegister_brand=new WeakSet,InventoryPageEventRegister=function(e){function t(e){var n,i=e.eventType,r=void 0===i?t.EVENT_TYPE:i,a=e.messageType,o=void 0===a?t.MESSAGE_TYPE:a,s=e.location,l=void 0===s?t.LOCATION_HREF:s,c=e.SIHID,d=void 0===c?window.SIHID:c;return InventoryPageEventRegister_classCallCheck(this,t),_classPrivateMethodInitSpec(n=_callSuper(this,t,[{eventGroup:t.EVENT_GROUP,eventType:r,messageType:o,SIHID:d}]),_InventoryPageEventRegister_brand),n.eventType=r,n.messageType=o,n.SIHID=d,n.location=l,n}return _inherits(t,e),InventoryPageEventRegister_createClass(t,[{key:"register",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=_assertClassBrand(_InventoryPageEventRegister_brand,this,_getUserInfo).call(this),r=i.dataConfig,a=i.dataUserInfo;return t.getUID(this.SIHID).then((function(i){return _superPropGet(t,"register",e,3)([InventoryPageEventRegister_objectSpread({uid:i,country:("undefined"==typeof g_strCountryCode?null==r?void 0:r.COUNTRY:g_strCountryCode).toLowerCase(),lang:("undefined"==typeof g_strLanguage?null==r?void 0:r.LANGUAGE:g_strLanguage).toLowerCase(),data:{steamId:"undefined"==typeof g_steamID?null==a?void 0:a.steamid:g_steamID}},n)])}))}}],[{key:"getUID",value:function(e){try{return new Promise((function(t){chrome.runtime.sendMessage(e,{type:"BACKGROUND_GET_SIH_TOKEN"},t)}))}catch(e){}}}])}(EventRegister);function _getUserInfo(){var e=$J("#application_config");if(e.length){var t=e.attr("data-config"),n=e.attr("data-userinfo");return{dataConfig:t?JSON.parse(t):{},dataUserInfo:n?JSON.parse(n):{}}}}InventoryPageEventRegister_defineProperty(InventoryPageEventRegister,"EVENT_GROUP","inventory-page-events"),InventoryPageEventRegister_defineProperty(InventoryPageEventRegister,"EVENT_TYPE","events"),InventoryPageEventRegister_defineProperty(InventoryPageEventRegister,"MESSAGE_TYPE","EVENT_STORE"),InventoryPageEventRegister_defineProperty(InventoryPageEventRegister,"LOCATION_HREF",window.location.href);var marketplace_service=__webpack_require__(7752),marketListings_common=__webpack_require__(3450),MAX_ITEM_STACK_COUNT=1,SIH_MARKET_AVAILABLE_APPS=null;function load(){var e=getPageParams();if(SIH_MARKET_AVAILABLE_APPS.includes(+e.appId)&&g_steamID)var t=setInterval((function(){if(Marketplace.checkLoadMarkets()){clearInterval(t);var e=Marketplace.getMarkets().find((function(e){return"sihmarket"===e.name}));if(e){var n=Marketplace.getPriceMarket(e);n&&n.price&&n.price>=.01&&(loadSIHMarketContainerHTML(Math.ceil(100*n.price)/100,"sih"),addToCart(),renderCountItemFromBuyStack().then((function(){changeCountItemInBuyStack()})))}}}),100)}function loadSIHMarketContainerHTML(e,t){var n=LocalStorageMarketplace.get(),i=CurrencyService.getPriceFromCurrency(1,n.currencyCode).text,r=formatNumberToLocalRu(e,1),a=formatNumberToLocalRu(e,n.currencyCode),o=$J("#sih_block_best_offer_of_marketplace_tabs_2");$J('\n    <div class="sih_market column sihmarket_container">\n      <div class="title">'.concat(SIHLang.sihAppMarket.listing_lot.sih_best_price,'</div>\n\n      <div class="sih_market__column items-start ').concat(1==+n.currencyCode?"mb-18":"",'">\n        <span class="sih_market__price"\n          >').concat(1!==n.currencyCode?a:r,"</span\n        >\n        ").concat(1!=+n.currencyCode?'<span class="sih_market__text sih_market__text--gray sih_converted-market__price pt-2" title="'.concat(SIHLang.sihAppMarket.listing_lot.current_rate,"  $1 - ").concat(i,'">').concat(r,"</span>"):"",'\n      </div>\n\n      <div class="sih_market__row mt-16 gap-12">\n        <a\n          href="javascript:void(0)"\n          id="sih_market__add-to-cart"\n          class="sih_market__button sih_market__button--blue sih_market__button--cart"\n        >\n          <span class="sih_market__text sih_market__text--small sih_market__text--white text-uppercase"\n            >').concat(SIHLang.sihAppMarket.listing_lot.add_cart,'</span\n          >\n\n          <div class="sih_market__in-cart sih_market__row">\n            <svg width="16" height="16" viewBox="0 0 22 19" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                fill-rule="evenodd"\n                clip-rule="evenodd"\n                d="M16.21 7H21C21.55 7 22 7.45 22 8L21.97 8.27L19.43 17.54C19.19 18.38 18.42 19 17.5 19H4.5C3.58 19 2.81 18.38 2.58 17.54L0.04 8.27C0 8.18 0 8.09 0 8C0 7.45 0.45 7 1 7H5.79L10.17 0.45C10.36 0.16 10.68 0 11 0C11.32 0 11.64 0.16 11.83 0.44L16.21 7ZM13.8 7L11 2.8L8.2 7H13.8Z"\n                fill="white"\n              />\n            </svg>\n\n            <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                d="M0.589844 10.58L5.16984 6L0.589844 1.41L1.99984 0L7.99984 6L1.99984 12L0.589844 10.58Z"\n                fill="white"\n              />\n            </svg>\n          </div>\n        </a>\n      </div>\n      <div class="sih_market__error"></div>\n    </div>\n  ')).find(".sih_converted-market__price").tooltip({position:{my:"left bottom",at:"left top"}}),o.find("#sih_market__add-to-cart").length&&o.find("#sih_market__add-to-cart").remove();var s='<a href="javascript:void(0)" id="sih_market__add-to-cart" class="button button_fill">\n    <span class="sih_market__text">'.concat(SIHLang.sihAppMarket.listing_lot.add_cart,'</span>\n\n    <div class="sih_market__in-cart sih_market__row">\n      <svg width="16" height="24" viewBox="0 0 22 19" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path\n          fill-rule="evenodd"\n          clip-rule="evenodd"\n          d="M16.21 7H21C21.55 7 22 7.45 22 8L21.97 8.27L19.43 17.54C19.19 18.38 18.42 19 17.5 19H4.5C3.58 19 2.81 18.38 2.58 17.54L0.04 8.27C0 8.18 0 8.09 0 8C0 7.45 0.45 7 1 7H5.79L10.17 0.45C10.36 0.16 10.68 0 11 0C11.32 0 11.64 0.16 11.83 0.44L16.21 7ZM13.8 7L11 2.8L8.2 7H13.8Z"\n          fill="white"\n        />\n      </svg>\n\n      <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M0.589844 10.58L5.16984 6L0.589844 1.41L1.99984 0L7.99984 6L1.99984 12L0.589844 10.58Z" fill="white" />\n      </svg>\n    </div>\n  </a>');o.find(".markets_container .market_block .buttons").append(s)}function loadCartCountBlockHtml(e){var t=$J("#sih_block_best_offer_of_marketplace_tabs_2");if(e){var n=t.find(".sih_market__row--cart-counter"),i=t.find("#sih_market__add-to-cart"),r=e.filter((function(e){return!e.status})).length;!n.length&&r&&(i.find(".sih_market__in-cart").css("display","flex").show(),i.find(".sih_market__text").text(""))}}function addToCart(){var e=$J(".market_block"),t=e.find("#sih_market__add-to-cart"),n=e.find(".sih_market__error");t.click((function(){var t=e.find(".sih_market__in-cart"),i=n.find(".sih-modal__error_message");if("none"===t.css("display")){var r=getPageParams(),a={hashName:encodeURIComponent(r.marketHashName),countAdd:1,appId:r.appId,image:$J(".market_listing_largeimage").find("img").attr("src"),url:window.location.href};SihAppGlobalService.setItemToBuyStack(a).then((function(e){loadCartCountBlockHtml(e),changeCountItemInBuyStack(),ChangeCartCountHeaderMenu(),ChangeItemCountInItemPage(),$J("#sih-header-cart").trigger("click")})).catch((function(e){SihAppGlobalService.errorHandler(null,n,i,e.error)})),registerAddToCartClick()}else $J("#sih-header-cart").trigger("click")}))}function renderCountItemFromBuyStack(){return new Promise((function(e){var t=encodeURIComponent(getPageParams().marketHashName);SihAppGlobalService.getAllItemsBuyStackByName(t).then((function(t){loadCartCountBlockHtml(t),e()}))}))}function changeCountItemInBuyStack(){var e=$J("#sih_block_best_offer_of_marketplace_tabs_2"),t=e.find(".sih_market__error"),n=e.find("#sih_market__increment"),i=e.find("#sih_market__decrement"),r=e.find("#sih_market__cart-count-input"),a=encodeURIComponent(getPageParams().marketHashName);n.click((function(){var e=t.find(".sih-modal__error_message");+r.val()>=MAX_ITEM_STACK_COUNT-1&&$J(this).addClass("opacity-5 pointer-events-none"),SihAppGlobalService.setItemToBuyStack({}).then((function(e){ChangeItemCountInItemPage(),ChangeCartCountHeaderMenu(),t.hide()})).catch((function(n){SihAppGlobalService.errorHandler(null,t,e,n.error)}))})),i.click((function(){var e=t.find(".sih-modal__error_message");+r.val()<=MAX_ITEM_STACK_COUNT&&n.removeClass("opacity-5 pointer-events-none"),SihAppGlobalService.deleteItemFromBuyStack({hashName:a}).then((function(){ChangeItemCountInItemPage(),ChangeCartCountHeaderMenu(),t.hide()})).catch((function(n){SihAppGlobalService.errorHandler(null,t,e,n.error)}))})),r.focusout((function(){var e=Math.ceil($J(this).val());(e=SihAppGlobalService.validateInput(e,MAX_ITEM_STACK_COUNT))>=MAX_ITEM_STACK_COUNT?n.addClass("opacity-5 pointer-events-none"):n.removeClass("opacity-5 pointer-events-none");var i=t.find(".sih-modal__error_message");SihAppGlobalService.getAllItemsBuyStackByName(a).then((function(n){var r=n.filter((function(e){return!e.status})).length;if(e>=r&&1!==e)SihAppGlobalService.setItemToBuyStack({hashName:a,countAdd:e}).then((function(e){ChangeItemCountInItemPage(),ChangeCartCountHeaderMenu(),t.hide()})).catch((function(e){SihAppGlobalService.errorHandler(null,t,i,e.error)}));else{var o={hashName:a,argsCountDelete:e};SihAppGlobalService.deleteItemFromBuyStack(o).then((function(e){ChangeItemCountInItemPage(),ChangeCartCountHeaderMenu(),t.hide()})).catch((function(e){SihAppGlobalService.errorHandler(null,t,i,e.error)}))}}))}))}function ChangeItemCountInItemPage(){var e=$J("#sih_block_best_offer_of_marketplace_tabs_2"),t=e.find(".sih_market__row--cart-counter"),n=e.find("#sih_market__cart-count-input"),i=e.find("#sih_market__add-to-cart"),r=(0,global.getPageParams)().marketHashName,a=encodeURIComponent(r);sih_app_global_service.A.getAllItemsBuyStackByName(a).then((function(e){var a=sih_app_global_service.A.getFilterItemsByStatus(e),o=a.length;o?a.find((function(e){return e.market_hash_name===r}))&&(n.val(o),"none"===t.css("display")&&(t.show(),i.find(".sih_market__in-cart").css("display","flex").show(),i.find(".sih_market__text").text(""))):(t.hide(),i.find(".sih_market__in-cart").hide(),i.find(".sih_market__text").text(SIHLang.sihAppMarket.listing_lot.add_cart))}))}function eventRegister_registerAddToCartClick(){}function eventRegister_registerOpenNotificationClick(){}function registerOpenShoppingCartClick(){}function registerOpenOrdersClick(){}function registerCartBuyNowClick(){}var topSales_debounce=null;function RenderTopSalesPanel(e){topSales_loadHtml(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}var topSales_loadHtml=function(e,t){e.find(".sih-top-sales").length&&e.find(".sih-top-sales").remove(),renderFakeTopSales(e,t);var n={offset:Math.floor(10*Math.random()+1),limit:5,appId:730};sih_app_global_service.A.getTopSales(t||n).then((function(i){var r=i.data;i.pagination;removeFakeTopSales().then((function(){if(r&&r.length){var i=$J('\n          <div class="sih-global sih-top-sales">\n            <span class="title sih-modal__text_md"\n              >'.concat(e.closest("#skins-refilling").length?"".concat(SIHLang.skinsRefilling.modal.top_sales_title):SIHLang.sihAppMarket.topSales.title,'</span\n            >\n            <div class="sih-top-sales__content row items-stretch gap-12"></div>\n          </div>\n        ')),a=$J('\n          <a href="javascript:void(0)" class="row items-center sih-top-sales__refresh">\n            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                d="M17.65 6.35C16.2 4.9 14.21 4 12 4C9.87827 4 7.84344 4.84285 6.34315 6.34315C4.84285 7.84344 4 9.87827 4 12C4 14.1217 4.84285 16.1566 6.34315 17.6569C7.84344 19.1571 9.87827 20 12 20C15.73 20 18.84 17.45 19.73 14H17.65C16.83 16.33 14.61 18 12 18C10.4087 18 8.88258 17.3679 7.75736 16.2426C6.63214 15.1174 6 13.5913 6 12C6 10.4087 6.63214 8.88258 7.75736 7.75736C8.88258 6.63214 10.4087 6 12 6C13.66 6 15.14 6.69 16.22 7.78L13 11H20V4L17.65 6.35Z"\n                fill="white"\n              />\n            </svg>\n          </a>\n        ');i.find(".sih-top-sales__content").append(a),e.find(".sih-top-sales").length||(e.append(i),renderSaleItems(r,730).then((function(){$J(".sih-top-sales__content").find(".sih-top-sales__item").fadeIn(),topSales_actionsListener(t||n)})))}else renderEmptyBlock(e,t)}))}))},renderFakeTopSales=function(e,t){for(var n=(t||{limit:5}).limit,i=$J('\n    <div class="sih-global sih-top-sales sih-top-sales__fake">\n      <div class="w-265 h-18 bg-grey rounded-4"></div>\n      <div class="sih-top-sales__content row items-center gap-12"></div>\n    </div>\n  '),r=0;r<n;r++)i.find(".sih-top-sales__content").append('<div class="sih-top-sales__item h-197 bg-grey rounded-4"></div>');if(n<=5){i.find(".sih-top-sales__content").append('<div class="w-24 h-24 rounded-50per bg-grey"></div>')}e.find(".sih-top-sales__fake").length||e.append(i)},renderEmptyBlock=function(e,t){var n=$J('\n    <div class="sih-global sih-top-sales sih-top-sales__empty">\n      <div class="column w-320 justify-center gap-20">\n        <span class="text text_white fs-24 bold">'.concat(SIHLang.sihAppMarket.topSales.plug_tab.title,'</span>\n        <span class="text text_white">').concat(SIHLang.sihAppMarket.topSales.plug_tab.text_1,'</span>\n        <a href="javascript:void(0)" class="relative text text_blue"\n          >').concat(SIHLang.sihAppMarket.topSales.plug_tab.text_2,"</a\n        >\n      </div>\n    </div>\n  "));n.find("a").off("click").click((function(){$J(".sih-top-sales__empty").fadeOut(300,(function(){$J(".sih-top-sales__empty").remove(),topSales_loadHtml(e,t)}))})),e.find(".sih-top-sales__empty").length||e.append(n)},removeFakeTopSales=function(){return new Promise((function(e){$J(".sih-top-sales__fake").fadeOut(500,(function(){e(),$J(".sih-top-sales__fake").remove()}))}))},topSales_actionsListener=function(e){refreshAction(e),addInCartAction()},renderSaleItems=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:730;return new Promise((function(n,i){sih_app_global_service.A.getAllBuyStack().then((function(i){e.reverse().forEach((function(e){var n=skin_wear_service.A.getWearInfo(e.item),r=skin_wear_service.A.getSplitName(e.item),a=r.skinTagName,o=r.skinName,s=encodeURIComponent(e.item),l=currency_service.A.getPriceFromCurrency(e.steamPrice,1,1).text,c=currency_service.A.getPriceFromCurrency(e.price,1,1,!1,3).text,d=i.find((function(t){return t.itemId||e.id?t.market_hash_name===e.item&&+t.itemId==+e.id:t.market_hash_name===e.item})),u=$J('\n          <a\n            href="https://steamcommunity.com/market/listings/'.concat(t,"/").concat(s,'"\n            class="sih-top-sales__item column justify-between"\n            style="display: none"\n          >\n            <div class="row justify-between px-8">\n              <div class="row items-center gap-5">\n                <div\n                  class="row w-8 h-8 rounded-50per"\n                  style="background-color: ').concat(n&&n.color?n.color:"transparent",'"\n                ></div>\n                <span class="sih-top-sales__wear-short text fs-12"\n                  >').concat(n&&n.wearShort?n.wearShort:"",'</span\n                >\n              </div>\n\n              <span class="text text_green-900 fs-12">-').concat(Math.ceil(100*e.profitPercent)/100,' %</span>\n            </div>\n            <div class="row justify-center">\n              <div class="sih-top-sales__image">\n                <img src="').concat((0,utils.Fk)(e.image),'" alt="').concat(e.item,'" />\n              </div>\n            </div>\n            <div class="column px-8 sih-top-sales__name-block" title="').concat(e.item,'">\n              <span class="text text_light-grey fs-10">').concat(a,'</span>\n              <span class="text fs-12 sih-top-sales__item-name">').concat(o,'</span>\n            </div>\n            <div class="column gap-8 mt-11 px-8">\n              <div class="row items-center gap-5">\n                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <path\n                    fill-rule="evenodd"\n                    clip-rule="evenodd"\n                    d="M15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2C6.73 2 2.43 6.05 2 11.2L7.38 13.41C7.83 13.1 8.38 12.92 8.97 12.92L9.13 12.93L11.5 9.47V9.42C11.5 7.34 13.2 5.65 15.28 5.65C17.36 5.65 19.05 7.34 19.05 9.42C19.05 11.5 17.36 13.19 15.28 13.19H15.2L11.8 15.62V15.75C11.8 17.31 10.53 18.58 8.97 18.58C7.6 18.58 6.45 17.6 6.19 16.31L2.36 14.73C3.55 18.92 7.4 22 12 22C12.8828 22 13.7536 21.8833 14.5917 21.6583C13.6124 20.7456 13 19.4443 13 18C13 15.2386 15.2386 13 18 13C19.4443 13 20.7456 13.6124 21.6583 14.5917C21.8833 13.7536 22 12.8828 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7362 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612ZM10.33 16.33C10 17.13 9.08 17.5 8.28 17.17L7.06 16.67C7.27 17.12 7.65 17.5 8.15 17.71C9.23 18.16 10.5 17.64 10.93 16.56C11.15 16.04 11.15 15.46 10.93 14.94C10.72 14.41 10.31 14 9.78 13.79C9.26 13.57 8.71 13.58 8.22 13.76L9.5 14.29C10.28 14.62 10.66 15.53 10.33 16.33ZM15.28 11.94C16.67 11.94 17.8 10.81 17.8 9.42C17.8 8.04 16.67 6.91 15.28 6.91C14.95 6.90868 14.623 6.9727 14.3179 7.09837C14.0128 7.22404 13.7356 7.40887 13.5022 7.64221C13.2689 7.87555 13.084 8.15278 12.9584 8.4579C12.8327 8.76303 12.7687 9.09001 12.77 9.42C12.77 10.81 13.9 11.94 15.28 11.94ZM15.29 11.31C14.24 11.31 13.4 10.46 13.4 9.42C13.4 8.38 14.24 7.53 15.29 7.53C16.33 7.53 17.17 8.38 17.17 9.42C17.17 10.46 16.33 11.31 15.29 11.31Z"\n                    fill="white"\n                  />\n                  <circle cx="18" cy="18" r="3" fill="#3DC67D" />\n                </svg>\n\n                <span class="sih-top-sales__price max-w-90 text text_light-grey fs-12"\n                  >').concat(l,'</span\n                >\n              </div>\n\n              <button\n                class="sih-top-sales__in-cart-btn sih-modal__button sih-modal__button_blue sih-modal__row justify-center items-center gap-4 py-8 px-24 rounded-4"\n                data-price="').concat(e.price,'"\n                data-rarity-color="').concat(e.color||"",'"\n                data-itemid="').concat(e.id||"",'"\n              >\n                ').concat(d?"":'<img class="w-14 h-14" src="chrome-extension://'.concat(SIHID,'/assets/icons/top_sales_cart.svg" alt="sihmarket">'),'\n                <span class="sih-modal__text sih-modal__text_md sih-modal__text_medium lh-16 whitespace-nowrap"\n                  >').concat(d?SIHLang.sihAppMarket.listing_lot.in_cart:c,"</span\n                >\n              </button>\n            </div>\n          </a>\n        ")),_=$J('\n          <div class="row gap-5">\n            <span class="text fs-12" style="color: #F39227">ST</span>\n            <span class="text fs-12">|</span>\n          </div>\n        '),m=$J('\n          <div class="row gap-5">\n            <span class="text fs-12" style="color: #FFC700">SV</span>\n            <span class="text fs-12">|</span>\n          </div>\n        ');n&&n.stattrak&&u.find(".sih-top-sales__wear-short").before(_),n&&n.souvenir&&u.find(".sih-top-sales__wear-short").before(m),u.find(".sih-top-sales__name-block").tooltip({classes:{"ui-tooltip":"sih-top-sales__tooltip"},position:{my:"left top",at:"left bottom+10"}}),$J(".sih-top-sales__content").prepend(u)})),addInCartAction(),n()}))}))},refreshAction=function(e){var t=$J(".sih-top-sales");t.find(".sih-top-sales__refresh").off("click").click((function(){t.hide(),renderFakeTopSales($J(".sih-modal__inner .sih-modal__bottom"),e);var n=$J(this);!n.hasClass("pointer-events-none")&&n.addClass("pointer-events-none");var i=t.find(".sih-top-sales__item");i.each((function(e,t){$J(t).append('<div class="animated-item"></div>')})),clearTimeout(topSales_debounce),topSales_debounce=setTimeout((function(){e.offset=Math.floor(10*Math.random()+1),sih_app_global_service.A.getTopSales(e).then((function(r){var a=r.data,o=(r.pagination,0);a&&a.length&&i.fadeOut(300,(function(){++o===a.length&&(t.find(".sih-top-sales__item").remove(),renderSaleItems(a,e.appId).then((function(){removeFakeTopSales().then((function(){var e=t.find(".sih-top-sales__item");t.fadeIn(),e.fadeIn(),n.removeClass("pointer-events-none")}))})))}))}))}),500)}))},addInCartAction=function(){$J(".sih-top-sales").find(".sih-top-sales__in-cart-btn").off("click").click((function(e){e.preventDefault(),e.stopPropagation();var t=$J(this).closest(".sih-top-sales__item"),n=t.find(".sih-top-sales__name-block").attr("title"),i=encodeURIComponent(n),r=+t.find(".sih-top-sales__in-cart-btn").data("price"),a=t.find(".sih-top-sales__in-cart-btn").data("rarityColor"),o=t.find(".sih-top-sales__image img").attr("src"),s=t.attr("href"),l=t.find(".sih-top-sales__in-cart-btn").data("itemid"),c={appId:"730",hashName:i,countAdd:1,price:r,image:o,url:s,rarityColor:a,itemId:l};sih_app_global_service.A.getAllBuyStack().then((function(e){var r=e.find((function(e){return e.itemId||l?e.market_hash_name===n&&+e.itemId==+l:e.market_hash_name===n}));r?sih_app_global_service.A.deleteItemFromBuyStack({hashName:i,itemId:l}).then((function(){a()})):sih_app_global_service.A.setItemToBuyStack(c).then((function(){a()}));var a=function(){var e=t.find(".sih-top-sales__in-cart-btn");actionMenu_ChangeCartCountHeaderMenu(),ChangeItemCountInItemPage(),UpdateSihMarketTabBuyStack(),t.closest("#sih-modal__buy-orders").length?RenderItemsRow("cart-tab").then((function(){toggleInCartBtn(e,!!r),RenderCart(null,!1)})):toggleInCartBtn(e,!!r)}}))}))},toggleInCartBtn=function(e,t){if(t){var n=currency_service.A.getPriceFromCurrency(e.data("price"),1,1,!1,3).text;e.html('\n      <img class="w-14 h-14" src="chrome-extension://'.concat(SIHID,'/assets/icons/top_sales_cart.svg" alt="sihmarket" />\n      <span class="sih-modal__text sih-modal__text_md sih-modal__text_medium lh-16 whitespace-nowrap"\n        >').concat(n,"</span\n      >\n    "))}else e.html('\n      <span class="sih-modal__text sih-modal__text_md sih-modal__text_medium lh-16 whitespace-nowrap"\n        >'.concat(SIHLang.sihAppMarket.listing_lot.in_cart,"</span\n      >\n    "))};function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||ordersHistory_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ordersHistory_unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return ordersHistory_arrayLikeToArray(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ordersHistory_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return ordersHistory_arrayLikeToArray(e)}function ordersHistory_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var currencyIdLocal=1;function ModalOrdersHistory(){ordersHistory_loadHtml()}function ordersHistory_loadHtml(){var e=$J("#sih-modal__buy-orders").find(".orders-tab").find(".sih-modal__inner");e.find(".orders-history-tab__content").length||e.append('\n    <div class="orders-tab__content orders-history-tab__content hidden"></div>\n    <div id="pagination-container"></div>\n  ')}function RenderOrdersHistoryItems(){var e=$J("#sih-modal__buy-orders").find(".sih-modal.orders-tab").find(".orders-history-tab__content");e.find(".orders-tab__item").remove(),e.find(".orders-tab__plug").remove(),sih_app_global_service.A.getUserOrdersHistory().then((function(t){if(t.success||t.tfaNeed)if(t.orders.data.length){var n=sih_app_global_service.A.getFilterItemsByStatus(t.orders.data,["failed","finished","penalized"]);n.length&&UpdateRefreshOrderTimer(),renderPaginationOrdersHistory(n,t.orders.pagination)}else{var i=$J('\n          <div class="orders-tab__plug sih-modal__column w-100per h-100per justify-center items-center gap-20">\n            <span class="sih-modal__text sih-modal__text_xl">'.concat(SIHLang.sihAppMarket.orders.plug_history_title,'</span>\n            <span class="sih-modal__text sih-modal__text_md">').concat(SIHLang.sihAppMarket.orders.plug_text,"</span>\n          </div>\n        "));e.find(".orders-tab__plug").length||e.append(i)}else{var r=$J('\n        <div class="orders-tab__plug sih-modal__column w-100per h-100per justify-center items-center gap-20">\n          <span class="sih-modal__text sih-modal__text_xl">'.concat(SIHLang.sihAppMarket.orders.plug_history_title,'</span>\n          <span class="sih-modal__text sih-modal__text_md">').concat(SIHLang.sihAppMarket.orders.plug_text,"</span>\n        </div>\n      "));e.find(".orders-tab__plug").length||e.append(r)}HideActiveTabOrdersLoaders()}))}function renderPaginationOrdersHistory(e,t){var n=$J("#sih-modal__buy-orders").find(".sih-modal.orders-tab"),i=n.find(".orders-history-tab__content"),r=n.find("#pagination-container");function a(n){var i=$J(n.currentTarget).attr("data-num").trim();if(i&&10*i>t.perPage*t.page){for(var a=t.page,o=Math.ceil(10*i/t.perPage),s=[],l=a+1;l<=o;l++)s.push(sih_app_global_service.A.getUserOrdersHistory(!1,l));ShowActiveTabOrdersLoaders().then((function(){Promise.all(s).then((function(t){var n,a=[];t.forEach((function(t){var i=sih_app_global_service.A.getFilterItemsByStatus(t.orders.data,["failed","finished","penalized"]);a=a.length?[].concat(_toConsumableArray(a),_toConsumableArray(i)):[].concat(_toConsumableArray(e.map((function(e){return e}))),_toConsumableArray(i)),n=t.orders.pagination})),renderPaginationOrdersHistory(a,n),r.pagination(i),HideActiveTabOrdersLoaders()}))}))}}e.length<=t.total&&(e.length=t.total),r.pagination({dataSource:e,pageSize:10,afterNextOnClick:function(e){a(e)},afterPageOnClick:function(e){a(e)},callback:function(e){var t=simpleTemplating(e);i.html(t)}})}function simpleTemplating(e){var t='<div class="sih-modal__column gap-10">';return e.forEach((function(e){var n=currency_service.A.getPriceFromCurrency(e.item_amount/1e3,currencyIdLocal,1,!1,3).text,i=new Date(e.created_at).toLocaleString();t+='\n      <div class="orders-tab__item item sih-modal__column rounded-8">\n        <div class="sih-modal__row sih-modal__text sih-modal__text_xl">\n          '.concat(SIHLang.sihAppMarket.orders.order," #").concat(e.id,'\n        </div>\n\n        <div class="sih-modal__row justify-between mt-20">\n          \x3c!--TODO: change appid when the store is expanded--\x3e\n\n          <div class="sih-modal__column gap-10">\n            <div class="sih-modal__row items-start gap-15">\n              <a\n                href="https://steamcommunity.com/market/listings/730/').concat(encodeURIComponent(e.item_name),'"\n                class="item__image"\n              >\n                <img src="').concat((0,utils.Fk)(e.item_info.image),'" alt="').concat(e.item_name,'" />\n              </a>\n\n              <div class="sih-modal__column gap-5">\n                <span class="sih-modal__text sih-modal__text_md">').concat(e.item_name,'</span>\n                <span class="sih-modal__text sih-modal__text_md">').concat(n,'</span>\n                <span class="sih-modal__text sih-modal__text_sm"\n                  >').concat(sih_app_global_service.A.getOrderStatusText(e.status),"</span\n                >\n              </div>\n            </div>\n\n            ").concat(e.sender?'\n                        <div class="sih-modal__row items-start gap-15">\n\n                           <div class="item__image '.concat(e.sender.avatar?"bg-grey":"",'">\n\n                              ').concat(e.sender.avatar?'<img src="'.concat(e.sender.avatar.match(/https:/g)?e.sender.avatar:"https://avatars.steamstatic.com/".concat(e.sender.avatar,"_medium.jpg"),'" alt="').concat(e.sender.nickname?e.sender.nickname:"",'">'):"",'\n\n                           </div>\n\n\n                            <div class="sih-modal__column gap-5">\n                              ').concat(e.sender.nickname?'<span class="sih-modal__text sih-modal__text_md">'.concat(SIHLang.sihAppMarket.orders.sender,": ").concat(e.sender.nickname,"</span>"):"","\n                              ").concat(e.sender.offerId?'<span class="sih-modal__text sih-modal__text_sm">'.concat(SIHLang.sihAppMarket.orders.trade_number_text,": ").concat(e.sender.offerId,"</span>"):"","\n                            </div>\n                        </div>\n                     "):"",'\n          </div>\n\n          <div class="sih-modal__column w-320 gap-15">\n            <div class="sih-modal__row justify-between">\n              <div class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">\n                ').concat(SIHLang.sihAppMarket.orders.order_date,'\n              </div>\n              <div class="sih-modal__text sih-modal__text_md">').concat(i,'</div>\n            </div>\n\n            <div class="sih-modal__row justify-between">\n              <div class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">\n                ').concat(SIHLang.sihAppMarket.orders.purchased_on_steam,'\n              </div>\n              <div class="sih-modal__text sih-modal__text_md">').concat(e.steam_id,"</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    ")})),t+="</div>"}function ordersActive_typeof(e){return ordersActive_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ordersActive_typeof(e)}function ordersActive_defineProperty(e,t,n){return(t=ordersActive_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ordersActive_toPropertyKey(e){var t=ordersActive_toPrimitive(e,"string");return"symbol"==ordersActive_typeof(t)?t:t+""}function ordersActive_toPrimitive(e,t){if("object"!=ordersActive_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=ordersActive_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ordersActive_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ordersActive_regeneratorRuntime=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),s=new R(i||[]);return r(o,"_invoke",{value:I(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var _="suspendedStart",m="suspendedYield",h="executing",f="completed",p={};function g(){}function v(){}function b(){}var y={};c(y,o,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(T([])));S&&S!==n&&i.call(S,o)&&(y=S);var w=b.prototype=g.prototype=Object.create(y);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(r,a,o,s){var l=u(e[r],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==ordersActive_typeof(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return a=a?a.then(r,r):r()}})}function I(t,n,i){var r=_;return function(a,o){if(r===h)throw Error("Generator is already running");if(r===f){if("throw"===a)throw o;return{value:e,done:!0}}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var l=x(s,i);if(l){if(l===p)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===_)throw r=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=h;var c=u(t,n,i);if("normal"===c.type){if(r=i.done?f:m,c.arg===p)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=f,i.method="throw",i.arg=c.arg)}}}function x(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),p;var a=u(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(ordersActive_typeof(t)+" is not iterable")}return v.prototype=b,r(w,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},C(A.prototype),c(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new A(d(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(w),c(w,l,"Generator"),c(w,o,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=T,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;L(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:T(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),p}},t}function ordersActive_asyncGeneratorStep(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function ordersActive_asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){ordersActive_asyncGeneratorStep(a,i,r,o,s,"next",e)}function s(e){ordersActive_asyncGeneratorStep(a,i,r,o,s,"throw",e)}o(void 0)}))}}function ordersActive_toConsumableArray(e){return ordersActive_arrayWithoutHoles(e)||ordersActive_iterableToArray(e)||ordersActive_unsupportedIterableToArray(e)||ordersActive_nonIterableSpread()}function ordersActive_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ordersActive_unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return ordersActive_arrayLikeToArray(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ordersActive_arrayLikeToArray(e,t):void 0}}function ordersActive_iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ordersActive_arrayWithoutHoles(e){if(Array.isArray(e))return ordersActive_arrayLikeToArray(e)}function ordersActive_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var ordersActive_currencyIdLocal=1,ACTIVE_ORDERS_TIMER_INTERVAL=null,PENDING_ITEMS_TIMESTAMPS=null,TEN_MINUTES=6e5,PROCESSING_ORDER_STATUSES=["created","processing","sent"];function ModalOrdersActive(){ordersActive_loadHtml()}function ordersActive_loadHtml(){var e=$J("#sih-modal__buy-orders").find(".orders-tab").find(".sih-modal__inner");e.find(".orders-active-tab__content").length||e.append('\n    <div class="orders-tab__content orders-active-tab__content sih-modal__column gap-10"></div>\n  ')}function RenderOrdersActiveItems(){var e=$J("#sih-modal__buy-orders"),t=e.find(".sih-modal.orders-tab").find(".orders-active-tab__content").removeClass("empty");t.find(".orders-tab__item").remove(),t.find(".orders-tab__plug").remove(),sih_app_global_service.A.getAllBuyStack().then((function(n){sih_app_global_service.A.getUserOrdersHistory().then((function(i){var r=n;i&&i.success&&!i.tfaNeed&&i.orders.data.length&&(r=[].concat(ordersActive_toConsumableArray(r),ordersActive_toConsumableArray(i.orders.data)));var a=sih_app_global_service.A.getFilterItemsByStatus(r,["new","pending","created","processing","sent"]);if(!a.length||i.tfaNeed){var o=$J('\n          <div\n            class="orders-tab__plug sih-modal__column w-100per h-100per justify-center items-center gap-20 mt-31 mb-50"\n          >\n            <span class="sih-modal__text sih-modal__text_xl">'.concat(SIHLang.sihAppMarket.orders.plug_active_title,'</span>\n            <span class="sih-modal__text sih-modal__text_md">').concat(SIHLang.sihAppMarket.orders.plug_text,'</span>\n            <a\n              href="javascript:void(0)"\n              class="sih-go-market sih-modal__button sih-modal__button_blue py-10 px-14 fs-12 h-28 rounded-4 mt-10"\n              >SIH Market</a\n            >\n          </div>\n        '));t.append(o),$J(".orders-active-tab__content").addClass("empty"),RenderTopSalesPanel($J(".orders-active-tab__content")),e.find(".sih-go-market").off("click").click(ordersActive_asyncToGenerator(ordersActive_regeneratorRuntime().mark((function e(){var t,n,i;return ordersActive_regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,chromeStorage.M.getLocal("SIH_MARKET_TAB");case 2:t=e.sent,n=t.SIH_MARKET_TAB,(i=void 0===n?{}:n).openTab=!0,chromeStorage.M.setLocal("SIH_MARKET_TAB",i),window.open("https://steamcommunity.com/market/","_self");case 8:case"end":return e.stop()}}),e)}))))}else{var s=a.sort((function(e,t){return t.orderAt-e.orderAt}));s.forEach((function(e,n){var i=currency_service.A.getPriceFromCurrency(e.price||e.item_amount/1e3,ordersActive_currencyIdLocal,1,!1,3).text,r=new Date(e.orderAt||e.created_at).toLocaleString(),a=$J('\n            <div class="orders-tab__item item sih-modal__column rounded-8">\n              '.concat(e.id?'<div class="sih-modal__row sih-modal__text sih-modal__text_xl">'.concat(SIHLang.sihAppMarket.orders.order," #").concat(e.id,"</div>"):"",'\n              <div class="sih-modal__row mt-20 justify-between">\n                <div class="item__left-side sih-modal__row items-start gap-15">\n                  ').concat(e.item_info?'<a href="https://steamcommunity.com/market/listings/'.concat(e.app_id,"/").concat(encodeURIComponent(e.item_name),'"\n                         class="item__image">\n                        <img src="').concat((0,utils.Fk)(e.item_info.image),'"\n                             alt="').concat(e.item_name,'">\n                      </a>'):'\n                        <a href="https://steamcommunity.com/market/listings/'.concat(e.appid,"/").concat(encodeURIComponent(e.market_hash_name),'" class="item__image">\n                            <img src="').concat(e.image.replace("/360fx360f",""),'" alt="').concat(e.market_hash_name,'">\n                        </a>\n                      '),'\n\n                  <div class="sih-modal__column gap-5">\n                    <span class="item__name sih-modal__text sih-modal__text_md"\n                      >').concat(e.market_hash_name||e.item_name,'</span\n                    >\n                    <span class="sih-modal__text sih-modal__text_md">').concat(i,'</span>\n                    <div class="item__status-block sih-modal__row items-center gap-8">\n                      <span\n                        class="item__status sih-modal__text sih-modal__text_sm"\n                        data-status="').concat(e.status,'"\n                        ').concat("pending"===e.status?'title="'.concat(SIHLang.sihAppMarket.orders.pending_payment_tooltip,'"'):"","\n                        >").concat(sih_app_global_service.A.getOrderStatusText(e.status),'</span\n                      >\n                    </div>\n                    <div class="item__buttons sih-modal__row items-center mt-5 gap-20"></div>\n                    <div class="item__cancel-block sih-modal__row items-center mt-5 gap-8">\n                      <div class="item__cancel sih-modal__text sih-modal__text_sm"></div>\n                    </div>\n                  </div>\n                </div>\n\n                <div class="item__right-side sih-modal__column w-320 gap-15">\n                  <div class="sih-modal__row justify-between">\n                    <div class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">\n                      ').concat(SIHLang.sihAppMarket.orders.order_date,'\n                    </div>\n                    <div class="sih-modal__text sih-modal__text_md">').concat(r,'</div>\n                  </div>\n\n                  <div class="sih-modal__row justify-between">\n                    <div class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">\n                      ').concat(SIHLang.sihAppMarket.orders.purchased_on_steam,'\n                    </div>\n                    <div class="sih-modal__text sih-modal__text_md">').concat(e.steam_id,"</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          "));e.createdAt?a[0].createdTimestamp=e.createdAt:e.created_at&&(a[0].createdTimestamp=new Date(e.created_at).getTime()),a.find(".item__status").tooltip({position:{my:"left top",at:"left+10 bottom"},classes:{"ui-tooltip":"ordering__tooltip"}}),t.append(a)})),updatePurchaseItemTimer(),initLoadersForItems(s),initRemoveOrderBtn(s)}HideActiveTabOrdersLoaders()}))}))}function updatePurchaseItemTimer(){var e=$J("#sih-modal__buy-orders").find(".sih-modal.orders-tab").find(".orders-active-tab__content");function t(){var t=e.find(".item__spinner"),n=e.find(".item__timer"),i=e.find(".item__left-to-pay"),r=e.find(".item__left-to-pay--button");t.css("display","flex").hide().fadeOut(),n.css("display","flex").hide().fadeOut(),i.remove(),r.remove(),ShowActiveTabOrdersLoaders().then((function(){actionMenu_ChangeCartCountHeaderMenu(),ChangeItemCountInItemPage(),ChangeOrdersCountHeaderMenu(),RenderOrdersActiveItems(),RenderOrdersHistoryItems(),UpdateSihMarketTabBuyStack()}))}clearInterval(ACTIVE_ORDERS_TIMER_INTERVAL),ACTIVE_ORDERS_TIMER_INTERVAL=setInterval((function(){sih_app_global_service.A.getAllBuyStack().then((function(n){sih_app_global_service.A.getUserOrdersHistory().then((function(i){var r=n;i&&i.success&&i.orders.data.length&&(r=[].concat(ordersActive_toConsumableArray(r),ordersActive_toConsumableArray(i.orders.data)));var a=sih_app_global_service.A.getFilterItemsByStatus(r,["new","pending","created","processing","sent"]);if(a.length){var o=a.find((function(e){return e.finishOrderAt})),s=a.map((function(e){return e.createdAt?e.createdAt:new Date(e.created_at).getTime()})).filter((function(e){return e})),l=sih_app_global_service.A.getFilterItemsByStatus(a,"new"),c=sih_app_global_service.A.getFilterItemsByStatus(a,"sent");e.find(".orders-tab__item").each((function(e,n){var i=$J(n);updateItemRowStatus(i,a),l.length&&l.forEach((function(e){if(i[0].createdTimestamp===new Date(e.created_at).getTime()){var n=new Date(e.created_at).getTime()+TEN_MINUTES-Date.now();if(n>0){var r=new Date(n).toISOString().slice(14,19);timeToLeft(i,e,"cancel",r)}else t()}})),c.length&&c.forEach((function(e){i[0].createdTimestamp===new Date(e.created_at).getTime()&&timeToLeft(i,e)})),o&&o.createdAt===i[0].createdTimestamp&&timeToLeft(i,o),JSON.stringify(PENDING_ITEMS_TIMESTAMPS)!==JSON.stringify(s)&&(null!==PENDING_ITEMS_TIMESTAMPS&&t(),PENDING_ITEMS_TIMESTAMPS=s)}))}else clearInterval(ACTIVE_ORDERS_TIMER_INTERVAL),t()}))}))}),1e3)}function initLoadersForItems(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];$J("#sih-modal__buy-orders").find(".sih-modal.orders-tab").find(".orders-active-tab__content").find(".orders-tab__item").each((function(t,n){var i=$J(n);if(e[t]&&(e[t].createdAt||new Date(e[t].created_at).getTime())===i[0].createdTimestamp){var r=i.find(".item__status-block .item__spinner");r.length?r.css("display","flex").hide().fadeIn():i.find(".item__status").before('<div class="item__spinner"></div>')}}))}function updateItemRowStatus(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach((function(t){var n=t.createdAt?t.createdAt:new Date(t.created_at).getTime();if(e[0].createdTimestamp===n){var i=e.find(".item__status"),r=i.attr("data-status"),a=e.find(".item__cancel-block:visible");r!==t.status&&(i.attr("data-status",t.status),i.text(sih_app_global_service.A.getOrderStatusText(t.status)),PROCESSING_ORDER_STATUSES.includes(t.status)&&a.length&&a.hide())}}))}function timeToLeft(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"status",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!i){var r=(t.finishOrderAt?t.finishOrderAt:t.sender.timeout)-Date.now();i=new Date(r>0?r:0).toISOString().slice(14,19)}var a=e.find(".item__".concat(n,"-block")),o=a.find(".item__spinner"),s=a.find(".item__timer"),l=a.find(".item__".concat(n));if(o.length||l.before('<div class="item__spinner"></div>'),s.length)s.is(":visible")||(o.css("display","flex").fadeIn(),s.css("display","flex").fadeIn()),s.text(i);else{if(l.after('<div class="item__timer sih-modal__text sih-modal__text_sm">'.concat(i,"</div>")),"cancel"===n&&l.text(SIHLang.sihAppMarket.orders.cancel_info),"status"!==n)return;t.finishOrderAt&&renderBlockLeftToPay(e,t.price),t.sender&&t.sender.timeout&&renderBlockLeftToConfirmOffer(e,t.sender.offerId)}}function renderBlockLeftToPay(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.find(".item__right-side"),i=e.find(".item__left-side").find(".item__buttons"),r=i.find(".item__left-to-pay--button"),a=n.find(".item__left-to-pay");sih_app_global_service.A.getLoginSihAppUser().then((function(e){var o;if(e.success&&e.user){var s=(o=e.user.balance/1e3)-t<0?Math.ceil(100*Math.abs(o-t))/100:t,l=currency_service.A.getPriceFromCurrency(s,ordersActive_currencyIdLocal,1,!1,3).text;a.length||n.append('\n        <div class="item__left-to-pay sih-modal__row justify-between">\n          <div class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">\n            '.concat(SIHLang.sihAppMarket.orders.payment,'\n          </div>\n          <div class="sih-modal__row items-center gap-5">\n            <span class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey sih-modal__text_bold"\n              >').concat(l,'</span\n            >\n            <span class="sih-modal__text sih-modal__text_sm sih-modal__text_light-grey"\n              >').concat(SIHLang.sihAppMarket.orders.pending_payment,"</span\n            >\n          </div>\n        </div>\n      ")),r.length||(i.prepend('\n        <a\n          href="javascript:void(0)"\n          data-payment="'.concat(s,'"\n          class="item__left-to-pay--button sih-modal__row sih-modal__button sih-modal__button_blue px-20 py-8"\n        >\n          <span class="sih-modal__text sih-modal__text_tiny sih-modal__text_bold"\n            >').concat(SIHLang.sihAppMarket.orders.pay,"</span\n          >\n        </a>\n      ")),paymentListenerAction())}}))}function renderBlockLeftToConfirmOffer(e,t){var n=e.find(".item__left-side").find(".item__buttons"),i=n.find(".trade-sent__buttons");sih_app_global_service.A.getLoginSihAppUser().then((function(e){if(e.success&&e.socials){var r=e.socials.findIndex((function(e){return"steam"===e[0]})),a=e.socials[r][1];i.length||n.prepend('\n        <div class="trade-sent__buttons sih-modal__row justify-between items-center gap-20">\n          <a\n            href="https://steamcommunity.com/tradeoffer/'.concat(t,'/"\n            target="_blank"\n            class="sih-modal__row sih-modal__button sih-modal__button_blue px-20 py-8"\n          >\n            <span class="sih-modal__text sih-modal__text_tiny sih-modal__text_bold"\n              >').concat(SIHLang.sihAppMarket.orders.open,'</span\n            >\n          </a>\n          <a\n            href="https://steamcommunity.com/profiles/').concat(a,'/tradeoffers/"\n            target="_blank"\n            class="sih-modal__text sih-modal__text_tiny sih-modal__text_bold sih-modal__text_blue hover-opacity-8"\n            >').concat(SIHLang.sihAppMarket.orders.go_to_trades,"</a\n          >\n        </div>\n      "))}}))}function initRemoveOrderBtn(e){var t=$J("#sih-modal__buy-orders").find(".sih-modal.orders-tab").find(".orders-active-tab__content"),n=sih_app_global_service.A.getFilterItemsByStatus(e,"pending"),i=n.map((function(e){return e.createdAt})),r=n.find((function(e){return e.finishOrderAt})),a=Math.max.apply(Math,ordersActive_toConsumableArray(i));t.find(".orders-tab__item").each((function(e,t){var n=$J(t),o=n.find(".item__left-side").find(".item__buttons");!o.find(".item__remove").length&&i.includes(n[0].createdTimestamp)&&a!==n[0].createdTimestamp&&(o.append('\n        <a\n          href="javascript:void(0)"\n          class="item__remove sih-modal__text sih-modal__text_tiny sih-modal__text_bold sih-modal__text_blue hover-opacity-8"\n          >'.concat(SIHLang.sihAppMarket.orders.cancel_purchase,"</a\n        >\n      ")),removeOrderListenerAction(n,r))}))}function paymentListenerAction(){$J("#sih-modal__buy-orders").find(".sih-modal.orders-tab").find(".orders-active-tab__content").find(".item__left-to-pay--button").each((function(e,t){$J(t).off("click").click((function(){var e=$J(this),t=Number(e.attr("data-payment")),n=Math.ceil(1e3*t)/1e3;sih_app_global_service.A.getSihAppToken().then((function(e){window.open("https://sih.app/pay?amount=".concat(n,"#payToken=").concat(e),"_blank")}))}))}))}function removeOrderListenerAction(e,t){e.find(".item__remove").off("click").click((function(){var n=e.find(".item__name").text(),i=ordersActive_defineProperty({},encodeURIComponent(n),[{createdAt:e[0].createdTimestamp,statusCode:null}]);sih_app_global_service.A.changeItemsStatus(i).then((function(){ShowActiveTabOrdersLoaders().then((function(){t&&t.createdAt===e[0].createdTimestamp&&chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_DEFAULT_BUY_COUNT"},(function(e){})),e.remove(),HideActiveTabOrdersLoaders(),actionMenu_ChangeCartCountHeaderMenu(),ChangeItemCountInItemPage(),ChangeOrdersCountHeaderMenu()}))}))}))}var REFRESH_ORDERS_TIMER=30,REFRESH_ORDERS_TIMER_INTERVAL=null;function ModalOrders(){orders_loadHtml(),modalListeners(),ModalOrdersActive(),ModalOrdersHistory()}function ShowActiveTabOrdersLoaders(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,i=$J("#sih-modal__buy-orders").find(".sih-modal.orders-tab").find(".orders-tab__content");return t='\n      <div class="fake-orders-tab__content">'.concat(e='\n      <div class="fake-orders__row sih-modal__column rounded-8">\n        <div class="sih-modal__row w-100 h-28 bg-grey rounded-4"></div>\n        <div class="sih-modal__row mt-20 justify-between">\n          <div class="sih-modal__row items-start gap-15">\n            <div class="sih-modal__column w-40 h-40 bg-grey rounded-4"></div>\n\n            <div class="sih-modal__column gap-5">\n              <span class="w-100 h-20 bg-grey rounded-4"></span>\n              <span class="w-100 h-20 bg-grey rounded-4"></span>\n              <span class="w-100 h-20 bg-grey rounded-4"></span>\n            </div>\n          </div>\n\n          <div class="sih-modal__column w-320 gap-15">\n            <div class="sih-modal__row justify-between">\n              <div class="w-100 h-20 bg-grey rounded-4"></div>\n              <div class="w-100 h-20 bg-grey rounded-4"></div>\n            </div>\n\n            <div class="sih-modal__row justify-between">\n              <div class="w-100 h-20 bg-grey rounded-4"></div>\n              <div class="w-100 h-20 bg-grey rounded-4"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    '," ").concat(e," ").concat(e,"</div>\n    "),i.each((function(e,n){var i=$J(n),r=i.find(".fake-orders-tab__content");i.find(".orders-tab__item").fadeOut(),r.length?r.fadeIn():i.append(t)})),new Promise((function(e){return setTimeout(e,n)}))}function HideActiveTabOrdersLoaders(){var e=$J("#sih-modal__buy-orders").find(".sih-modal.orders-tab").find(".orders-tab__content"),t=e.find(".orders-tab__item");e.find(".fake-orders-tab__content").fadeOut(),t.fadeIn()}function UpdateRefreshOrderTimer(){REFRESH_ORDERS_TIMER=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30}function orders_loadHtml(){var e=$J("#sih-modal__buy-orders"),t='\n    <div class="sih-modal sih-global orders-tab">\n      <div class="sih-modal__close"></div>\n      <div class="sih-modal__inner sih-modal__column">\n        <div class="orders-tab__header sih-modal__row gap-60">\n          <div class="sih-modal__column">\n            <div class="title sih-modal__title">'.concat(SIHLang.sihAppMarket.orders.title,'</div>\n          </div>\n        </div>\n        <div class="orders-tabs orders-tabs__container sih-modal__row gap-30 mb-20">\n          <label for="orders-active" class="orders-tabs__label">\n            <input type="radio" name="orders-tab" id="orders-active" class="orders-tabs__input" checked />\n            <span class="orders-tabs__item sih-modal__text sih-modal__text_sm"\n              >').concat(SIHLang.sihAppMarket.orders.tab_active,'</span\n            >\n          </label>\n          <label for="orders-history" class="orders-tabs__label">\n            <input type="radio" name="orders-tab" id="orders-history" class="orders-tabs__input" />\n            <span class="orders-tabs__item sih-modal__text sih-modal__text_sm"\n              >').concat(SIHLang.sihAppMarket.orders.tab_history,'</span\n            >\n          </label>\n          <a\n            href="javascript:void(0)"\n            class="orders-tabs__refresh-btn sih-modal__row items-center gap-5 absolute right-32 bottom-0 ').concat(REFRESH_ORDERS_TIMER>0?"pointer-events-none opacity-5":"",'"\n          >\n            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                d="M17.65 6.35C16.2 4.9 14.21 4 12 4C9.87827 4 7.84344 4.84285 6.34315 6.34315C4.84285 7.84344 4 9.87827 4 12C4 14.1217 4.84285 16.1566 6.34315 17.6569C7.84344 19.1571 9.87827 20 12 20C15.73 20 18.84 17.45 19.73 14H17.65C16.83 16.33 14.61 18 12 18C10.4087 18 8.88258 17.3679 7.75736 16.2426C6.63214 15.1174 6 13.5913 6 12C6 10.4087 6.63214 8.88258 7.75736 7.75736C8.88258 6.63214 10.4087 6 12 6C13.66 6 15.14 6.69 16.22 7.78L13 11H20V4L17.65 6.35Z"\n                fill="white"\n              />\n            </svg>\n            <div class="orders-tabs__timer sih-modal__row items-center">\n              <span class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">00:</span>\n              <span class="orders-tabs__timer-seconds sih-modal__text sih-modal__text_md sih-modal__text_light-grey"\n                >').concat(REFRESH_ORDERS_TIMER||"","</span\n              >\n            </div>\n          </a>\n        </div>\n      </div>\n    </div>\n  ");e.find(".orders-tab").length||e.append(t)}function modalListeners(){showOrders(),changeOrdersTab(),refreshOrderHistoryAction(),updateRefreshTimer()}function showOrders(){var e=$J("#sih-modal__buy-orders"),t=e.find(".sih-modal.orders-tab");function n(){e.show(),t.show(),ChangeOrdersCountHeaderMenu(),ShowActiveTabOrdersLoaders().then((function(){RenderOrdersActiveItems(),RenderOrdersHistoryItems()}))}$J("#sih-header-orders").off("click").click((function(){$J("body").css("overflow","hidden");var t=$J("body").find("#sih-enter-password");sih_app_global_service.A.getUserOrdersHistory(!1).then((function(i){i&&i.success?i.tfaNeed?(e.hide(),t.attr("data-show-modal","orders").show()):n():i&&!i.hasOwnProperty("authorization")?sih_app_global_service.A.getLoginSihAppUser().then((function(i){i.tfaNeed?(e.hide(),t.attr("data-show-modal","orders").show()):n()})):n()})),registerOpenOrdersClick()}))}function changeOrdersTab(){var e=$J("#sih-modal__buy-orders").find(".sih-modal.orders-tab");e.find(".orders-tabs__container").find(".orders-tabs__input").each((function(t,n){$J(n).change((function(){var t=$J(this),n=e.find("#pagination-container"),i=e.find(".orders-tabs__refresh-btn");e.find(".orders-tab__content").addClass("hidden"),e.find(".".concat(t.attr("id"),"-tab__content")).removeClass("hidden"),"orders-history"===t.attr("id")?(n.css("display","flex"),i.css("display","flex")):(n.hide(),i.hide())}))}))}function refreshOrderHistoryAction(){var e=$J("#sih-modal__buy-orders");e.find(".sih-modal.orders-tab").find(".orders-tabs__refresh-btn").off("click").click((function(){UpdateRefreshOrderTimer();var t=$J("body").find("#sih-enter-password");sih_app_global_service.A.getUserOrdersHistory(!1).then((function(n){n&&n.success?n.tfaNeed?(e.hide(),t.attr("data-show-modal","orders").show()):ShowActiveTabOrdersLoaders().then((function(){RenderOrdersHistoryItems()})):(n&&n.hasOwnProperty("authorization"),sih_app_global_service.A.getLoginSihAppUser().then((function(e){ShowActiveTabOrdersLoaders().then((function(){RenderOrdersHistoryItems()}))})))}))}))}function updateRefreshTimer(){var e=$J("#sih-modal__buy-orders").find(".sih-modal.orders-tab"),t=e.find(".orders-tabs__refresh-btn");clearInterval(REFRESH_ORDERS_TIMER_INTERVAL),UpdateRefreshOrderTimer(),REFRESH_ORDERS_TIMER_INTERVAL=setInterval((function(){var n=e.find(".orders-tabs__timer"),i=n.find(".orders-tabs__timer-seconds");REFRESH_ORDERS_TIMER>0?(n.is(":visible")||(t.addClass("pointer-events-none opacity-5"),n.show()),REFRESH_ORDERS_TIMER-=1,i.text(REFRESH_ORDERS_TIMER>=10?REFRESH_ORDERS_TIMER:"0".concat(REFRESH_ORDERS_TIMER))):(t.removeClass("pointer-events-none opacity-5"),n.hide())}),1e3)}function common_modals_RenderModals(){common_modals_loadHtml(),ModalOrdering(),LoadEnterPasswordModal(),ModalOrders(),ModalCart(),setTimeout((function(){modalListenersAction(),ModalPasswordListenersAction()}),500)}function SetModalToDefaultState(){$J("#sih-modal__buy-orders").hide().remove(),CloseRefillSIHBalance(),common_modals_RenderModals()}function common_modals_loadHtml(){var e=$J("body");e.find("#sih-modal__buy-orders").length||e.append('\n    <div id="sih-modal__buy-orders">\n      <div class="sih-modal__buy-orders__fade"></div>\n    </div>\n  ')}function modalListenersAction(){hideMainMarketModal()}function setDefaultItemsStatusOnCloseModal(){var e=$J("#sih-modal__buy-orders");e.find(".sih-modal:visible").hasClass("ordering-tab")&&ChangeItemsStatus(),e.hide()}function hideMainMarketModal(){$J(document).off("keydown").keydown((function(e){27===e.keyCode&&(e.stopPropagation(),$J("body").css("overflow","auto"),setDefaultItemsStatusOnCloseModal(),SetModalToDefaultState(),ResetPriceTimer())})),$J(".sih-modal__buy-orders__fade").off("click").click((function(){isVisibleImportantModal()||($J("body").css("overflow","auto"),setDefaultItemsStatusOnCloseModal(),SetModalToDefaultState(),ResetPriceTimer())})),$J("#sih-modal__buy-orders").find(".sih-modal__close").each((function(e,t){$J(t).off("click").click((function(){$J("body").css("overflow","auto"),setDefaultItemsStatusOnCloseModal(),SetModalToDefaultState(),ResetPriceTimer()}))}))}function isVisibleImportantModal(){var e=$J("#sih-modal__buy-orders"),t=$J("body").find("#sih-enter-password").is(":visible"),n=["ordering-tab"];return e.find(".sih-modal:visible").each((function(e,i){var r=$J(i);n.forEach((function(e){r.hasClass(e)&&(t=!0)}))})),t}function cart_typeof(e){return cart_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cart_typeof(e)}function cart_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */cart_regeneratorRuntime=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),s=new R(i||[]);return r(o,"_invoke",{value:I(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var _="suspendedStart",m="suspendedYield",h="executing",f="completed",p={};function g(){}function v(){}function b(){}var y={};c(y,o,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(T([])));S&&S!==n&&i.call(S,o)&&(y=S);var w=b.prototype=g.prototype=Object.create(y);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(r,a,o,s){var l=u(e[r],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==cart_typeof(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return a=a?a.then(r,r):r()}})}function I(t,n,i){var r=_;return function(a,o){if(r===h)throw Error("Generator is already running");if(r===f){if("throw"===a)throw o;return{value:e,done:!0}}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var l=x(s,i);if(l){if(l===p)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===_)throw r=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=h;var c=u(t,n,i);if("normal"===c.type){if(r=i.done?f:m,c.arg===p)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=f,i.method="throw",i.arg=c.arg)}}}function x(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),p;var a=u(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(cart_typeof(t)+" is not iterable")}return v.prototype=b,r(w,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},C(A.prototype),c(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new A(d(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(w),c(w,l,"Generator"),c(w,o,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=T,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;L(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:T(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),p}},t}function cart_asyncGeneratorStep(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function cart_asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){cart_asyncGeneratorStep(a,i,r,o,s,"next",e)}function s(e){cart_asyncGeneratorStep(a,i,r,o,s,"throw",e)}o(void 0)}))}}window.onbeforeunload=function(){setDefaultItemsStatusOnCloseModal()};var cart_currencyIdLocal=1,ONE_MINUTE=6e4,ONE_SECOND=1e3,TIMER=ONE_MINUTE,ACTUAL_PRICE_INTERVAL=null;function ModalCart(){cart_loadHtml(),showCartAction()}function cart_loadHtml(){var e=$J("#sih-modal__buy-orders"),t='\n    <div class="sih-modal sih-global cart-tab">\n      <div class="sih-modal__close"></div>\n      <div class="sih-modal__inner sih-modal__column">\n        <div class="sih-modal__header sih-modal__column gap-20">\n          <div class="header-container">\n            <div class="sih-modal__row title gap-23 items-center lh-26 pt-32 px-36">\n              <div class="cart-tab__title sih-modal__text fs-24"></div>\n              <div class="sih-modal__cart-count fs-24"></div>\n            </div>\n            <div class="header-container__timer fs-24" title="'.concat(SIHLang.cart.timer_tooltip,'"></div>\n          </div>\n\n          <div class="sih-modal__column cart-tab__content mt-16"></div>\n          <div class="sih-modal__error"></div>\n        </div>\n\n        <div class="sih-modal__bottom sih-modal__column gap-20"></div>\n      </div>\n    </div>\n  ');e.find(".cart-tab")&&e.append(t)}function RenderCart(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=$J("#sih-modal__buy-orders").find(".sih-modal.cart-tab"),i=n.find(".cart-tab__title"),r=n.find(".sih-modal__cart-count");sih_app_global_service.A.getAllBuyStack().then((function(a){if(a&&a.length){var o=sih_app_global_service.A.getFilterItemsByStatus(a,e);if(o&&o.length){var s=0;o.forEach((function(e,t){s+=e.price||0}));var l=currency_service.A.getPriceFromCurrency(s,cart_currencyIdLocal,1,!1,3).text;i.text("".concat(SIHLang.sihAppMarket.cart.title)),r.text("".concat(o.length," - ").concat(l)),renderItemsRowButtons(n,s),renderPriceTimer(n),ModalCartListenerAction()}else n.addClass("empty"),renderEmptyCart()}else n.addClass("empty"),renderEmptyCart();t&&chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_USER_INFO"},(function(e){var t={offset:Math.floor(10*Math.random()+1),limit:5,appId:730,sortBy:"-profit"};if(e&&e.user&&e.user.balance)t.maxPrice=e.user.balance/1e3;else if("undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_balance){var i=g_rgWalletInfo.wallet_balance/100,r=g_rgWalletInfo.wallet_currency;t.maxPrice=1===r?i:currency_service.A.getPriceFromCurrency(i,1,r).price}else t.minPrice=20,t.maxPrice=200;RenderTopSalesPanel(n.find(".sih-modal__bottom"),t)}))}))}function renderEmptyCart(){var e=$J("#sih-modal__buy-orders").find(".sih-modal.cart-tab"),t=e.find(".cart-tab__title"),n=e.find(".sih-modal__cart-count"),i=e.find(".cart-tab__content"),r=i.find(".title"),a=e.find(".sih-modal__info-message"),o=e.find(".sih-modal__buttons"),s=e.find(".sih-modal__sum-cart-cost");r.length||i.append('\n      <div class="sih-modal__column w-100per h-100per justify-center items-center gap-20 h-300 mt-40">\n        <span class="sih-modal__text sih-modal__text_xl">'.concat(SIHLang.sihAppMarket.cart.empty_title,'</span>\n        <span class="sih-modal__text sih-modal__text_md">').concat(SIHLang.sihAppMarket.cart.empty_text,'</span>\n        <a\n          href="javascript:void(0)"\n          class="sih-go-market sih-modal__button sih-modal__button_blue py-10 px-14 fs-12 h-28 rounded-4 mt-10"\n          >SIH Market</a\n        >\n      </div>\n    ')),t.text("".concat(SIHLang.sihAppMarket.cart.title_empty)),n.text(""),s.hide(),a.hide(),o.hide(),e.find(".sih-go-market").off("click").click(cart_asyncToGenerator(cart_regeneratorRuntime().mark((function e(){var t,n,i;return cart_regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,chromeStorage.M.getLocal("SIH_MARKET_TAB");case 2:t=e.sent,n=t.SIH_MARKET_TAB,(i=void 0===n?{}:n).openTab=!0,chromeStorage.M.setLocal("SIH_MARKET_TAB",i),window.open("https://steamcommunity.com/market/","_self");case 8:case"end":return e.stop()}}),e)}))))}function renderItemsRowButtons(e,t){var n=currency_service.A.getPriceFromCurrency(t,cart_currencyIdLocal,1,!1,3).text,i='\n    <div class="sih-modal__buttons sih-modal__row justify-center px-36 pb-4">\n      <button class="sih-modal__button-exit sih-modal__button bg-grey py-13 px-24">\n        '.concat(SIHLang.sihAppMarket.cart.continue,'\n      </button>\n      <button\n        id="sih-cart-buy"\n        class="sih-modal__button sih-modal__button_blue sih-modal__row justify-center items-center gap-5 py-13 px-24"\n      >\n        <span class="sih-modal__text sih-modal__text_md lh-14">').concat(SIHLang.sihAppMarket.cart.buy_now,'</span\n        ><span class="sih-modal__text sih-modal__text_md sih-modal__text_bold lh-14 cart-tab__button-sum"\n          >').concat(t&&t>0?n:"","</span\n        >\n      </button>\n    </div>\n  ");e.find(".sih-modal__buttons").length?(e.find(".sih-modal__buttons").show(),$J("#sih-cart-buy").find(".cart-tab__button-sum").text(n)):e.find(".sih-modal__bottom").prepend(i),t&&t>0?e.find("#sih-cart-buy").prop("disabled",!1):e.find("#sih-cart-buy").prop("disabled",!0)}function renderPriceTimer(e){var t=e.find(".header-container__timer");t.tooltip({tooltipClass:"timer-tooltip",position:{my:"center bottom",at:"center top"}}),ResetPriceTimer(),ACTUAL_PRICE_INTERVAL=setInterval((function(){if(t.text(new Date(TIMER).toISOString().slice(14,19)),!TIMER)return ResetPriceTimer(),void sih_app_global_service.A.updateSIHMarketPrice().then((function(){RenderItemsRow("cart-tab").then((function(){RenderCart()}))}));TIMER-=ONE_SECOND}),ONE_SECOND)}function ModalCartListenerAction(){hideCartAction(),DeleteItemsAllByName(RenderCart),ChangeCountItemInBuyStack(RenderCart),buyItemsCartAction()}function showCartAction(){var e=$J("body").find("#sih-enter-password"),t=$J("#sih-modal__buy-orders"),n=t.find(".sih-modal.cart-tab"),i=t.find(".sih-modal.ordering-tab"),r=t.find(".sih-modal.orders-history-tab");$J("#sih-header-cart").off("click").click((function(){RenderItemsRow("cart-tab",null,!0).then((function(){RenderCart(null,!0),n.show(),t.show(),e.hide(),i.hide(),r.hide(),$J("body").css("overflow","hidden"),sih_app_global_service.A.updateSIHMarketPrice().then((function(){RenderItemsRow("cart-tab").then((function(){RenderCart()}))}))}))}))}function hideCartAction(){$J(".sih-modal__button-exit").off("click").click((function(){$J("body").css("overflow","auto"),SetModalToDefaultState(),ResetPriceTimer()}))}function buyItemsCartAction(){var e=$J("#sih-modal__buy-orders").find(".sih-modal.cart-tab"),t=e.find("#sih-cart-buy"),n=e.find(".sih-modal__error");t.off("click").click((function(){var e=n.find(".sih-modal__error_message"),t=$J(this);t.addClass("animated-background-btn"),sih_app_global_service.A.getUserSihApp().then((function(i){i.success?(t.removeClass("animated-background-btn"),ChangeItemsStatus(!0,"ordering")):i.hasOwnProperty("error")?sih_app_global_service.A.errorHandler(t,n,e,i.error):sih_app_global_service.A.errorHandler(t,n,e)})),registerCartBuyNowClick(),ResetPriceTimer()}))}function ResetPriceTimer(){clearInterval(ACTUAL_PRICE_INTERVAL),TIMER=ONE_MINUTE}var left_block_currencyIdLocal=1,left_block_debounce=null;function LoadLeftBlock(){left_block_loadHtml()}function LocalCalculateOrderingItemRow(e){var t=e.find(".sih-item-order__name").data("hashname"),n=e.find(".sih-modal__cart-count-input"),i=e.find(".sih-modal__item-row-single-price"),r=e.find(".sih-modal__item-row-count"),a=e.find(".sih-modal__item-row-price-group"),o=(e.find(".sih-modal__increment"),0);return new Promise((function(e,s){GetUserBalance("ordering-tab").then((function(s){GetSortedGroupList("ordering").then((function(l){l&&l.length||e(),l.forEach((function(e,l){var c=0,d=0,u=e[e.length-1];if(o+=e.reduce((function(e,t){return o+e+t.price<=s?(c++,e+=t.price):(d++,t.price),e}),0),t===u.market_hash_name){var _=c+d;n.val(_);var m=u.price;if(m){var h=_*m,f=currency_service.A.getPriceFromCurrency(h,left_block_currencyIdLocal).text,p=currency_service.A.getPriceFromCurrency(m,left_block_currencyIdLocal).text;i.text(p),r.text("".concat(c+d," ").concat(SIHLang.sihAppMarket.global.units)),a.text(f)}else i.text("".concat(SIHLang.sihAppMarket.global.not_available))}})),e()}))}))}))}function RenderLeftBlockOrderingInfo(){setTotalNumberPositionItemsInBlock(),renderPlugAvailableBlock(),CalculateTotalInfo()}function OrderingLeftBlockActionListeners(){controlsPanelListeners(),selectSingleItemRow()}function left_block_loadHtml(){var e=$J("#sih-modal__buy-orders").find(".orders-tab__main"),t='\n    <div class="ordering-tab__left-block sih-modal__column">\n      <div class="sih-modal__column ordering-tab__listing-block available">\n        <div class="sih-modal__controls sih-modal__row justify-between">\n          <div class="sih-modal__row gap-5">\n            <span class="sih-modal__text sih-modal__text_md sih-modal__text_bold"\n              >'.concat(SIHLang.sihAppMarket.ordering.available_items,'</span\n            >\n\n            <div class="sih-modal__controls__total-row sih-modal__row">\n              <span class="ordering-tab__total-number sih-modal__text sih-modal__text_md sih-modal__text_bold"></span>\n              <span class="ordering-animated"></span>\n            </div>\n          </div>\n          <div class="sih-modal__row gap-23 items-center px-10">\n            <a href="javascript:void(0)" class="ordering-tab__delete-all sih-modal__text sih-modal__text_sm"\n              >').concat(SIHLang.sihAppMarket.global.delete_all,'</a\n            >\n\n            <label class="sih-modal__row items-center flex-row-reverse gap-15" for="select-all-available">\n              <input\n                type="checkbox"\n                name="select-all"\n                id="select-all-available"\n                class="ordering-tab__select-all-items-checkbox hidden"\n                checked\n              />\n              <label class="fake-checkbox" for="select-all-available"></label>\n              <label\n                for="select-all-available"\n                class="ordering-tab__select-all_label sih-modal__text sih-modal__text_sm"\n                >').concat(SIHLang.sihAppMarket.global.remove_all,'</label\n              >\n            </label>\n          </div>\n        </div>\n        <div class="splitter-1 bg-grey mt-16 mb-10"></div>\n        <div class="ordering-tab__content available sih-modal__column"></div>\n      </div>\n\n      <div class="sih-modal__column ordering-tab__listing-block unavailable">\n        <div class="sih-modal__controls sih-modal__row justify-between mt-51">\n          <div class="sih-modal__row gap-5">\n            <span class="sih-modal__text sih-modal__text_md sih-modal__text_bold"\n              >').concat(SIHLang.sihAppMarket.ordering.unavailable_items,'\n            </span>\n\n            <div class="sih-modal__controls__total-row sih-modal__row">\n              <span class="ordering-tab__total-number sih-modal__text sih-modal__text_md sih-modal__text_bold"></span>\n              <span class="ordering-animated"></span>\n            </div>\n          </div>\n          <div class="sih-modal__row gap-23 items-center px-10">\n            <a href="javascript:void(0)" class="ordering-tab__delete-all sih-modal__text sih-modal__text_sm"\n              >').concat(SIHLang.sihAppMarket.global.delete_all,'</a\n            >\n\n            <label class="sih-modal__row items-center flex-row-reverse gap-15" for="select-all-unavailable">\n              <input\n                type="checkbox"\n                name="select-all"\n                id="select-all-unavailable"\n                class="ordering-tab__select-all-items-checkbox hidden"\n                checked\n              />\n              <label class="fake-checkbox" for="select-all-unavailable"></label>\n              <label\n                for="select-all-unavailable"\n                class="ordering-tab__select-all_label sih-modal__text sih-modal__text_sm"\n                >').concat(SIHLang.sihAppMarket.global.remove_all,'</label\n              >\n            </label>\n          </div>\n        </div>\n\n        <div class="splitter-1 bg-grey mt-16 mb-10"></div>\n\n        <div class="ordering-tab__content unavailable  sih-modal__column"></div>\n      </div>\n    </div>\n  ');e.find(".ordering-tab__left-block").length||e.append(t)}function renderPlugAvailableBlock(){var e=$J("#sih-modal__buy-orders").find(".ordering-tab").find(".ordering-tab__content.available"),t=e.find(".sih-modal__row_item").length,n='\n    <div\n      class="plug-available ordering-tab__plug-available sih-modal__column justify-center items-center h-100per gap-30"\n    >\n      <div class="sih-modal__column items-center gap-5">\n        <span class="sih-modal__text sih-modal__text_xl">'.concat(SIHLang.sihAppMarket.ordering.plug_text_1,'</span>\n        <span class="sih-modal__text sih-modal__text_md">').concat(SIHLang.sihAppMarket.ordering.plug_text_2,'</span>\n      </div>\n\n      <button\n        class="sih__buy-all-items sih-modal__button sih-modal__button_light-grey justify-center rounded-8 py-16 w-100per max-w-360 opacity-5 pointer-events-none"\n      >\n        ').concat(SIHLang.sihAppMarket.ordering.buy_all,"\n      </button>\n    </div>\n  ");e.find(".plug-available").length||e.find(".sih-modal__row_item").length||0!==t||e.append(n)}function setTotalNumberPositionItemsInBlock(){$J(".sih-modal.ordering-tab").find(".ordering-tab__listing-block").each((function(e,t){var n=$J(t),i=n.find(".sih-modal__controls"),r=n.find(".sih-modal__controls").find(".ordering-tab__total-number"),a=n.find(".sih-modal__row_item").length,o=i.find(".ordering-tab__delete-all");i.removeClass("opacity-5 pointer-events-none"),0===a?(disabledControlPanel(n),o.is(":visible")&&o.addClass("hidden")):o.removeClass("hidden"),r.text(a)}))}function disabledControlPanel(e){e.find(".sih-modal__controls").addClass("opacity-5 pointer-events-none")}function controlsPanelListeners(){selectAllItemsRow(),removeAllCheckedItems()}function selectAllItemsRow(){var e=$J(".sih-modal.ordering-tab").find(".ordering-tab__listing-block");e.each((function(t,n){var i=$J(n),r=i.find(".sih-modal__controls").find(".ordering-tab__select-all-items-checkbox");r.off("change").change((function(){clearTimeout(left_block_debounce),left_block_debounce=setTimeout((function(){var t=i.find(".ordering-tab__content"),n=t.find(".sih-modal__row_item");if(e.each((function(e,t){var i=$J(t),a=i.find(".ordering-tab__delete-all"),o=i.find(".ordering-tab__select-all_label");r.prop("checked")?(o.text("".concat(SIHLang.sihAppMarket.global.remove_all)),a.removeClass("hidden"),n.find(".select-item").prop("checked",!0)):(o.text("".concat(SIHLang.sihAppMarket.global.select_all)),a.addClass("hidden"),n.find(".select-item").prop("checked",!1))})),t.hasClass("available")){var a=[];n.each((function(e,t){var n=$J(t),i=n.find(".sih-item-order__name").data("hashname"),r=n.find(".select-item").prop("checked"),o=a.findIndex((function(e){return e.name===i}));a.length&&-1!==o||a.push({name:i,isChecked:r})})),$J(e[1]).find(".sih-modal__row_item").each((function(e,t){var n=$J(t),i=n.find(".sih-item-order__name").data("hashname"),r=n.find(".select-item"),o=a.find((function(e){return e.name===i}));o&&o.name===i&&o.isChecked!==r.prop("checked")&&r.trigger("click")}))}ShowAndHideLoaders().then((function(){CalculateTotalInfo().then((function(){RenderItemsRow("ordering-tab","ordering").then((function(){ChangeItemCountInItemPage(),actionMenu_ChangeCartCountHeaderMenu(),UpdateSihMarketTabBuyStack(),ModalOrderingListenersAction()}))}))}))}),300)}))}))}function selectSingleItemRow(){var e=$J(".sih-modal.ordering-tab").find(".ordering-tab__listing-block");e.each((function(t,n){var i=$J(n),r=i.find(".sih-modal__controls"),a=i.find(".ordering-tab__content"),o=a.find(".sih-modal__row_item"),s=r.find(".ordering-tab__select-all-items-checkbox");o.each((function(t,n){var i=$J(n);i.find(".select-item").off("change").change((function(){var t=this;clearTimeout(left_block_debounce),left_block_debounce=setTimeout((function(){if(a.hasClass("available")){var n=i.find(".sih-item-order__name").data("hashname");$J(e[1]).find(".sih-modal__row_item").each((function(e,i){var r=$J(i),a=r.find(".select-item"),o=r.find(".sih-item-order__name").data("hashname");n===o&&$J(t).prop("checked")!==a.prop("checked")&&a.trigger("click")}))}ShowAndHideLoaders().then((function(){CalculateTotalInfo().then((function(){RenderItemsRow("ordering-tab","ordering").then((function(){ChangeItemCountInItemPage(),actionMenu_ChangeCartCountHeaderMenu(),UpdateSihMarketTabBuyStack(),ModalOrderingListenersAction(),e.each((function(e,t){var n=$J(t),i=n.find(".ordering-tab__delete-all"),r=n.find(".ordering-tab__select-all_label");!!n.find(".select-item:checked").length?(r.text("".concat(SIHLang.sihAppMarket.global.remove_all)),s.prop("checked",!0),i.removeClass("hidden")):(s.prop("checked",!1),r.text("".concat(SIHLang.sihAppMarket.global.select_all)),i.addClass("hidden"))}))}))}))}))}),1e3)}))}))}))}function removeAllCheckedItems(){var e=$J("#sih-modal__buy-orders").find(".ordering-tab");e.find(".ordering-tab__listing-block").each((function(t,n){var i=$J(n),r=i.find(".sih-modal__controls").find(".ordering-tab__delete-all"),a=e.find(".ordering-tab__select-all_label");r.off("click").click((function(){var t=i.find(".ordering-tab__content").find(".sih-modal__row_item"),n=e.find("#select-all");UpdateStatusCheckedItems(GetListingForUpdateStatus(t,null)).then((function(){})),n.prop("checked")?(n.prop("checked",!1),a.text("".concat(SIHLang.sihAppMarket.global.select_all))):r.is(":visible")&&r.addClass("hidden")}))}))}function LoadPlugSteamGuard(e){plugSteamGuard_loadHtml(e)}function plugSteamGuard_loadHtml(e){var t='\n    <div class="sih-plug sih-plug__steam-guard sih-steam-guard hidden">\n      <div class="sih-steam-guard__container">\n        <div class="column max-w-360 gap-14">\n          <span class="title">'.concat(SIHLang.sihAppMarket.plug_steam_guard.title,'</span>\n          <span class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey lh-26"\n            >').concat(SIHLang.sihAppMarket.plug_steam_guard.info_text,'</span\n          >\n        </div>\n\n        <div class="row mt-52">\n          <a\n            href="https://store.steampowered.com/twofactor/manage"\n            target="_blank"\n            class="sih-modal__text sih-modal__text_md sih-modal__text_blue underline hover-opacity-8"\n            >').concat(SIHLang.sihAppMarket.plug_steam_guard.setup,'</a\n          >\n        </div>\n\n        <div class="column mt-40 gap-14">\n          <a\n            href="https://help.steampowered.com/ru/faqs/view/06B0-26E6-2CF8-254C"\n            target="_blank"\n            class="sih-modal__text sih-modal__text_md sih-modal__text_blue underline hover-opacity-8"\n            >').concat(SIHLang.sihAppMarket.plug_steam_guard.learn_more_guard,'</a\n          >\n          <a\n            href="https://help.steampowered.com/ru/faqs/view/7EFD-3CAE-64D3-1C31"\n            target="_blank"\n            class="sih-modal__text sih-modal__text_md sih-modal__text_blue underline hover-opacity-8"\n            >').concat(SIHLang.sihAppMarket.plug_steam_guard.learn_more_guard_mobile,"</a\n          >\n        </div>\n      </div>\n    </div>\n  ");e.find(".sih-plug__steam-guard").length||e.append(t)}var tos_GetTOSTemplate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global";return $J('\n    <label class="sih-global sih-tos" for="sih-tos-'.concat(e,'">\n      <input type="checkbox" name="sih-tos" id="sih-tos-').concat(e,'" class="sih-modal__input hidden" />\n      <label class="fake-checkbox sih-tos__input" for="sih-tos-').concat(e,'"></label>\n      <div class="row items-center flex-wrap gap-5 sih-modal__text sih-modal__text_md ticker-wrapper">\n        <span class="ticker">\n          <span>').concat(SIHLang.TOS.tos_1,'</span>\n          <a\n            href="https://sih.app/terms-of-service"\n            target="_blank"\n            class="sih-modal__text_blue text-decoration-underline hover-opacity-8"\n            >').concat(SIHLang.TOS.tos_2,'.</a\n          >\n          <span class="sih-tos__info">').concat(SIHLang.TOS.tos_tooltip,"</span>\n        </span>\n      </div>\n    </label>\n  "))},right_block_currencyIdLocal=1;function LoadRightBlock(){right_block_loadHtml()}function RenderRightBlockOrderingInfo(){setTotalAllItemsPrice(),paymentActionListeners(),addTooltipForButtons()}function OrderingRightBlockActionListeners(){setUserInfo(),paymentActionListeners()}function right_block_loadHtml(){var e=$J("#sih-modal__buy-orders").find(".orders-tab__main"),t=tos_GetTOSTemplate("ordering"),n=$J('\n    <div class="right-block ordering-tab__right-block sih-modal__column">\n      <div class="sih-modal__row justify-between">\n        <span class="sih-modal__text sih-modal__text_lg">'.concat(SIHLang.sihAppMarket.ordering.buy_on_steam,'</span>\n      </div>\n      <div class="sih-modal__row justify-between bg-grey mt-16 rounded-4 px-6 py-6">\n        <div class="sih-modal__row gap-8 items-center">\n          <div class="right-block__user-image w-36 h-36 bg-black-100"></div>\n          <div class="sih-modal__column">\n            <span class="right-block__user-name sih-modal__text sih-modal__text_md"></span>\n            <span\n              class="right-block__user-steamid sih-modal__text sih-modal__text_sm sih-modal__text_light-grey"\n            ></span>\n          </div>\n        </div>\n      </div>\n\n      <div class="right-block__order-info">\n        <div class="right-block__order-info_inner">\n          <div class="sih-modal__row justify-between mt-31 gap-5">\n            <span class="sih-modal__text sih-modal__text_md sih-modal__text_bold"\n              >').concat(SIHLang.sihAppMarket.ordering.your_balance,'</span\n            >\n            <span class="sih-modal__user-balance sih-modal__text sih-modal__text_md sih-modal__text_bold"></span>\n          </div>\n          <div class="sih-modal__column mt-16 gap-8">\n            <div class="right-block__unavailable-row sih-modal__row justify-between gap-5 hidden">\n              <div class="sih-modal__row gap-5">\n                <span class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey"\n                  >').concat(SIHLang.sihAppMarket.ordering.not_enough_balance,'</span\n                >\n                <div class="sih-modal__row">\n                  <span class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">(</span>\n                  <span\n                    class="sih-modal__unavailable-item-count sih-modal__text sih-modal__text_md sih-modal__text_light-grey"\n                  ></span>\n                  <span class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">)</span>\n                </div>\n              </div>\n              <span\n                class="sih-modal__unavailable-total-cost sih-modal__text sih-modal__text_md sih-modal__text_light-grey"\n              ></span>\n            </div>\n\n            <div class="splitter-1 bg-grey mt-9"></div>\n          </div>\n\n          <div class="sih-modal__column mt-11 mb-10 gap-10">\n            <span class="sih-modal__text sih-modal__text_lg">').concat(SIHLang.sihAppMarket.ordering.summary,'</span>\n\n            <div class="right-block__available-row sih-modal__row justify-between gap-5 hidden">\n              <div class="sih-modal__row gap-5">\n                <span class="sih-modal__text sih-modal__text_md sih-modal__text_blue"\n                  >').concat(SIHLang.sihAppMarket.ordering.available_item_now,'</span\n                >\n                <div class="sih-modal__row">\n                  <span class="sih-modal__text sih-modal__text_md sih-modal__text_blue">(</span>\n                  <span\n                    class="sih-modal__available-item-count sih-modal__text sih-modal__text_blue sih-modal__text_md"\n                  ></span>\n                  <span class="sih-modal__text sih-modal__text_md sih-modal__text_blue">)</span>\n                </div>\n              </div>\n\n              <span\n                class="sih-modal__available-total-cost sih-modal__text sih-modal__text_blue sih-modal__text_md"\n              ></span>\n            </div>\n\n            <div class="right-block__all-orders-row sih-modal__row justify-between gap-5">\n              <div class="sih-modal__row gap-5">\n                <span class="sih-modal__text sih-modal__text_md">').concat(SIHLang.sihAppMarket.ordering.for_all,'</span>\n                <div class="sih-modal__row">\n                  <span class="sih-modal__text sih-modal__text_md">(</span>\n                  <span class="sih-modal__ordering-item-count sih-modal__text sih-modal__text_md"></span>\n                  <span class="sih-modal__text sih-modal__text_md">)</span>\n                </div>\n              </div>\n              <span class="sih-modal__total-cost sih-modal__text sih-modal__text_md"></span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class="right-block__buttons sih-modal__column gap-15 mt-34">\n        <button\n          id="sih_buy_available"\n          class="sih-modal__button sih-modal__button_blue justify-center opacity-5 pointer-events-none rounded-8 py-16"\n          title="buy_available"\n        >\n          ').concat(SIHLang.sihAppMarket.ordering.buy_available,'\n        </button>\n        <button\n          class="sih__buy-all-items sih-modal__button sih-modal__button_light-grey justify-center opacity-5 pointer-events-none rounded-8 py-16"\n          title="buy_all"\n        >\n          ').concat(SIHLang.sihAppMarket.ordering.buy_all,'\n        </button>\n      </div>\n\n      <div class="sih-modal__error mt-20"></div>\n\n      <div class="sih-modal__row text-center mt-47">\n        <span class="sih-modal__text sih-modal__text_md"> ').concat(SIHLang.sihAppMarket.ordering.info_text," </span>\n      </div>\n    </div>\n  "));t.find("#sih-tos-ordering").off("change").change((function(e){CalculateTotalInfo()})),n.find(".right-block__order-info_inner").append(t),e.find(".ordering-tab__right-block").length||e.append(n)}function setUserInfo(){var e=$J("#sih-modal__buy-orders").find(".sih-modal.ordering-tab"),t=$J(".right-block__user-image"),n=e.find(".right-block__user-name"),i=e.find(".right-block__user-steamid"),r=e.find(".sih-modal__user-balance");sih_app_global_service.A.getLoginSihAppUser().then((function(e){t.find("img").length||t.append('<img src="'.concat(e.user.avatar,'">')),n.text(e.user.username);var a=e.socials.findIndex((function(e){return"steam"===e[0]}));i.text(e.socials[a][1]);var o=e.user.balance/1e3,s=currency_service.A.getPriceFromCurrency(o,right_block_currencyIdLocal).text;r.text(s)}))}function setTotalAllItemsPrice(){var e=$J("#sih-modal__buy-orders").find(".sih-modal.ordering-tab").find(".sih-modal__total-cost");sih_app_global_service.A.getAllBuyStack().then((function(t){var n=sih_app_global_service.A.getFilterItemsByStatus(t,"ordering"),i=0;n.forEach((function(e){e.isChecked&&(i+=e.price)}));var r=currency_service.A.getPriceFromCurrency(i,right_block_currencyIdLocal,1,!1,3).text;e.text(r)}))}function paymentActionListeners(){buyAllItemsAction(),buyAvailableItemsAction()}function buyAllItemsAction(){var e=$J("#sih-modal__buy-orders"),t=e.find(".sih-modal.ordering-tab"),n=t.find(".sih-modal__error");t.find(".sih__buy-all-items").off("click").click((function(){var i=$J(this);i.addClass("animated-background-btn");var r=n.find(".sih-modal__error_message");sih_app_global_service.A.getUserSihApp().then((function(a){a.success?sih_app_global_service.A.getLoginSihAppUser().then((function(a){if(a.success)if(a.tfaNeed)sih_app_global_service.A.errorHandler(i,n,r,"Enter password"),setTimeout((function(){RenderItemsRow("cart-tab",null).then((function(){RenderCart(),ModalCartListenerAction();var n=e.find(".sih-modal.cart-tab");t.hide(),n.show()}))}),1e3);else{i.removeClass("animated-background-btn");var o=a.user.balance/1e3;GetSortedGroupList("ordering").then((function(e){var n=0,i=0;e.forEach((function(e){i+=e.reduce((function(e,t){return t.isChecked&&(i+e+t.price<=o?e+=t.price:n+=t.price),e}),0)})),n=n>0?Math.abs(o-(i+n)):0;var r=Math.ceil(100*n)/100;sih_app_global_service.A.getSihAppToken().then((function(e){window.open("https://sih.app/pay?amount=".concat(r,"#payToken=").concat(e),"_blank");var n=GetListingForUpdateStatus(t.find(".sih-modal__row_item"),"pending");sih_app_global_service.A.changeItemsStatus(n).then((function(){ChangeItemsStatus(),SetModalToDefaultState(),ChangeOrdersCountHeaderMenu(),$J("#sih-header-orders").trigger("click"),sih_app_global_service.A.updateTradeLink(),setTimeout((function(){sih_app_global_service.A.createBuyOrder().then((function(e){}))}),1e3)}))}))}))}else sih_app_global_service.A.errorHandler(i,n,r)})):a.hasOwnProperty("error")?sih_app_global_service.A.errorHandler(i,n,r,a.error):sih_app_global_service.A.errorHandler(i,n,r)}))}))}function buyAvailableItemsAction(){var e=$J("#sih-modal__buy-orders"),t=e.find(".sih-modal.ordering-tab"),n=t.find(".ordering-tab__content.available"),i=t.find(".sih-modal__error");t.find("#sih_buy_available").off("click").click((function(){var r=i.find(".sih-modal__error_message"),a=n.find(".sih-modal__row_item"),o=$J(this);o.addClass("animated-background-btn"),sih_app_global_service.A.getUserSihApp().then((function(n){n.success?sih_app_global_service.A.getLoginSihAppUser().then((function(n){if(n.success)if(n.tfaNeed)sih_app_global_service.A.errorHandler(o,i,r,"Enter password"),setTimeout((function(){RenderItemsRow("cart-tab",null).then((function(){RenderCart(),ModalCartListenerAction();var n=e.find(".sih-modal.cart-tab");t.hide(),n.show()}))}),1e3);else{var s=GetListingForUpdateStatus(a,"pending");sih_app_global_service.A.changeItemsStatus(s).then((function(){ChangeItemsStatus(),SetModalToDefaultState(),ChangeOrdersCountHeaderMenu(),$J("#sih-header-orders").trigger("click"),sih_app_global_service.A.updateTradeLink(),setTimeout((function(){sih_app_global_service.A.createBuyOrder().then((function(e){}))}),1e3)}))}else sih_app_global_service.A.errorHandler(o,i,r)})):n.hasOwnProperty("error")?sih_app_global_service.A.errorHandler(o,i,r,n.error):sih_app_global_service.A.errorHandler(o,i,r)}))}))}function addTooltipForButtons(){var e=$J("#sih-modal__buy-orders").find(".sih-modal.ordering-tab");e.find("#sih_buy_available").tooltip({content:SIHLang.sihAppMarket.ordering.buy_available_tooltip,position:{my:"left top",at:"left+10 bottom"},classes:{"ui-tooltip":"ordering__tooltip"}}),e.find(".sih__buy-all-items").each((function(e,t){$J(t).tooltip({content:SIHLang.sihAppMarket.ordering.buy_all_tooltip,position:{my:"left bottom",at:"left+10 top"},classes:{"ui-tooltip":"ordering__tooltip"}})}))}var buyItem_currencyIdLocal=1;function ModalOrdering(){buyItem_loadHtml(),LoadLeftBlock(),LoadRightBlock()}function ModalOrderingListenersAction(){DeleteItemsAllByName(renderOrderingInfo,"ordering-tab","ordering"),ChangeCountItemInBuyStack(renderOrderingInfo,"ordering-tab","ordering"),renderOrderingInfo(),OrderingLeftBlockActionListeners(),OrderingRightBlockActionListeners()}function CalculateTotalInfo(){return new Promise((function(e){sih_app_global_service.A.getLoginSihAppUser().then((function(t){var n=t.user.balance/1e3,i=0,r=0,a=0,o=0;updateCheckedStateInBuyStack().then((function(){GetSortedGroupList("ordering").then((function(t){t.forEach((function(e){a+=e.reduce((function(e,t){return t.isChecked&&(a+e+t.price<=n?(i++,e+=t.price):(r++,o+=t.price)),e}),0)})),o=o>0?Math.abs(n-(a+o)):0;var s=currency_service.A.getPriceFromCurrency(a,buyItem_currencyIdLocal,1,!1,3).text,l=currency_service.A.getPriceFromCurrency(o,buyItem_currencyIdLocal,1,!1,3).text,c=$J(".sih-modal.ordering-tab"),d=c.find(".sih-modal__ordering-item-count"),u=c.find(".right-block__available-row"),_=c.find(".sih-modal__available-item-count"),m=c.find(".sih-modal__available-total-cost"),h=c.find(".right-block__unavailable-row"),f=c.find(".sih-modal__unavailable-item-count"),p=c.find(".sih-modal__unavailable-total-cost"),g=c.find(".sih__buy-all-items"),v=c.find("#sih_buy_available"),b=c.find("#sih-tos-ordering");d.text(i+r),_.text(i),m.text(s),m.data("total-price",a),f.text(r),p.text(l),p.data("total-price",o),h.toggleClass("hidden",0===o),$J("#select-all-unavailable").prop("checked",0!==o),u.toggleClass("hidden",0===a),$J("#select-all-available").prop("checked",0!==a),0!==o?g.toggleClass("opacity-5 pointer-events-none",!b.is(":checked")&&0!==o):g.addClass("opacity-5 pointer-events-none"),0!==a?v.toggleClass("opacity-5 pointer-events-none",!b.is(":checked")&&0!==a):v.addClass("opacity-5 pointer-events-none"),e()}))}))}))}))}function GetListingForUpdateStatus(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ordering",n={};return e.each((function(e,i){var r=$J(i),a=[],o=r.find(".select-item"),s=encodeURIComponent(r.find(".sih-item-order__name").data("hashname"));o.prop("checked")&&(r[0].createTimestamps.forEach((function(e){a.push({createdAt:e,statusCode:t})})),n[s]=[].concat(a),r.remove())})),n}function UpdateStatusCheckedItems(e){return new Promise((function(t){var n=$J("#sih-modal__buy-orders"),i=n.find(".sih-modal.ordering-tab");sih_app_global_service.A.changeItemsStatus(e).then((function(){ShowAndHideLoaders().then((function(){CalculateTotalInfo().then((function(){RenderItemsRow("ordering-tab","ordering").then((function(){ChangeItemCountInItemPage(),actionMenu_ChangeCartCountHeaderMenu(),UpdateSihMarketTabBuyStack(),ModalOrderingListenersAction(),RenderItemsRow("cart-tab",null).then((function(){RenderCart(),renderOrderingInfo(),ModalCartListenerAction(),sih_app_global_service.A.getAllBuyStack().then((function(e){if(!sih_app_global_service.A.getFilterItemsByStatus(e,"ordering").length){var r=n.find(".sih-modal.cart-tab");i.hide(),r.show()}t()}))}))}))}))}))}))}))}function buyItem_loadHtml(){var e=$J("#sih-modal__buy-orders"),t='\n    <div class="sih-modal sih-global ordering-tab">\n      <div class="sih-modal__close"></div>\n      <div class="sih-modal__inner sih-modal__column">\n        <div class="ordering-tab__header sih-modal__row gap-12 items-baseline">\n          <div class="sih-modal__title title">'.concat(SIHLang.sihAppMarket.ordering.title,'</div>\n          <div class="ordering-tab__header-total-block sih-modal__row">\n            <div class="ordering-tab__header-total-row sih-modal__row items-center gap-5">\n              <span\n                class="sih-modal__all-item-count sih-modal__text sih-modal__text_md sih-modal__text_light-grey"\n              ></span>\n              <span class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey"\n                >').concat(SIHLang.sihAppMarket.ordering.items,'</span\n              >\n            </div>\n            <span class="ordering-animated"></span>\n          </div>\n        </div>\n\n        <div class="orders-tab__main sih-modal__row justify-between mt-36 gap-20"></div>\n      </div>\n    </div>\n  ');e.find(".ordering-tab").length||(e.append(t),LoadPlugSteamGuard(e.find(".ordering-tab")))}function renderOrderingInfo(){setTotalItemsCount(),RenderLeftBlockOrderingInfo(),RenderRightBlockOrderingInfo()}function setTotalItemsCount(){var e=$J(".sih-modal.ordering-tab").find(".sih-modal__all-item-count");sih_app_global_service.A.getAllBuyStack().then((function(t){var n=sih_app_global_service.A.getFilterItemsByStatus(t,"ordering").length;e.text(n)}))}function updateCheckedStateInBuyStack(){var e=$J("#sih-modal__buy-orders").find(".ordering-tab").find(".ordering-tab__content"),t=[],n={};return new Promise((function(i){e.each((function(e,i){$J(i).find(".sih-modal__row_item").each((function(e,i){var r=$J(i),a=r.find(".select-item").prop("checked"),o=encodeURIComponent(r.find(".sih-item-order__name").data("hashname"));r[0].createTimestamps.forEach((function(e){t.push({createdAt:e,isChecked:a})})),n[o]=[].concat(t)}))})),Object.keys(n).length?chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_UPDATE_ITEM_CHECKBOX_SIH_APP",data:n},(function(e){i()})):i()}))}function global_slicedToArray(e,t){return global_arrayWithHoles(e)||global_iterableToArrayLimit(e,t)||global_unsupportedIterableToArray(e,t)||global_nonIterableRest()}function global_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function global_iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}function global_arrayWithHoles(e){if(Array.isArray(e))return e}function global_typeof(e){return global_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},global_typeof(e)}function global_defineProperty(e,t,n){return(t=global_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function global_toPropertyKey(e){var t=global_toPrimitive(e,"string");return"symbol"==global_typeof(t)?t:t+""}function global_toPrimitive(e,t){if("object"!=global_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=global_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function global_toConsumableArray(e){return global_arrayWithoutHoles(e)||global_iterableToArray(e)||global_unsupportedIterableToArray(e)||global_nonIterableSpread()}function global_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function global_iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function global_arrayWithoutHoles(e){if(Array.isArray(e))return global_arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=global_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function global_unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return global_arrayLikeToArray(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?global_arrayLikeToArray(e,t):void 0}}function global_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var global_currencyIdLocal=1,RESPONSE_ITEMS_PRICES,MAX_ITEM_BUY_COUNT=1,global_MAX_ITEM_STACK_COUNT=1,isShowLoaders=!0;function GetSortedGroupList(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise((function(t){sih_app_global_service.A.getAllBuyStack().then((function(n){var i,r=sih_app_global_service.A.getFilterItemsByStatus(n,e),a=[],o=[],s=[],l=_createForOfIteratorHelper(r);try{for(l.s();!(i=l.n()).done;){var c=i.value;0!==a.length&&a.includes(c.market_hash_name)||a.push(c.market_hash_name)}}catch(e){l.e(e)}finally{l.f()}for(var d=0,u=a;d<u.length;d++){var _=u[d],m=encodeURIComponent(_);s.push(sih_app_global_service.A.getAllItemsBuyStackByName(m))}Promise.all(s).then((function(n){n.forEach((function(t){var n=sih_app_global_service.A.getFilterItemsByStatus(t,e);o.push(n)}));var i=o.sort((function(e,t){return Math.min.apply(Math,global_toConsumableArray(e.map((function(e){return e.createdAt}))))>Math.min.apply(Math,global_toConsumableArray(t.map((function(e){return e.createdAt}))))?1:-1}));t(i)}))}))}))}function GetUserBalance(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cart-tab";return new Promise((function(t){"cart-tab"!==e?sih_app_global_service.A.getLoginSihAppUser().then((function(e){e.success&&e.user?t(e.user.balance/1e3):t(null)})):t(null)}))}function RenderItemsRow(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=$J("#sih-modal__buy-orders").find(".sih-modal.".concat(e)),r=i.find(".".concat(e,"__content"));return r.children().remove(),new Promise((function(a,o){GetUserBalance(e).then((function(o){var s=0,l={};GetSortedGroupList(t).then((function(t){(t=t.reduce((function(e,t){var n=t.filter((function(t){return!t.itemId||(e.push([t]),!1)}));return n.length&&e.push(n),e}),[]))&&t.length||a(),t.forEach((function(c,d){var u,_,m,h=0,f=0,p=c.length,g=c[p-1],v=[],b=[];if("cart-tab"!==e){m=MAX_ITEM_BUY_COUNT;var y=c.length;b=c.slice(m,y),c=c.slice(0,m)}var k=b.map((function(e){return e?{createdAt:e.createdAt,statusCode:null}:{}}));if(b&&b.length){var S=encodeURIComponent(b[0].market_hash_name);Object.assign(l,global_defineProperty({},S,k))}s+=c.reduce((function(t,n){"cart-tab"!==e?(s+t+(n.isChecked?n.price:0)<=o?(h++,t+=n.isChecked?n.price:0,r=i.find(".".concat(e,"__content.available")),u=n):(f++,n.isChecked?n.price:0,r=i.find(".".concat(e,"__content.unavailable")),_=n),v.find((function(e){return e.attr("class")===r.attr("class")}))||v.push(r)):v.length||v.push(r);return t}),0);var w=c.length;v.forEach((function(i){"cart-tab"!==e&&(i.hasClass("available")?(g=u,w=h):(g=_,w=f));var r=g.price,o=null!==r?currency_service.A.getPriceFromCurrency(r,global_currencyIdLocal,1,!1,3).text:null,s=currency_service.A.getPriceFromCurrency(r*w,global_currencyIdLocal,1,!1,3).text,p=!0;i.find(".sih-modal__row_item").each((function(e,t){$J(t).find(".sih-item-order__name").each((function(e,t){var n=$J(t).data("hashname"),i=$J(t).data("itemid");g.market_hash_name===n&&+g.itemId==+i&&(p=!1)}))}));var v=parseHashName(g.market_hash_name),b=getHeaderInfoHtml(v);if(!i.find(".sih-item-order__name").length||p){var y=$J('\n                <div\n                  class="sih-item-order sih-modal__row sih-modal__row_item items-center justify-between bg-black-100 border-solid border-x-0 border-y-1 border-grey py-13 px-24"\n                >\n                  <div class="sih-modal__row items-center">\n                    \x3c!--              '.concat("ordering-tab"!==e?'<input type="checkbox" name="sih-item-order__checkbox" id="sih-item-order__'.concat(d,'" class="sih-modal__input hidden" checked>\n                    <label class="fake-checkbox sih-item-order__checkbox-label" for="sih-item-order__').concat(d,'"></label>'):"",' --\x3e\n\n                    <a href="').concat(g.url,'" class="sih-modal__image mr-20">\n                      <img class="w-62 h-47" src="').concat(g.image,'" />\n                    </a>\n                    <div class="vertical-divider" data-rarity="').concat(g.rarityColor||"default",'"></div>\n                    <div class="sih-modal__column gap-3">\n                      <div class="sih-item-order__header">').concat(b,'</div>\n                      <a\n                        href="').concat(g.url,'"\n                        class="sih-item-order__name sih-modal__text sih-modal__text_white sih-modal__text_bold max-w-200 text-ellipsis lh-16"\n                        data-hashname="').concat(g.market_hash_name,'"\n                        data-itemid="').concat(g.itemId?g.itemId:null,'"\n                        >').concat(v.name,'</a\n                      >\n\n                      <div class="sih-modal__row gap-15 items-center">\n                        <a\n                          href="javascript:void(0)"\n                          class="sih-modal__remove-item sih-modal__text sih-modal__text_sm sih-modal__text_blue lh-16"\n                          >').concat(SIHLang.sihAppMarket.global.delete,'</a\n                        >\n                      </div>\n                    </div>\n                  </div>\n\n                  \x3c!--                   <div class="sih-modal__column">\n                     <div class="sih-modal__row bg-black-100 br2-grey sih-modal__row_cart-counter h-28 ').concat(g.isChecked&&r&&r>0?"":"pointer-events-none opacity-5",'">\n                          <a href="javascript:void(0)" class="sih-modal__decrement sih-modal__button py-8 px-14"></a>\n                          <input type="number" class="sih-modal__row sih-modal__cart-count-input sih-modal__input sih-modal__text sih-modal__text_md w-68 text-center bg-transparent border-none" value="').concat(w,'">\n                          <a href="javascript:void(0)" class="sih-modal__increment sih-modal__button py-8 px-14 ').concat(w>=global_MAX_ITEM_STACK_COUNT?"opacity-5 pointer-events-none":"",'"></a>\n                     </div>\n                     ').concat(i.hasClass("available")||i.hasClass("unavailable")?'\n                       <div class="sih-modal__row justify-center">\n                          <span class="sih-modal__buy-stack-count sih-modal__text sih-modal__text_sm opacity-5">'.concat(h+f,'</span>\n                          <span class="sih-modal__text sih-modal__text_sm opacity-5">/</span>\n                          <span class="sih-modal__buy-available-count sih-modal__text sih-modal__text_sm opacity-5">').concat(m,"</span>\n                        </div>\n                        "):"","\n\n                  </div>--\x3e\n                  ").concat(n?'<div class="sih-modal_row-price-loader"></div>':'<div class="sih-modal__row gap-30 items-center">\n                        <div class="sih-modal__column_price sih-modal__column items-end w-100">\n                          <div class="sih-modal__row items-center gap-2">\n                            <div class="sih-modal__row mr-5">\n                              <img\n                                class="w-22 h-22"\n                                src="chrome-extension://'.concat(SIHID,"/assets/marketplace/mini-icons/").concat(g.providerName,'.svg"\n                                alt="').concat(g.providerName,'"\n                              />\n                            </div>\n                            <span\n                              class="sih-modal__item-row-single-price sih-modal__text sih-modal__text_sm sih-modal__text_white text-ellipsis"\n                              >').concat(null!==o?o:"".concat(SIHLang.sihAppMarket.global.not_available),'</span\n                            >\n                            <span class="sih-modal__text sih-modal__text_sm sih-modal__text_white text-ellipsis"\n                              >').concat(null!==o?"/":"",'</span\n                            >\n                            <span\n                              class="sih-modal__item-row-count sih-modal__text sih-modal__text_sm sih-modal__text_white text-ellipsis"\n                              >').concat(null!==o?w+"".concat(SIHLang.sihAppMarket.global.units):"",'</span\n                            >\n                          </div>\n                          <span\n                            class="sih-modal__item-row-price-group sih-modal__text sih-modal__text_lg sih-modal__text_white text-ellipsis"\n                            >').concat(null!==o?s:"","\n                          </span>\n                        </div>\n                      </div>"),"\n                </div>\n              "));if("ordering-tab"===e){var k,S="";i.hasClass("available")?(k=c.map((function(e){return e.createdAt})).slice(0,h),S="available-"):(k=c.map((function(e){return e.createdAt})).slice(h,c.length),S="unavailable-"),y[0].createTimestamps=k;var C='\n                  <label class="sih-modal__row items-center -mr-14" for="'.concat(S,"select-item-").concat(d,'">\n                    <input\n                      type="checkbox"\n                      name="').concat(S,"select-item-").concat(d,'"\n                      id="').concat(S,"select-item-").concat(d,'"\n                      class="select-item hidden"\n                      ').concat(g.isChecked?"checked":"",'\n                    />\n                    <label class="fake-checkbox" for="').concat(S,"select-item-").concat(d,'"></label>\n                  </label>\n                ');y.find(".sih-modal__column_price").after(C)}else y[0].createTimestamps=c.map((function(e){return e.createdAt}));i.append(y)}d+1===t.length&&(Object.keys(l).length?sih_app_global_service.A.changeItemsStatus(l).then((function(){a()})):a())}))}))}))}))}))}function ChangeItemsStatus(){var e,t,n,i,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=$J("#sih-modal__buy-orders"),s=$J("body").find("#sih-enter-password");r?(e=o.find(".cart-tab"),t=o.find(".ordering-tab"),n="cart-tab",i="ordering-tab"):(e=o.find(".ordering-tab"),t=o.find(".cart-tab"),n="ordering-tab",i="cart-tab"),function(e){return new Promise((function(t){e?sih_app_global_service.A.updateSIHMarketPrice().then((function(e){t(e)})):t()}))}(r).then((function(r){sih_app_global_service.A.getLoginSihAppUser().then((function(r){if(r.success&&r.tfaNeed)o.hide(),s.attr("data-show-modal","ordering").show();else if(r.success){e.hide();var l={};e.find(".".concat(n,"__content")).find(".sih-modal__row_item").each((function(e,t){var n=[],i=$J(t);if(i.find(".sih-modal__item-row-price-group").text().length>0){var r=i.find(".sih-item-order__name").data("hashname"),o=encodeURIComponent(r);i[0].createTimestamps.forEach((function(e){i.remove(),n.push({createdAt:e,statusCode:a})})),l[o]=[].concat(n)}})),sih_app_global_service.A.changeItemsStatus(l).then((function(){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_UPDATE_ITEM_CHECKBOX_SIH_APP",data:null},(function(e){RenderItemsRow(i,a).then((function(){if(ChangeItemCountInItemPage(),actionMenu_ChangeCartCountHeaderMenu(),UpdateSihMarketTabBuyStack(),t.show(),"ordering-tab"===i){var e=r.socials.findIndex((function(e){return"steam"===e[0]}));r.socials[e][3]&&"object"!==global_typeof(r.socials[e][3])?ModalOrderingListenersAction():t.find(".sih-plug__steam-guard").removeClass("hidden")}}))}))}))}}))}))}function DeleteItemsAllByName(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cart-tab",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=$J("#sih-modal__buy-orders").find(".sih-modal.".concat(t)),r=i.find(".".concat(t,"__content")).find(".sih-modal__row_item"),a=i.find(".sih-modal__error");r.each((function(i,r){var o=$J(r);o.find(".sih-modal__remove-item").off("click").click((function(){var i=encodeURIComponent($J(this).closest(".sih-item-order").find(".sih-item-order__name").data("hashname")),r=$J(this).closest(".sih-item-order").find(".sih-item-order__name").data("itemid"),s=$J(this).parent().parent().parent().parent(),l=a.find(".sih-modal__error_message");if("ordering-tab"!==t){var c={hashName:i,argsCountDelete:0,statusCode:n,itemId:r};sih_app_global_service.A.deleteItemFromBuyStack(c).then((function(t){s.remove(),e&&e(),actionMenu_ChangeCartCountHeaderMenu(),ChangeItemCountInItemPage(),UpdateSihMarketTabBuyStack(),a.hide()})).catch((function(e){sih_app_global_service.A.errorHandler(null,a,l,e.error)}))}else{var d={},u=[];o[0].createTimestamps.forEach((function(e){u.push({createdAt:e,statusCode:null})})),Object.assign(d,global_defineProperty({},i,[].concat(u))),UpdateStatusCheckedItems(d).then((function(){}))}}))}))}function ChangeCountItemInBuyStack(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cart-tab",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=$J("#sih-modal__buy-orders").find(".sih-modal.".concat(t)),r=i.find(".".concat(t,"__content")).find(".sih-modal__row_item"),a=i.find(".sih-modal__error"),o=null;function s(t,i){t.parent().hasClass("available")||t.parent().hasClass("unavailable")?LocalCalculateOrderingItemRow(t).then((function(){clearTimeout(o),o=setTimeout((function(){ShowAndHideLoaders().then((function(){e&&e(),UpdateItemRowInfo(t,i,n),actionMenu_ChangeCartCountHeaderMenu(),ChangeItemCountInItemPage(),UpdateSihMarketTabBuyStack(),a.hide()}))}),400)})):(e&&e(),UpdateItemRowInfo(t,i,n),actionMenu_ChangeCartCountHeaderMenu(),ChangeItemCountInItemPage(),UpdateSihMarketTabBuyStack(),a.hide())}r.each((function(e,i){var r=$J(i),o=r.find(".sih-modal__decrement"),l=r.find(".sih-modal__increment"),c=r.find(".sih-modal__cart-count-input");o.off("click").click((function(){var e=$J(this);+c.val()<=global_MAX_ITEM_STACK_COUNT&&1!==global_MAX_ITEM_STACK_COUNT&&l.removeClass("opacity-5 pointer-events-none");var i=$J(this).parent().parent().parent(),r=a.find(".sih-modal__error_message"),o=e.closest(".sih-item-order").find(".sih-item-order__name").data("hashname"),d=encodeURIComponent(o);sih_app_global_service.A.getAllItemsBuyStackByName(d).then((function(e){var o=sih_app_global_service.A.getFilterItemsByStatus(e,n);if("ordering-tab"!==t||"ordering-tab"===t&&o.length>1){var l={hashName:d,statusCode:n};sih_app_global_service.A.deleteItemFromBuyStack(l).then((function(e){s(i,e)})).catch((function(e){sih_app_global_service.A.errorHandler(null,a,r,e.error)}))}}))})),l.off("click").click((function(){var e=$J(this);+c.val()>=global_MAX_ITEM_STACK_COUNT-1&&$J(this).addClass("opacity-5 pointer-events-none");var t=$J(this).parent().parent().parent(),i=a.find(".sih-modal__error_message"),r=e.closest(".sih-item-order").find(".sih-item-order__name").data("hashname"),o=encodeURIComponent(r);sih_app_global_service.A.setItemToBuyStack({hashName:o,countAdd:1,statusCode:n}).then((function(e){e&&s(t,e)})).catch((function(e){sih_app_global_service.A.errorHandler(null,a,i,e.error)}))})),c.off("focusout").focusout((function(){var e=$J(this),i=Math.ceil($J(this).val());(i=sih_app_global_service.A.validateInput(i,global_MAX_ITEM_STACK_COUNT))>=global_MAX_ITEM_STACK_COUNT?l.addClass("opacity-5 pointer-events-none"):l.removeClass("opacity-5 pointer-events-none");var r=$J(this).parent().parent().parent(),o=e.closest(".sih-item-order").find(".sih-item-order__name").data("hashname"),c=a.find(".sih-modal__error_message"),d=encodeURIComponent(o);sih_app_global_service.A.getAllItemsBuyStackByName(d).then((function(o){var l=sih_app_global_service.A.getFilterItemsByStatus(o,n).length;if(0===i&&"ordering-tab"===t&&(e.val(1),i=1),i>=l&&1!==i)sih_app_global_service.A.setItemToBuyStack({hashName:d,countAdd:i,statusCode:n}).then((function(e){s(r,e)})).catch((function(e){sih_app_global_service.A.errorHandler(null,a,c,e.error)}));else{var u={hashName:d,argsCountDelete:i,statusCode:n};sih_app_global_service.A.deleteItemFromBuyStack(u).then((function(e){s(r,e)})).catch((function(e){sih_app_global_service.A.errorHandler(null,a,c,e.error)}))}}))}))}))}function UpdateItemRowInfo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=e.find(".sih-modal__cart-count-input"),r=e.find(".sih-modal__item-row-single-price"),a=e.find(".sih-modal__item-row-count"),o=e.find(".sih-modal__item-row-price-group");if(e.parent().hasClass("available")||e.parent().hasClass("unavailable"))RenderItemsRow("ordering-tab","ordering").then((function(){ChangeItemCountInItemPage(),actionMenu_ChangeCartCountHeaderMenu(),UpdateSihMarketTabBuyStack(),ModalOrderingListenersAction()}));else{var s=sih_app_global_service.A.getFilterItemsByStatus(t,n),l=s.length;if(e[0].createTimestamps=s.map((function(e){return e.createdAt})),l>0){var c=s[l-1].price;if(c){var d=s.reduce((function(e,t){return e+t.price}),0),u=currency_service.A.getPriceFromCurrency(d,global_currencyIdLocal).text,_=currency_service.A.getPriceFromCurrency(c,global_currencyIdLocal).text;i.val(l),r.text(_),a.text("".concat(l," ").concat(SIHLang.sihAppMarket.global.units)),o.text(u)}else r.text("".concat(SIHLang.sihAppMarket.global.not_available))}else e.remove()}}function ShowAndHideLoaders(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ordering-tab";isShowLoaders=!0;var n=$J("#sih-modal__buy-orders").find(".".concat(t));return a(),o(),i(),r(),new Promise((function(t){return setTimeout((function(){isShowLoaders=!1,o(),a(),i(),r(),t()}),e)}));function i(){var e=n.find(".".concat(t,"__content")),i='\n      <div class="fake-ordering__row sih-modal__row items-center justify-between bg-black-100 py-13 px-24">\n        <div class="sih-modal__row items-center w-265">\n          <div class="sih-modal__image mr-20">\n            <div class="w-62 h-47 bg-grey rounded-4"></div>\n          </div>\n\n          <div class="sih-modal__column gap-6">\n            <div class="w-100 h-16 bg-grey rounded-4"></div>\n            <div class="sih-modal__row gap-15 items-center">\n              <div class="w-62 h-16 bg-grey rounded-4"></div>\n            </div>\n          </div>\n        </div>\n\n        \x3c!--                  <div class="sih-modal__column gap-2">--\x3e\n        \x3c!--                     <div class="sih-modal__row bg-black-100 br2-grey sih-modal__row_cart-counter h-28 ">--\x3e\n        \x3c!--                          <div class="pointer-events-none sih-modal__decrement sih-modal__button py-8 px-14"></div>--\x3e\n        \x3c!--                          <input type="number" class="sih-modal__row sih-modal__input sih-modal__text sih-modal__text_md w-68 text-center bg-transparent border-none" value="" disabled>--\x3e\n        \x3c!--                          <div class="pointer-events-none sih-modal__increment sih-modal__button py-8 px-14"></div>--\x3e\n        \x3c!--                     </div>--\x3e\n        \x3c!--                     <div class="sih-modal__row w-100per justify-center">--\x3e\n        \x3c!--                        <div class="sih-modal__row w-22 h-16 bg-grey rounded-4"></div>--\x3e\n        \x3c!--                     </div>--\x3e\n        \x3c!--                  </div>--\x3e\n\n        <div class="sih-modal__row gap-30 items-center">\n          <div class="sih-modal__column_price sih-modal__column items-end w-100 gap-2">\n            <div class="sih-modal__row gap-2">\n              <span class="w-100 h-16 bg-grey rounded-4"></span>\n            </div>\n            <span class="w-62 h-20 bg-grey rounded-4"></span>\n          </div>\n\n          <div class="w-22 h-22 bg-grey rounded-4 -mr-14"></div>\n        </div>\n      </div>\n    ',r='\n      <div class="fake-ordering fake-ordering__content">'.concat(i," ").concat(i," ").concat(i,"</div>\n    ");e.each((function(e,n){var i=$J(n);i.find(".sih-modal__row_item").hide();var a=i.find(".fake-ordering__content");isShowLoaders?a.length?a.fadeIn():GetUserBalance(t).then((function(e){e&&e>0?i.find(".sih-modal__row_item").length&&i.append(r):!e&&e<=0&&i.hasClass("unavailable")&&i.append(r)})):a.fadeOut()}))}function r(){var e=n.find(".".concat(t,"__right-block")),i=e.find(".right-block__order-info"),r=' <div class="right-block__fake">'.concat('\n      <div class="right-block__fake-order-info">\n        <div class="sih-modal__row justify-between mt-31 gap-5">\n          <span class="w-150 h-20 bg-grey rounded-4"></span>\n          <span class="w-100 h-20 bg-grey rounded-4"></span>\n        </div>\n        <div class="sih-modal__column mt-16 gap-8">\n          <div class="sih-modal__row justify-between gap-5">\n            <div class="sih-modal__row gap-5">\n              <span class="w-150 h-20 bg-grey rounded-4"></span>\n            </div>\n            <span class="w-100 h-20 bg-grey rounded-4"></span>\n          </div>\n\n          <div class="splitter-1 bg-grey mt-9"></div>\n        </div>\n\n        <div class="sih-modal__column mt-11 mb-10 gap-10">\n          <span class="w-80 h-20 bg-grey rounded-4"></span>\n\n          <div class="sih-modal__row justify-between gap-5">\n            <div class="sih-modal__row gap-5">\n              <span class="w-150 h-20 bg-grey rounded-4"></span>\n            </div>\n\n            <span class="w-100 h-20 bg-grey rounded-4"></span>\n          </div>\n\n          <div class="sih-modal__row justify-between gap-5">\n            <div class="sih-modal__row gap-5">\n              <span class="w-150 h-20 bg-grey rounded-4"></span>\n            </div>\n            <span class="w-100 h-20 bg-grey rounded-4"></span>\n          </div>\n        </div>\n\n        <div class="sih-modal__row items-center gap-14">\n          <div class="sih-modal__row w-22 h-22 bg-grey rounded-4"></div>\n          <div class="sih-modal__row w-300 h-44 bg-grey rounded-4"></div>\n        </div>\n      </div>\n    '," ").concat('\n      <div class="right-block__fake-buttons sih-modal__column gap-15 mt-34">\n        <div class="w-100per h-47 bg-grey rounded-4"></div>\n        <div class="w-100-per h-47 bg-grey rounded-4"></div>\n      </div>\n    ',"</div> "),a=i.find(".right-block__order-info_inner"),o=e.find(".right-block__buttons");if(isShowLoaders){var s=i.find(".right-block__fake");a.css("opacity",0),o.css("opacity",0),s.length?s.fadeIn():i.append(r)}else{var l=e.find(".right-block__fake");a.css("opacity",1),o.css("opacity",1),l.fadeOut()}}function a(){var e=n.find(".ordering-tab__header").find(".ordering-tab__header-total-block"),t=e.find(".ordering-tab__header-total-row"),i=e.find(".ordering-animated");isShowLoaders?(t.css("opacity",0),i.fadeIn()):(i.fadeOut(),t.css("opacity",1))}function o(){n.find(".sih-modal__controls").each((function(e,t){var n=$J(t),i=n.find(".ordering-tab__total-number"),r=n.find(".ordering-animated");isShowLoaders?(i.css("opacity",0),r.fadeIn()):(r.fadeOut(),i.css("opacity",1))}))}}function parseHashName(e){var t,n,i=_createForOfIteratorHelper(global.SKIN_WEAR_MAP.entries());try{for(i.s();!(n=i.n()).done;){var r=global_slicedToArray(n.value,2),a=r[0],o=r[1];e.includes(o)&&(t=a)}}catch(e){i.e(e)}finally{i.f()}var s=e.replace("★","").replace("Souvenir ","").replace("StatTrak™ ","").replace("(".concat(global.SKIN_WEAR_MAP.get(t),")"),""),l=s.lastIndexOf("|");return{type:-1===l?s.trim():s.slice(0,l).trim(),name:-1===l?s.trim():s.slice(l+1).trim(),currentWear:t,hasStatrak:e.includes("StatTrak™"),hasSouvenir:e.includes("Souvenir")}}function getHeaderInfoHtml(e){var t=e.type,n=e.currentWear,i=e.hasStatrak,r=e.hasSouvenir,a="<span>".concat(t,"</span>");return n&&(a="<span>".concat(n.toUpperCase(),"</span> | ")+a),i&&(a='<span class="sih-item-order__header_statrak">St</span> | '+a),r&&(a='<span class="sih-item-order__header_souvenir">Sv</span> | '+a),a}function activePlan_createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=activePlan_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function activePlan_unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return activePlan_arrayLikeToArray(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?activePlan_arrayLikeToArray(e,t):void 0}}function activePlan_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function loadActivePlanTab(){activePlan_loadHtml(),buttonActions()}function RenderActivePlanInfo(e){var t,n=$J(".sih-modal.active-plan-tab"),i=activePlan_createForOfIteratorHelper(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;if("adfree"===r.for_what){n.find(".sih-modal__smile").html(r.icon),n.find(".plans__name").text("".concat(void 0!==r.plan_txt?r.plan_txt:""));var a=sih_app_global_service.A.getDaysNumber(r.active_till);a.hasOwnProperty("days")?n.find(".plans__time").text("".concat(SIHLang.subscribeAds.modal.activePlan.days_left,": ").concat(a.days)):n.find(".plans__time").text("".concat(SIHLang.subscribeAds.modal.activePlan.hours_left,": ").concat(a.hours))}}}catch(e){i.e(e)}finally{i.f()}}function activePlan_loadHtml(){var e=$J(".sih-pagecontent").find(".sih-subscribe-ads"),t='\n    <div class="sih-modal sih-global active-plan-tab">\n      <div class="sih-modal__close"></div>\n      <div class="sih-modal__inner">\n        <h2 class="sih-modal__title text-center">'.concat(SIHLang.subscribeAds.modal.activePlan.title,'</h2>\n        <div class="sih-modal__plans plans active">\n          <div class="plans__active-plan">\n            <div class="plans__bottom gap-10">\n              <span class="plans__active-plan_icon"></span>\n              <span class="sih-modal__text sih-modal__text_lg sih-modal__text_extra-bold sih-modal__text_light-green"\n                >').concat(SIHLang.subscribeAds.modal.activePlan.active,'</span\n              >\n            </div>\n            <span class="sih-modal__smile sih-modal__smile_lg"></span>\n            <span class="plans__name sih-modal__text sih-modal__text_lg sih-modal__text_extra-bold"></span>\n            <span class="plans__time sih-modal__text sih-modal__text_sm opacity-50per"></span>\n          </div>\n        </div>\n        <div class="sih-modal__buttons justify-center">\n          <button class="sih-modal__button sih-modal__button_blue px-24 py-16 sih-modal__button-okey">\n            ').concat(SIHLang.subscribeAds.modal.okey,'\n          </button>\n        </div>\n\n        <a\n          href="https://sih.app/user/subscription"\n          target="_blank"\n          class="sih-modal__text_blue text-decoration-underline absolute left-50per -bottom-40 hover-opacity-8"\n          >').concat(SIHLang.subscribeAds.modal.sub_management,"</a\n        >\n      </div>\n    </div>\n  ");e.find(".active-plan-tab").length||e.append(t)}function buttonActions(){okayBtnAction()}function okayBtnAction(){$J(".sih-modal.active-plan-tab").find(".sih-modal__button-okey").click((function(){$J(".sih-subscribe-ads").hide(),SetModalSubscribeToDefaultState()}))}function selectingPlan_toConsumableArray(e){return selectingPlan_arrayWithoutHoles(e)||selectingPlan_iterableToArray(e)||selectingPlan_unsupportedIterableToArray(e)||selectingPlan_nonIterableSpread()}function selectingPlan_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function selectingPlan_unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return selectingPlan_arrayLikeToArray(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?selectingPlan_arrayLikeToArray(e,t):void 0}}function selectingPlan_iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function selectingPlan_arrayWithoutHoles(e){if(Array.isArray(e))return selectingPlan_arrayLikeToArray(e)}function selectingPlan_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var selectingPlan_debounce=null,SUBSCRIBE_BUTTON_DATA_NAME;function loadSelectingPlanTab(){selectingPlan_loadHtml()}function RenderPlans(e){renderPlansItems(e),setUserAndPlanCost(),sortPlansItemsByPrice(),selectingPlan_modalListeners()}function selectingPlan_loadHtml(){var e=$J(".sih-pagecontent").find(".sih-subscribe-ads"),t=tos_GetTOSTemplate("selecting-plan"),n=$J('\n    <div class="sih-modal sih-global selecting-plan-tab">\n      <div class="sih-modal__close"></div>\n      <div class="sih-modal__row gap-10 sih-modal__back sih-modal__back-info mb-20">\n        <span class="sih-modal__back_icon"></span>\n        <span class="sih-modal__text sih-modal__text_md">'.concat(SIHLang.subscribeAds.modal.back,'</span>\n      </div>\n      <div class="sih-modal__inner">\n        <span class="sih-modal__title">').concat(SIHLang.subscribeAds.modal.selectingPlan.title,'</span>\n\n        <span class="sih-modal__text sih-modal__text_lg sih-modal__text_extra-bold"\n          >').concat(SIHLang.subscribeAds.modal.selectingPlan.payment_method,'</span\n        >\n\n        <div class="sih-modal__column gap-10">\n          <div class="sih-modal__row gap-10 items-center mb-20">\n            <div class="payment payment-balance payment-balance__button payment__button">\n              <input\n                type="radio"\n                name="payment"\n                id="payment-balance"\n                class="payment__input"\n                data-name="Balance"\n                checked\n              />\n              <label class="sih-modal__row gap-10 sih-modal__button px-24 py-8 bg-grey" for="payment-balance">\n                <svg width="21" height="15" viewBox="0 0 21 15" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <path\n                    fill-rule="evenodd"\n                    clip-rule="evenodd"\n                    d="M11.1803 0H9.69118V2.77931H11.1803V0ZM4.42178 8.07162H7.12788V9.37668H4.42178V10.9234H8.54498V6.75044H5.80685V5.52593H8.54498V4.07586H4.42178V8.07162ZM11.1803 4.07586H9.69118V10.9234H11.1803V4.07586ZM15.1505 6.75044V4.07586H16.5676V10.9234H15.1826V7.97495H13.8375V10.9234H12.4685V4.07586H13.8615V6.75044H15.1505ZM3.26214 6.75051H0.5V8.24892H3.26214V6.75051ZM17.7379 6.75051H20.5V8.24892H17.7379V6.75051ZM9.69118 12.2207H11.1803V15H9.69118V12.2207ZM16.2864 1.37762H12.5075V2.77935H16.2864C17.0791 2.77935 17.7276 3.43189 17.7276 4.22943V5.47005H19.1206V4.22943C19.1126 2.65851 17.8477 1.37762 16.2864 1.37762ZM1.87106 5.47005V3.95553C1.87106 2.53768 3.02395 1.37762 4.43305 1.37762H8.48419V2.77935H4.43305C3.78454 2.77935 3.26414 3.31105 3.26414 3.95553V5.47005H1.87106ZM17.7276 10.7542C17.7276 11.5518 17.0791 12.2043 16.2864 12.2043H12.5075V13.606H16.2864C17.8477 13.606 19.1206 12.3251 19.1206 10.7542V9.51361H17.7276V10.7542ZM3.26414 9.51361V10.7542C3.26414 11.5598 3.91264 12.2043 4.70526 12.2043H8.48419V13.606H4.70526C3.14405 13.606 1.87106 12.3251 1.87106 10.7542V9.51361H3.26414Z"\n                    fill="white"\n                  />\n                </svg>\n                <span class="sih-modal__text sih-modal__text_white sih-modal__text_md"\n                  >').concat(SIHLang.subscribeAds.modal.selectingPlan.sih_balance,'</span\n                >\n              </label>\n            </div>\n            <div class="payment payment-stripe payment-stripe__button payment__button">\n              <input type="radio" name="payment" id="payment-stripe" class="payment__input" data-name="Stripe" />\n              <label class="sih-modal__row gap-10 sih-modal__button px-24 py-8 bg-grey" for="payment-stripe">\n                <svg width="14" height="20" viewBox="0 0 14 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <path\n                    fill-rule="evenodd"\n                    clip-rule="evenodd"\n                    d="M5.57795 5.95604C5.57795 5.0989 6.28346 4.76923 7.45197 4.76923C9.12756 4.76923 11.2441 5.27473 12.9197 6.17582V1.01099C11.0898 0.285714 9.28189 0 7.45197 0C2.97638 0 0 2.32967 0 6.21978C0 12.2857 8.37795 11.3187 8.37795 13.9341C8.37795 14.9451 7.49606 15.2747 6.26142 15.2747C4.4315 15.2747 2.09449 14.5275 0.24252 13.5165V18.7473C2.29291 19.6264 4.36535 20 6.26142 20C10.8472 20 14 17.7363 14 13.8022C13.978 7.25275 5.57795 8.41758 5.57795 5.95604Z"\n                    fill="white"\n                  />\n                </svg>\n                <span class="sih-modal__text sih-modal__text_white sih-modal__text_md">Stripe (Worldwide)</span>\n              </label>\n            </div>\n          </div>\n\n          <div class="payment-info__message sih-modal__column -mt-20">\n            <span class="sih-modal__text sih-modal__text_md"\n              >').concat(SIHLang.subscribeAds.modal.selectingPlan.payment_message_info,'</span\n            >\n          </div>\n        </div>\n\n        <span class="sih-modal__text sih-modal__text_lg sih-modal__text_extra-bold"\n          >').concat(SIHLang.subscribeAds.modal.selectingPlan.sub_packages,'</span\n        >\n\n        <div class="sih-modal__plans plans plans-balance" data-id="payment-balance" data-payment="balance"></div>\n        <div class="sih-modal__plans plans plans-stripe" data-id="payment-stripe" data-payment="stripe"></div>\n\n        <div class="sih-modal__error"></div>\n        <div class="sih-modal__buttons hidden">\n          <button class="sih-modal__button sih-modal__button_blue px-24 py-16 sih-modal__button-subscribe" disabled>\n            ').concat(SIHLang.subscribeAds.modal.selectingPlan.support_sih_now,'\n          </button>\n          <a\n            href="https://sih.app/user/subscription"\n            target="_blank"\n            class="sih-modal__text_blue text-decoration-underline hover-opacity-8"\n            >').concat(SIHLang.subscribeAds.modal.what_is_black,'</a\n          >\n\n          <a\n            href="https://steamcommunity.com/groups/SteamInventoryHelper/discussions/0/3832042807499341165/"\n            target="_blank"\n            class="sih-modal__text sih-modal__text_blue absolute right-50 -bottom-20 hover-opacity-8"\n            >').concat(SIHLang.subscribeAds.modal.questions,'</a\n          >\n        </div>\n        <div class="sih-balance sih-modal__row justify-between">\n          <div class="sih-modal__column">\n            <div class="sih-modal__row items-center gap-20">\n              <div class="sih-modal__row gap-5 items-center">\n                <span class="sih-modal__text sih-modal__text_md">').concat(SIHLang.subscribeAds.modal.in_wallet,':</span>\n                <div class="sih-modal__sih-coins">\n                  <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path\n                      fill-rule="evenodd"\n                      clip-rule="evenodd"\n                      d="M13.6654 7.64594H10.5392V6.19862H13.6487C13.2732 3.05747 10.7173 0.584913 7.53535 0.333008V2.71898C7.79502 2.77089 8.03807 2.84986 8.2645 2.95588C8.70318 3.15944 9.06677 3.45257 9.35527 3.83527C9.64772 4.21797 9.8552 4.67802 9.97772 5.21542L8.51348 5.49023C8.45815 5.20117 8.34947 4.94672 8.18744 4.72687C8.0254 4.50702 7.82187 4.33603 7.57685 4.21389C7.33182 4.09176 7.05913 4.02662 6.75877 4.01848C6.47027 4.0144 6.21141 4.06122 5.9822 4.15893C5.75298 4.25257 5.57118 4.38692 5.43681 4.56199C5.30244 4.73298 5.23526 4.92636 5.23526 5.14214C5.23526 5.38234 5.32813 5.58794 5.51388 5.75893C5.70358 5.92992 6.00196 6.07648 6.40902 6.19862L7.94439 6.65663C8.68342 6.87648 9.21497 7.17572 9.53904 7.55434C9.86706 7.9289 10.0311 8.42762 10.0311 9.05052C10.0311 9.59607 9.89868 10.0744 9.63389 10.4856C9.3691 10.8968 8.99761 11.2185 8.51941 11.4505C8.22133 11.5926 7.89331 11.6904 7.53535 11.744V13.6663C10.7694 13.4103 13.3567 10.8603 13.6654 7.64594ZM6.10669 13.6287V11.728C5.79795 11.672 5.50945 11.5795 5.24119 11.4505C4.76694 11.2225 4.37766 10.9009 4.07336 10.4856C3.773 10.0704 3.58133 9.57775 3.49833 9.00777L4.90921 8.77571C5.01987 9.27647 5.25699 9.67546 5.62058 9.97266C5.98812 10.2658 6.4268 10.4123 6.93661 10.4123C7.42667 10.4123 7.82978 10.2943 8.14594 10.0582C8.46211 9.81795 8.62019 9.51464 8.62019 9.14823C8.62019 8.89174 8.5451 8.68411 8.39492 8.52533C8.24474 8.36248 8.00367 8.22813 7.6717 8.12228L5.61465 7.46274C4.41718 7.08004 3.81845 6.33094 3.81845 5.21542C3.81845 4.6943 3.93899 4.24036 4.18006 3.85359C4.42509 3.46275 4.76892 3.16352 5.21155 2.95588C5.4807 2.82715 5.77908 2.73831 6.10669 2.68936V0.370649C3.0914 0.771354 0.710116 3.1753 0.348711 6.19862H3.02612V7.64594H0.332031C0.629302 10.7417 3.04011 13.2212 6.10669 13.6287Z"\n                      fill="white"\n                    />\n                  </svg>\n                </div>\n                <span class="sih-balance__user  sih-modal__text sih-modal__text_md">---</span>\n              </div>\n\n              <div class="sih-balance__not-enough sih-modal__row gap-5 items-center">\n                <span class="sih-modal__text sih-modal__text_md sih-modal__text_red"\n                  >').concat(SIHLang.subscribeAds.modal.not_enough_funds,'</span\n                >\n                <div class="sih-modal__sih-coins red">\n                  <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path\n                      fill-rule="evenodd"\n                      clip-rule="evenodd"\n                      d="M13.6654 7.64594H10.5392V6.19862H13.6487C13.2732 3.05747 10.7173 0.584913 7.53535 0.333008V2.71898C7.79502 2.77089 8.03807 2.84986 8.2645 2.95588C8.70318 3.15944 9.06677 3.45257 9.35527 3.83527C9.64772 4.21797 9.8552 4.67802 9.97772 5.21542L8.51348 5.49023C8.45815 5.20117 8.34947 4.94672 8.18744 4.72687C8.0254 4.50702 7.82187 4.33603 7.57685 4.21389C7.33182 4.09176 7.05913 4.02662 6.75877 4.01848C6.47027 4.0144 6.21141 4.06122 5.9822 4.15893C5.75298 4.25257 5.57118 4.38692 5.43681 4.56199C5.30244 4.73298 5.23526 4.92636 5.23526 5.14214C5.23526 5.38234 5.32813 5.58794 5.51388 5.75893C5.70358 5.92992 6.00196 6.07648 6.40902 6.19862L7.94439 6.65663C8.68342 6.87648 9.21497 7.17572 9.53904 7.55434C9.86706 7.9289 10.0311 8.42762 10.0311 9.05052C10.0311 9.59607 9.89868 10.0744 9.63389 10.4856C9.3691 10.8968 8.99761 11.2185 8.51941 11.4505C8.22133 11.5926 7.89331 11.6904 7.53535 11.744V13.6663C10.7694 13.4103 13.3567 10.8603 13.6654 7.64594ZM6.10669 13.6287V11.728C5.79795 11.672 5.50945 11.5795 5.24119 11.4505C4.76694 11.2225 4.37766 10.9009 4.07336 10.4856C3.773 10.0704 3.58133 9.57775 3.49833 9.00777L4.90921 8.77571C5.01987 9.27647 5.25699 9.67546 5.62058 9.97266C5.98812 10.2658 6.4268 10.4123 6.93661 10.4123C7.42667 10.4123 7.82978 10.2943 8.14594 10.0582C8.46211 9.81795 8.62019 9.51464 8.62019 9.14823C8.62019 8.89174 8.5451 8.68411 8.39492 8.52533C8.24474 8.36248 8.00367 8.22813 7.6717 8.12228L5.61465 7.46274C4.41718 7.08004 3.81845 6.33094 3.81845 5.21542C3.81845 4.6943 3.93899 4.24036 4.18006 3.85359C4.42509 3.46275 4.76892 3.16352 5.21155 2.95588C5.4807 2.82715 5.77908 2.73831 6.10669 2.68936V0.370649C3.0914 0.771354 0.710116 3.1753 0.348711 6.19862H3.02612V7.64594H0.332031C0.629302 10.7417 3.04011 13.2212 6.10669 13.6287Z"\n                      fill="white"\n                    />\n                  </svg>\n                </div>\n                <span class="sih-balance__user-not-enough  sih-modal__text sih-modal__text_md sih-modal__text_red"\n                  >---</span\n                >\n              </div>\n            </div>\n\n            <div class="sih-modal__row gap-5 items-center">\n              <span class="sih-modal__text sih-modal__text_lg sih-modal__text_extra-bold"\n                >').concat(SIHLang.subscribeAds.modal.total,':</span\n              >\n              <div class="sih-modal__sih-coins">\n                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <path\n                    fill-rule="evenodd"\n                    clip-rule="evenodd"\n                    d="M13.6654 7.64594H10.5392V6.19862H13.6487C13.2732 3.05747 10.7173 0.584913 7.53535 0.333008V2.71898C7.79502 2.77089 8.03807 2.84986 8.2645 2.95588C8.70318 3.15944 9.06677 3.45257 9.35527 3.83527C9.64772 4.21797 9.8552 4.67802 9.97772 5.21542L8.51348 5.49023C8.45815 5.20117 8.34947 4.94672 8.18744 4.72687C8.0254 4.50702 7.82187 4.33603 7.57685 4.21389C7.33182 4.09176 7.05913 4.02662 6.75877 4.01848C6.47027 4.0144 6.21141 4.06122 5.9822 4.15893C5.75298 4.25257 5.57118 4.38692 5.43681 4.56199C5.30244 4.73298 5.23526 4.92636 5.23526 5.14214C5.23526 5.38234 5.32813 5.58794 5.51388 5.75893C5.70358 5.92992 6.00196 6.07648 6.40902 6.19862L7.94439 6.65663C8.68342 6.87648 9.21497 7.17572 9.53904 7.55434C9.86706 7.9289 10.0311 8.42762 10.0311 9.05052C10.0311 9.59607 9.89868 10.0744 9.63389 10.4856C9.3691 10.8968 8.99761 11.2185 8.51941 11.4505C8.22133 11.5926 7.89331 11.6904 7.53535 11.744V13.6663C10.7694 13.4103 13.3567 10.8603 13.6654 7.64594ZM6.10669 13.6287V11.728C5.79795 11.672 5.50945 11.5795 5.24119 11.4505C4.76694 11.2225 4.37766 10.9009 4.07336 10.4856C3.773 10.0704 3.58133 9.57775 3.49833 9.00777L4.90921 8.77571C5.01987 9.27647 5.25699 9.67546 5.62058 9.97266C5.98812 10.2658 6.4268 10.4123 6.93661 10.4123C7.42667 10.4123 7.82978 10.2943 8.14594 10.0582C8.46211 9.81795 8.62019 9.51464 8.62019 9.14823C8.62019 8.89174 8.5451 8.68411 8.39492 8.52533C8.24474 8.36248 8.00367 8.22813 7.6717 8.12228L5.61465 7.46274C4.41718 7.08004 3.81845 6.33094 3.81845 5.21542C3.81845 4.6943 3.93899 4.24036 4.18006 3.85359C4.42509 3.46275 4.76892 3.16352 5.21155 2.95588C5.4807 2.82715 5.77908 2.73831 6.10669 2.68936V0.370649C3.0914 0.771354 0.710116 3.1753 0.348711 6.19862H3.02612V7.64594H0.332031C0.629302 10.7417 3.04011 13.2212 6.10669 13.6287Z"\n                    fill="white"\n                  />\n                </svg>\n              </div>\n              <span class="sih-balance__plan-price sih-modal__text sih-modal__text_lg sih-modal__text_extra-bold"\n                >---</span\n              >\n            </div>\n          </div>\n\n          <div class="sih-balance__buttons">\n            <button class="sih-balance__button sih-modal__button sih-modal__button_blue px-24 py-16">\n              ').concat(SIHLang.subscribeAds.modal.selectingPlan.refill,"\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  "));n.find(".sih-modal__error").before(t),e.find(".selecting-plan-tab").length||e.append(n)}function renderPlansItems(e){var t=$J(".selecting-plan-tab"),n=t.find(".plans"),i=t.find(".payment__input:checked");n.each((function(t,n){var r=$J(n),a=r.data("payment"),o={},s=e.map((function(e){return e.is_enabled&&e.payment_system===a?e.full_price||e.price:0})).filter((function(e){return e}));o["".concat(a)]=Math.max.apply(Math,selectingPlan_toConsumableArray(s)),e.forEach((function(e){if(e.payment_system===a&&e.is_enabled){var t=e.full_price||e.price,n=getPlanInfoLocalization(e.title),s=n.plan_icon,l=n.plan_name,c=n.plan_period,d=(t/1e3).toLocaleString("ru"),u=((e.per_month?e.per_month:e.price)/1e3).toLocaleString("ru"),_=currency_service.A.g_rgCurrencyData[e.price_currency]||currency_service.A.g_rgCurrencyData.USD,m=$J('\n          <div\n            class="plans__item '.concat(o["".concat(a)]===t?"active":"",'"\n            data-plan-title="').concat(e.title,'"\n            data-id="').concat(e.id,'"\n            data-total-price="').concat(t,'"\n          >\n            <div class="plans__header">\n              <span class="sih-modal__smile sih-modal__smile_lg">').concat(s,'</span>\n              <span class="sih-modal__text sih-modal__text_sm plans__name">').concat(l,'</span>\n              <span class="sih-modal__text sih-modal__text_lg sih-modal__text_extra-bold -mt-5">').concat(c,'</span>\n              <div class="sih-modal__row -mt-5">\n                <span class="sih-modal__text sih-modal__text_sm sih-modal__text_light-grey "\n                  >').concat(e.per_month&&t!==e.per_month&&_.bSymbolIsPrefix?"".concat(_.strSymbol):"",'</span\n                >\n\n                <span class="sih-modal__text sih-modal__text_sm sih-modal__text_light-grey"\n                  >').concat(e.per_month&&t!==e.per_month?d:"",'</span\n                >\n\n                <span class="sih-modal__text sih-modal__text_sm sih-modal__text_light-grey"\n                  >').concat(e.per_month&&t!==e.per_month&&!_.bSymbolIsPrefix?"".concat(_.strSymbol):"",'</span\n                >\n              </div>\n            </div>\n            <div class="plans__bottom">\n              <span class="sih-modal__text sih-modal__text_md sih-modal__text_bold"\n                >').concat("balance"!==e.payment_system&&_.bSymbolIsPrefix?"".concat(_.strSymbol):"","</span\n              >\n\n              ").concat("balance"===e.payment_system?'<div class="sih-modal__sih-coins mr-5">\n                                    <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M13.6654 7.64594H10.5392V6.19862H13.6487C13.2732 3.05747 10.7173 0.584913 7.53535 0.333008V2.71898C7.79502 2.77089 8.03807 2.84986 8.2645 2.95588C8.70318 3.15944 9.06677 3.45257 9.35527 3.83527C9.64772 4.21797 9.8552 4.67802 9.97772 5.21542L8.51348 5.49023C8.45815 5.20117 8.34947 4.94672 8.18744 4.72687C8.0254 4.50702 7.82187 4.33603 7.57685 4.21389C7.33182 4.09176 7.05913 4.02662 6.75877 4.01848C6.47027 4.0144 6.21141 4.06122 5.9822 4.15893C5.75298 4.25257 5.57118 4.38692 5.43681 4.56199C5.30244 4.73298 5.23526 4.92636 5.23526 5.14214C5.23526 5.38234 5.32813 5.58794 5.51388 5.75893C5.70358 5.92992 6.00196 6.07648 6.40902 6.19862L7.94439 6.65663C8.68342 6.87648 9.21497 7.17572 9.53904 7.55434C9.86706 7.9289 10.0311 8.42762 10.0311 9.05052C10.0311 9.59607 9.89868 10.0744 9.63389 10.4856C9.3691 10.8968 8.99761 11.2185 8.51941 11.4505C8.22133 11.5926 7.89331 11.6904 7.53535 11.744V13.6663C10.7694 13.4103 13.3567 10.8603 13.6654 7.64594ZM6.10669 13.6287V11.728C5.79795 11.672 5.50945 11.5795 5.24119 11.4505C4.76694 11.2225 4.37766 10.9009 4.07336 10.4856C3.773 10.0704 3.58133 9.57775 3.49833 9.00777L4.90921 8.77571C5.01987 9.27647 5.25699 9.67546 5.62058 9.97266C5.98812 10.2658 6.4268 10.4123 6.93661 10.4123C7.42667 10.4123 7.82978 10.2943 8.14594 10.0582C8.46211 9.81795 8.62019 9.51464 8.62019 9.14823C8.62019 8.89174 8.5451 8.68411 8.39492 8.52533C8.24474 8.36248 8.00367 8.22813 7.6717 8.12228L5.61465 7.46274C4.41718 7.08004 3.81845 6.33094 3.81845 5.21542C3.81845 4.6943 3.93899 4.24036 4.18006 3.85359C4.42509 3.46275 4.76892 3.16352 5.21155 2.95588C5.4807 2.82715 5.77908 2.73831 6.10669 2.68936V0.370649C3.0914 0.771354 0.710116 3.1753 0.348711 6.19862H3.02612V7.64594H0.332031C0.629302 10.7417 3.04011 13.2212 6.10669 13.6287Z" fill="white"/>\n                                    </svg>\n                                  </div>':"",'\n\n              <span class="plans__actual-price sih-modal__text sih-modal__text_md sih-modal__text_bold"\n                >').concat(u,'</span\n              >\n\n              <span class="sih-modal__text sih-modal__text_md sih-modal__text_bold"\n                >').concat("balance"===e.payment_system||_.bSymbolIsPrefix?"":"".concat(_.strSymbol),'</span\n              >\n\n              <span class="sih-modal__text sih-modal__text_md sih-modal__text_bold">/</span>\n\n              <span class="sih-modal__text sih-modal__text_md sih-modal__text_bold"\n                >').concat(SIHLang.subscribeAds.modal.month,"</span\n              >\n            </div>\n          </div>\n        "));r.find(m).length||(r.append(m),i.length&&i.attr("id")&&r.attr("data-id")===i.attr("id")&&r.css("display","flex").show())}}))}))}function setUserAndPlanCost(){sih_app_global_service.A.getLoginSihAppUser().then((function(e){if(e&&e.success&&!e.tfaNeed&&e.user){var t=e.user.balance,n=$J(".selecting-plan-tab"),i=n.find(".plans-balance"),r=n.find(".sih-balance"),a=i.find(".plans__item.active");if(a.length){var o=a.attr("data-total-price");if(!o)return;var s=r.find(".sih-balance__user"),l=r.find(".sih-balance__plan-price"),c=r.find(".sih-balance__not-enough"),d=c.find(".sih-balance__user-not-enough"),u=r.find(".sih-balance__button");s.text(t/1e3),l.text(o/1e3);var _=t-o;if(_<0){var m=Math.abs(_/1e3);c.css("display","flex").show(),d.text(m),u.text(SIHLang.subscribeAds.modal.selectingPlan.refill),$J("#sih-tos-selecting-plan").is(":checked")||u.attr("disabled",!0),subscribeFromBalanceAction("refill",m)}else $J("#sih-tos-selecting-plan").is(":checked")||u.attr("disabled",!0),c.hide(),u.text(SIHLang.subscribeAds.modal.selectingPlan.buy_sub),subscribeFromBalanceAction("buy")}}}))}function sortPlansItemsByPrice(){$J(".selecting-plan-tab").find(".plans").each((function(e,t){var n=$J(t),i=n.find(".plans__item");i.sort((function(e,t){return $J(e).data("total-price")-$J(t).data("total-price")})),i.detach().appendTo(n)}))}function getPlanInfoLocalization(e){var t,n,i;switch(e.toLowerCase()){case"for one year":t="&#128526;",n="".concat(SIHLang.subscribeAds.modal.plan_for_one_year_name),i="".concat(SIHLang.subscribeAds.modal.plan_for_one_year_period);break;case"every 6 months":t="&#128527;",n="".concat(SIHLang.subscribeAds.modal.plan_every_6_month_name),i="".concat(SIHLang.subscribeAds.modal.plan_every_6_month_period);break;case"every 3 month":t="&#128521;",n="".concat(SIHLang.subscribeAds.modal.plan_every_3_month_name),i="".concat(SIHLang.subscribeAds.modal.plan_every_3_month_period);break;case"every month":t="&#128522;",n="".concat(SIHLang.subscribeAds.modal.plan_every_month_name),i="".concat(SIHLang.subscribeAds.modal.plan_every_month_period);break;default:t=null,n=null,i=null}return{plan_icon:t,plan_name:n,plan_period:i}}function selectingPlan_modalListeners(){buttonsActions(),changePaymentMethod()}function buttonsActions(){selectPlanAction(),checkTOSSubscribe(),subscribeAction(),modalPaginationBack()}function selectPlanAction(){$J(".sih-modal").find(".plans__item").each((function(e,t){var n=$J(t);n.off("click").click((function(){$J(this).parent().find(".active").removeClass("active"),n.addClass("active"),setUserAndPlanCost()}))}))}function checkTOSSubscribe(){$J("#sih-tos-selecting-plan").off("change").change((function(){$J(this).is(":checked")?($J(".sih-modal__button-subscribe").removeAttr("disabled"),$J(".sih-balance__button").removeAttr("disabled")):($J(".sih-modal__button-subscribe").attr("disabled",!0),$J(".sih-balance__button").attr("disabled",!0))}))}function subscribeFromBalanceAction(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"refill",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=$J(".selecting-plan-tab"),i=n.find(".plans-balance"),r=n.find(".sih-balance"),a=i.find(".plans__item.active"),o=r.find(".sih-balance__button"),s=n.find(".sih-modal__error"),l=a.attr("data-id");"buy"!==e?o.off("click").click((function(){sih_app_global_service.A.getSihAppToken().then((function(e){clearTimeout(selectingPlan_debounce),selectingPlan_debounce=setTimeout((function(){t<1&&(t=1),window.open("https://sih.app/pay?amount=".concat(t,"#payToken=").concat(e),"_blank")}),300)}))})):o.off("click").click((function(){var e=this;$J(this).addClass("animated-background-btn"),s.hide(),chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_LINK_TO_PAYMENT_SUBSCRIBE",data:{id:l}},(function(t){if(t.success)$J(e).removeClass("animated-background-btn"),sih_app_global_service.A.getUserSihApp().then((function(e){e.success&&sih_app_global_service.A.getSubscribeAds().then((function(e){e.success?sih_app_global_service.A.getLoginSihAppUser().then((function(e){RenderActivePlanInfo(e.subscribes),n.hide(),$J(".sih-modal.active-plan-tab").show()})):(n.hide(),$J(".sih-modal.refill-plug-info").show())}))}));else{var i=s.find(".sih-modal__error_message");sih_app_global_service.A.errorHandler($J(e),s,i)}}))}))}function subscribeAction(){var e=$J(".selecting-plan-tab"),t=e.find(".sih-modal__button-subscribe"),n=e.find("#sih-tos-selecting-plan"),i=e.find(".sih-modal__error");t.each((function(t,r){$J(r).off("click").click($J.debounce(300,(function(){var t=this;$J(this).addClass("animated-background-btn");var r=i.find(".sih-modal__error_message"),a=e.find(".plans:visible").find(".plans__item.active"),o=a.find(".plans__name").text(),s=a.attr("data-id"),l={planName:o,paymentId:s};s?n.is(":checked")?chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_LINK_TO_PAYMENT_SUBSCRIBE",data:{id:s}},(function(e){e.success?(i.hide(),$J(t).removeClass("animated-background-btn"),OpenEmailTabInModal(l,e.email)):e.hasOwnProperty("authorization")?sih_app_global_service.A.errorHandler($J(t),i,r):e.hasOwnProperty("error")?sih_app_global_service.A.errorHandler($J(t),i,r,e.error):($J(t).removeClass("animated-background-btn"),OpenEmailTabInModal(l))})):sih_app_global_service.A.errorHandler($J(this),i,r,"Please, select checkbox subscription TOS"):sih_app_global_service.A.errorHandler($J(this),i,r,"Please, enter plan")})))}))}function changePaymentMethod(){var e=$J(".selecting-plan-tab"),t=e.find(".plans"),n=e.find(".payment-info__message"),i=e.find(".sih-balance"),r=e.find(".sih-modal__buttons");e.find(".payment__input").each((function(e,a){$J(a).change((function(){var e=$J(this);t.each((function(t,a){var o=$J(a);o.hide(),o.attr("data-id")===e.attr("id")&&(o.css("display","flex").show(),"payment-balance"===o.attr("data-id")?(r.addClass("hidden"),n.css("display","flex").show(),i.css("display","flex").show()):(n.hide(),i.hide(),r.removeClass("hidden")))}))}))}))}function modalPaginationBack(){var e=$J(".sih-subscribe-ads");e.find(".sih-modal__back-info").click((function(){$J(".selecting-plan-tab").hide(),$J(".subscription-info-tab").show(),e.find(".sih-modal__error").children().remove()}))}function LoadEnterPasswordModal(){enterPassword_loadHtml(),ModalPasswordListenersAction()}function enterPassword_loadHtml(){var e=$J("body"),t='\n    <div id="sih-enter-password">\n      <div class="sih-enter-password__fade"></div>\n      <div class="sih-modal sih-global">\n        <div class="sih-modal__close"></div>\n        <div class="sih-modal__inner sih-modal__column items-start">\n          <div class="sih-modal__text sih-modal__text_xl sih-modal__text_white">\n            '.concat(SIHLang.subscribeAds.modal.enterPassword.title,'\n          </div>\n          <label class="sih-modal__column w-248" for="sih-password-input">\n            <input\n              type="password"\n              autocomplete="new-password"\n              class="sih-modal__input"\n              id="sih-password-input"\n              placeholder="').concat(SIHLang.subscribeAds.modal.enterPassword.enter_pwd,'"\n            />\n          </label>\n          <a\n            href="https://sih.app/"\n            target="_blank"\n            class="sih-modal__text_md sih-modal__text_blue text-decoration-underline"\n            >').concat(SIHLang.subscribeAds.modal.enterPassword.forgot_pwd,'</a\n          >\n          <label class="sih-modal__trading-rules sih-modal__row items-center gap-10 mt-16" for="trading-rules">\n            <input type="checkbox" name="trading-rules" id="trading-rules" class="hidden" />\n            <label class="fake-checkbox" for="trading-rules"></label>\n            <div class="sih-modal__text sih-modal__text_md">\n              ').concat(SIHLang.subscribeAds.modal.enterPassword.trade_rule_1,'\n              <a href="https://sih.app/" target="_blank" class="sih-modal__text_blue text-decoration-underline"\n                >').concat(SIHLang.subscribeAds.modal.enterPassword.trade_rule_2,'</a\n              >\n            </div>\n          </label>\n          <div class="sih-modal__error mt-20"></div>\n          <div class="sih-modal__buttons mt-16">\n            <button\n              id="sih-enter-password-btn"\n              class="sih-modal__button sih-modal__button_blue px-24 py-16"\n              disabled="disabled"\n            >\n              ').concat(SIHLang.subscribeAds.modal.enterPassword.continue,"\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  ");e.find("#sih-enter-password").length||e.append(t)}function ModalPasswordListenersAction(){hidePasswordModal(),passwordInputActionListener(),sendPasswordToBackground()}function hidePasswordModal(){$J(document).keydown((function(e){27===e.keyCode&&(e.stopPropagation(),$J("#sih-enter-password").hide().remove(),LoadEnterPasswordModal(),$J("body").css("overflow","auto"))})),$J("#sih-enter-password").find(".sih-modal__close").off("click").click((function(){$J("#sih-enter-password").hide().remove(),LoadEnterPasswordModal(),$J("body").css("overflow","auto")}))}function passwordInputActionListener(){var e=$J("body").find("#sih-enter-password"),t=e.find("#sih-password-input"),n=e.find("#trading-rules"),i=e.find("#sih-enter-password-btn");t.off().keyup((function(){var e=$J(this);n.prop("checked")&&e.val().length>0?i.prop("disabled",!1):i.prop("disabled",!0)})),n.off("click").click((function(){$J(this).prop("checked")&&t.val().length>0?i.prop("disabled",!1):i.prop("disabled",!0)}))}function sendPasswordToBackground(){var e=$J("#sih-enter-password"),t=e.find(".sih-modal__error");e.find("#sih-enter-password-btn").off("click").click((function(){var n=$J(this);n.addClass("animated-background-btn");var i=t.find(".sih-modal__error_message"),r=e.find("#sih-password-input").val();""!==r&&r?chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_ENTER_PASSWORD_SIH_APP",data:{password:r}},(function(r){if(r.success){var a=e.data("show-modal"),o=$J(".sih-modal.".concat(a,"-tab"));switch(e.hide(),a){case"subscription-info":sih_app_global_service.A.getSubscribeAds().then((function(e){e.success?sih_app_global_service.A.getLoginSihAppUser().then((function(e){RenderActivePlanInfo(e.subscribes),$J(".sih-subscribe-ads").show(),$J(".sih-subscribe-ads").find(".sih-modal").hide(),$J(".sih-modal.active-plan-tab").show()})):sih_app_global_service.A.getSubscribeAdsPlans().then((function(e){e&&e.length&&RenderPlans(e),$J(".sih-subscribe-ads").show()}))}));break;case"orders":sih_app_global_service.A.getUserOrdersHistory(!1).then((function(e){e.success&&(ChangeOrdersCountHeaderMenu(),RenderOrdersActiveItems(),RenderOrdersHistoryItems()),$J("#sih-modal__buy-orders").show()}));break;case"ordering":ChangeItemsStatus(!0,"ordering"),$J("#sih-modal__buy-orders").show();break;case"notification-panel":$J("#sih-header-notifications").trigger("click")}o.show()}else sih_app_global_service.A.errorHandler(n,t,i,r.error)})):sih_app_global_service.A.errorHandler(n,t,i)}))}function RenderRefillPlugInfo(){refillPlugInfo_loadHtml(),refillPlugInfo_buttonsActions()}function refillPlugInfo_loadHtml(){var e=$J(".sih-pagecontent").find(".sih-subscribe-ads");e.find(".refill-plug-info").length||e.append('\n    <div class="sih-modal sih-global refill-plug-info">\n      <div class="sih-modal__close"></div>\n      <div class="sih-modal__inner">\n        <div class="sih-modal__column items-center gap-20">\n          <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path\n              fill-rule="evenodd"\n              clip-rule="evenodd"\n              d="M16 0C7.16344 0 0 7.16344 0 16C0 24.8366 7.16344 32 16 32C24.8366 32 32 24.8366 32 16C32 7.16344 24.8366 0 16 0ZM12.6742 24.728L4.3625 16.3525L6.7064 13.9906L12.6742 19.9874L25.2913 7.27344L27.6352 9.65208L12.6742 24.728Z"\n              fill="#00F900"\n            />\n          </svg>\n          <h2 class="sih-modal__title text-center">Успешно оплачено</h2>\n        </div>\n\n        <span class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey text-center"\n          >Активация подписки SIH Black может занимать до 15 минут</span\n        >\n\n        <div class="sih-modal__buttons mt-70 justify-center">\n          <button class="sih-modal__button sih-modal__button_blue px-24 py-16 text-uppercase refill-plug-info__reload">\n            перезагрузить страницу\n          </button>\n        </div>\n      </div>\n    </div>\n  ')}function refillPlugInfo_buttonsActions(){refillReloadBtn()}function refillReloadBtn(){$J(".refill-plug-info").find(".refill-plug-info__reload").off("click").click((function(){$J(this).addClass("animated-background-btn"),window.location.reload()}))}function loadSubscriptionInfoTab(){subscriptionInfo_loadHtml(),subscriptionInfo_modalListeners(),loadTooltips()}function subscriptionInfo_loadHtml(){var e=$J(".sih-pagecontent").find(".sih-subscribe-ads"),t='\n    <div class="sih-modal sih-global subscription-info-tab">\n      <div class="sih-modal__close"></div>\n      <div class="sih-modal__inner">\n        <div class="sih-modal__header sih-modal__column gap-20">\n          <div class="subscription-info-tab__sorry sih-subscribe-sorry hidden">\n            <img\n              class="sih-subscribe-sorry__image"\n              src="chrome-extension://'.concat(SIHID,'/assets/common/cry_emojis.svg"\n              alt=""\n            />\n            <div class="column gap-4">\n              <span class="text text_white fs-24 lh-32 semi-bold"\n                >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sorryInfo.title,'</span\n              >\n              <span class="text text_light-grey fs-16 lh-24"\n                >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sorryInfo.text,'</span\n              >\n            </div>\n          </div>\n\n          <h2 class="sih-modal__title">').concat(SIHLang.subscribeAds.modal.subscriptionInfo.title,'</h2>\n          <span class="subscription-info-tab__info-text sih-modal__text sih-modal__text_md"\n            >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.subtitle,'\n          </span>\n          <div class="sih-modal__row mt-5">\n            <button class="go-to-plan go-to-plan_top sih-modal__button sih-modal__button_blue py-16 px-24">\n              ').concat(SIHLang.subscribeAds.modal.subscriptionInfo.button_1,'\n            </button>\n          </div>\n        </div>\n        <div class="sih-modal__bottom sih-modal__column">\n          <div class="sih-modal__bottom_header">\n            <div class="sih-modal__column-grid grid-columns-4-1">\n              <span class="sih-modal__text sih-modal__text_lg sih-modal__text_bold"\n                >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.in_sih,'\n              </span>\n\n              <div class="sih-modal__row justify-between gap-36">\n                <span class="sih-modal__text sih-modal__text_lg sih-modal__text_bold w-100per text-center break-words"\n                  >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.without_sih_black,'\n                </span>\n                <span class="sih-modal__text sih-modal__text_lg sih-modal__text_bold w-100per text-center break-words"\n                  >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.with_sih_black,'\n                </span>\n              </div>\n            </div>\n            <div class="splitter-1 bg-grey mt-20 mb-20"></div>\n          </div>\n          <div class="sih-modal__content sih-modal__column gap-45">\n            <div class="sih-modal__column-grid grid-columns-4-1">\n              <div class="sih-modal__row items-center gap-5">\n                <span class="sih-modal__text sih-modal__text_md"\n                  >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_option_1,'\n                </span>\n                <div\n                  class="subscription-info-tab__tooltip"\n                  title="').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_option_1_tooltip,'"\n                ></div>\n              </div>\n              <div class="sih-modal__row justify-between gap-36">\n                <span class="cross_red"></span>\n                <span class="checkbox_green"></span>\n              </div>\n            </div>\n            <div class="sih-modal__column-grid grid-columns-4-1">\n              <div class="sih-modal__row items-center gap-5">\n                <span class="sih-modal__text sih-modal__text_md"\n                  >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_option_2,'\n                </span>\n                <div\n                  class="subscription-info-tab__tooltip"\n                  title="').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_option_2_tooltip,'"\n                ></div>\n              </div>\n              <div class="sih-modal__row justify-between gap-36">\n                <span class="cross_red"></span>\n                <span class="checkbox_green"></span>\n              </div>\n            </div>\n\n            <div class="sih-modal__column-grid grid-columns-4-1">\n              <div class="sih-modal__row items-center gap-5">\n                <span class="sih-modal__text sih-modal__text_md"\n                  >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_option_3,'\n                </span>\n                <div\n                  class="subscription-info-tab__tooltip"\n                  title="').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_option_3_tooltip,'"\n                ></div>\n              </div>\n              <div class="sih-modal__row justify-between gap-36">\n                <span class="cross_red"></span>\n                <span class="checkbox_green"></span>\n              </div>\n            </div>\n\n            <div class="sih-modal__column-grid grid-columns-4-1">\n              <div class="sih-modal__row items-center gap-5">\n                <span class="sih-modal__text sih-modal__text_md"\n                  >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_option_4,'\n                </span>\n                <div\n                  class="subscription-info-tab__tooltip"\n                  title="').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_option_4_tooltip,'"\n                ></div>\n              </div>\n              <div class="sih-modal__row justify-between gap-36">\n                <span class="cross_red"></span>\n                <span class="checkbox_green"></span>\n              </div>\n            </div>\n\n            <div class="sih-modal__column-grid grid-columns-4-1">\n              <div class="sih-modal__row items-center gap-5">\n                <span class="sih-modal__text sih-modal__text_md"\n                  >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_option_5,'\n                </span>\n                <div\n                  class="subscription-info-tab__tooltip"\n                  title="').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_option_5_tooltip,'"\n                ></div>\n              </div>\n              <div class="sih-modal__row justify-between gap-36">\n                <span class="cross_red"></span>\n                <span class="checkbox_green"></span>\n              </div>\n            </div>\n\n            <div class="splitter-1 bg-grey -mt-25"></div>\n          </div>\n\n          <div class="sih-modal__bottom_header mt-62">\n            <div class="sih-modal__column-grid grid-columns-4-1">\n              <span class="sih-modal__text sih-modal__text_lg sih-modal__text_bold"\n                >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.in_sih_app,'\n              </span>\n\n              <div class="sih-modal__row justify-between gap-36">\n                <span class="sih-modal__text sih-modal__text_lg sih-modal__text_bold w-100per text-center break-words"\n                  >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.without_sih_black,'\n                </span>\n                <span class="sih-modal__text sih-modal__text_lg sih-modal__text_bold w-100per text-center break-words"\n                  >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.with_sih_black,'\n                </span>\n              </div>\n            </div>\n            <div class="splitter-1 bg-grey mt-20 mb-20"></div>\n          </div>\n          <div class="sih-modal__content sih-modal__column gap-45">\n            <div class="sih-modal__column-grid grid-columns-4-1">\n              <div class="sih-modal__row items-center gap-5">\n                <span class="sih-modal__text sih-modal__text_md"\n                  >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_app_option_1,'\n                </span>\n                <div\n                  class="subscription-info-tab__tooltip"\n                  title="').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_app_option_1_tooltip,'"\n                ></div>\n              </div>\n              <div class="sih-modal__row justify-between gap-36">\n                <span class="w-100per text-center sih-modal__text sih-modal__text_md sih-modal__text_red"\n                  >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_app_option_1_without,'</span\n                >\n                <span class="w-100per text-center sih-modal__text sih-modal__text_md sih-modal__text_green"\n                  >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_app_option_1_with,'</span\n                >\n              </div>\n            </div>\n            <div class="sih-modal__column-grid grid-columns-4-1">\n              <div class="sih-modal__row items-center gap-5">\n                <span class="sih-modal__text sih-modal__text_md"\n                  >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_app_option_2,'\n                </span>\n                <div\n                  class="subscription-info-tab__tooltip"\n                  title="').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_app_option_2_tooltip,'"\n                ></div>\n              </div>\n              <div class="sih-modal__row justify-between gap-36">\n                <span class="w-100per text-center sih-modal__text sih-modal__text_md sih-modal__text_red">9</span>\n                <span class="w-100per text-center sih-modal__text sih-modal__text_md sih-modal__text_green">24</span>\n              </div>\n            </div>\n            <div class="sih-modal__column-grid grid-columns-4-1">\n              <div class="sih-modal__column items-start">\n                <div class="sih-modal__row items-center gap-5">\n                  <span class="sih-modal__text sih-modal__text_md"\n                    >').concat(SIHLang.subscribeAds.modal.subscriptionInfo.sih_app_option_3,'\n                  </span>\n                </div>\n              </div>\n\n              <div class="sih-modal__row justify-between gap-36">\n                <span class="cross_red"></span>\n                <span class="checkbox_green"></span>\n              </div>\n            </div>\n\n            <div class="splitter-1 bg-grey -mt-25"></div>\n          </div>\n        </div>\n        <button class="go-to-plan go-to-plan_bottom sih-modal__button sih-modal__button_blue px-24 py-16">\n          ').concat(SIHLang.subscribeAds.modal.subscriptionInfo.button_1,'\n        </button>\n        <a\n          href="https://steamcommunity.com/groups/SteamInventoryHelper/discussions/0/3832042807499341165/"\n          target="_blank"\n          class="sih-modal__text_blue absolute right-50 -bottom-20 hover-opacity-8"\n          >').concat(SIHLang.subscribeAds.modal.questions,"</a\n        >\n      </div>\n    </div>\n  ");e.find(".subscription-info-tab").length||e.append(t)}function subscriptionInfo_modalListeners(){openSelectPlanTabAction(),onScrollAction()}function openSelectPlanTabAction(){var e=$J(".sih-modal.subscription-info-tab"),t=$J(".sih-modal.selecting-plan-tab");e.find(".go-to-plan").click((function(){e.hide(),t.show()}))}function onScrollAction(){var e=$J(".sih-modal.subscription-info-tab").find(".sih-modal__inner");e.scroll((function(){var t=e.find(".go-to-plan_top"),n=e.find(".go-to-plan_bottom"),i=t.position().top;i<25&&0!==i&&0!==t.css("opacity")?(t.css("opacity",0),n.css("opacity",1)):(t.css("opacity",1),n.css("opacity",0))}))}function loadTooltips(){var e=$J(".sih-modal.subscription-info-tab"),t=$J(".pagecontent").css("zoom");$J(".sih-subscribe-ads").css("zoom",2-Number(t)),e.find(".subscription-info-tab__tooltip").each((function(e,t){$J(t).tooltip({classes:{"ui-tooltip":"subscription__tooltip"}})}))}function loadSubscribeAds(){renderSubscribeModal(),loadSelectingPlanTab(),LoadEnterPasswordModal(),loadSubscriptionInfoTab(),loadEnterEmailTab(),loadActivePlanTab(),RenderRefillPlugInfo(),common_modalListeners()}function ShowModalSubscribeAds(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];SUBSCRIBE_BUTTON_DATA_NAME=e&&e.attr("data-name")?e.attr("data-name"):null,$J(".sih-subscribe-ads").show(),"sponsor"===(null==e?void 0:e.attr("data-id"))&&($J(".sih-subscribe-ads").find(".subscription-info-tab").addClass("custom"),$J(".sih-subscribe-ads").find(".subscription-info-tab__sorry").removeClass("hidden")),t?sih_app_global_service.A.getUserSihApp().then((function(e){loginInSihApp()})):loginInSihApp()}function SetModalSubscribeToDefaultState(){$J(".sih-subscribe-ads").hide().remove()}function renderSubscribeModal(){$J("body").find("#mainContent").length?$J("#mainContent").addClass("sih-pagecontent"):$J("#mainContents").addClass("sih-pagecontent"),$J(".inventory_page").addClass("sih-inventory_page");var e=$J(".sih-pagecontent").length?$J(".sih-pagecontent"):$J("body").addClass("sih-pagecontent");e.find(".sih-subscribe-ads").length||e.append('\n    <div class="sih-subscribe-ads">\n      <div class="sih-modal__fade"></div>\n      <div class="sih-modal sih-global loader-tab">\n        <div class="sih-modal__close"></div>\n        <div class="sih-modal__inner sih-loader">\n          <div class="sih-logo-loader"></div>\n        </div>\n      </div>\n    </div>\n  ')}function common_modalListeners(){hideModalSubscribeAds()}function loginInSihApp(){sih_app_global_service.A.getLoginSihAppUser().then((function(e){e.success?renderTabAfterCheckedUser(e):sih_app_global_service.A.loginSihApp().then((function(){renderTabAfterCheckedUser()}))})),new InventoryPageEventRegister({location:location.href,SIHID}).register({target:"sih-adept-button",targetType:"button",action:"click"})}function renderTabAfterCheckedUser(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;sih_app_global_service.A.getSubscribeAds().then((function(t){var n;t.success?showActivePlanTab():e?e.tfaNeed?($J(".sih-subscribe-ads").hide(),$J("#sih-enter-password").attr("data-show-modal","subscription-info").show()):showSubscriptionInfoTab():n=setInterval((function(){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_USER_INFO"},(function(e){e.success&&!e.authorization&&(clearInterval(n),e.tfaNeed?($J(".sih-subscribe-ads").hide(),$J("#sih-enter-password").attr("data-show-modal","subscription-info").show()):sih_app_global_service.A.getSubscribeAds().then((function(e){e.success?showActivePlanTab():showSubscriptionInfoTab()})))}))}),500)}))}function showActivePlanTab(e){$J(".sih-modal.loader-tab").hide(),e?RenderActivePlanInfo(e.subscribes):chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_USER_INFO"},(function(e){RenderActivePlanInfo(e.subscribes)})),$J(".sih-modal.active-plan-tab").show()}function showSubscriptionInfoTab(){sih_app_global_service.A.getSubscribeAdsPlans().then((function(e){e&&e.length&&RenderPlans(e)})),$J(".sih-modal.loader-tab").hide(),SUBSCRIBE_BUTTON_DATA_NAME?$J(".sih-modal.".concat(SUBSCRIBE_BUTTON_DATA_NAME)).show():$J(".sih-modal.subscription-info-tab").show()}function hideModalSubscribeAds(){$J(document).off("keydown").keydown((function(e){27===e.keyCode&&(e.stopPropagation(),SetModalSubscribeToDefaultState(),CloseRefillSIHBalance())})),$J(".sih-subscribe-ads").find(".sih-modal__close").each((function(e,t){$J(t).off("click").click((function(){SetModalSubscribeToDefaultState()}))})),$J(".sih-subscribe-ads").find(".sih-modal__button-exit").click((function(){SetModalSubscribeToDefaultState()})),$J(".sih-subscribe-ads").find(".sih-modal__fade").click((function(){SetModalSubscribeToDefaultState()}))}function loadEnterEmailTab(){enterEmail_loadHtml(),enterEmail_modalListeners()}function OpenEmailTabInModal(e){var t=e.planName,n=e.paymentId,i=e.amount,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=$J(".sih-subscribe-ads"),o=$J(".selecting-plan-tab"),s=$J(".enter-email-tab"),l=s.find("#sih-email");o.hide(),s.show();var c=a.find(".sih-modal__save-email"),d=a.find(".sih-modal__cancel-email"),u=a.find(".sih-modal__edit-email"),_=s.find(".sih-modal__button-send-email");c.hide(),d.hide(),u.hide(),s.find(".sih-modal__title").text("".concat(SIHLang.subscribeAds.modal.second_title," ").concat(t?", ".concat(t):"")),r?l.val()!==r&&""!==l.val()||(l.val("".concat(r)),s.find(".sih-modal__buttons_email").css("display","flex"),l.focus()):l.focus(),o.find(".payment__input").each((function(e,t){var n=$J(t);if(n.prop("checked"))switch(n.data("name").toLowerCase()){case"stripe":_.text(SIHLang.subscribeAds.modal.complete_payment_stripe);break;case"gamemoney":_.text(SIHLang.subscribeAds.modal.complete_payment_gamemoney);break;default:_.text(SIHLang.subscribeAds.modal.complete_payment)}})),sendEmailAction(n,i)}function enterEmail_loadHtml(){var e=$J(".sih-pagecontent").find(".sih-subscribe-ads"),t='\n    <div class="sih-modal sih-global enter-email-tab">\n      <div class="sih-modal__row gap-10 sih-modal__back sih-modal__back-selecting">\n        <span class="sih-modal__back_icon"></span>\n        <span class="sih-modal__text sih-modal__text_md">'.concat(SIHLang.subscribeAds.modal.back,'</span>\n      </div>\n      <div class="sih-modal__close"></div>\n      <div class="sih-modal__inner mt-20">\n        <h2 class="sih-modal__title"></h2>\n        <p class="sih-modal__text sih-modal__text_md">').concat(SIHLang.subscribeAds.modal.text_3,'</p>\n        <div class="sih-modal__row">\n          <label class="sih-modal__column w-328 gap-12" for="sih-email">\n            <span class="sih-modal__text sih-modal__text_lg sih-modal__text_extra-bold"\n              >').concat(SIHLang.subscribeAds.modal.text_4,'</span\n            >\n            <input type="text" class="sih-modal__input" id="sih-email" placeholder="example@mail.com" />\n          </label>\n          <div class="sih-modal__buttons sih-modal__buttons_email">\n            <button class="sih-modal__button sih-modal__edit-email">').concat(SIHLang.subscribeAds.modal.edit,'</button>\n            <button class="sih-modal__button sih-modal__button_blue sih-modal__save-email">\n              ').concat(SIHLang.subscribeAds.modal.save,'\n            </button>\n            <button class="sih-modal__button sih-modal__cancel-email">').concat(SIHLang.subscribeAds.modal.cancel,'</button>\n          </div>\n        </div>\n        <div class="sih-modal__error"></div>\n        <div class="sih-modal__buttons">\n          <button class="sih-modal__button sih-modal__button_blue px-24 py-16 sih-modal__button-send-email">\n            ').concat(SIHLang.subscribeAds.modal.complete_payment,"\n          </button>\n        </div>\n      </div>\n    </div>\n  ");e.find(".enter-email-tab").length||e.append(t)}function enterEmail_modalListeners(){enterEmail_buttonsActions()}function enterEmail_buttonsActions(){enterEmail_modalPaginationBack(),sendEmailOnEnterAction(),editEmailAction(),cancelEmailAction(),saveEmailAction()}function sendEmailAction(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=$J(".sih-subscribe-ads"),i=n.find(".sih-modal__error");n.find(".sih-modal__button-send-email").off("click").click($J.debounce(300,(function(){var r=this;$J(this).addClass("animated-background-btn");var a=i.find(".sih-modal__error_message"),o=n.find("#sih-email").val();validateEmail(o)?chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_EMAIL_SIH_APP",data:{email:o}},(function(n){if(n.success){if(!e)return void sih_app_global_service.A.errorHandler($J(r),i,a,"Please, select method");t?sih_app_global_service.A.getLinkForInvoice(t>1?t:1,e).then((function(e){e&&e.success&&e.url?($J(r).removeClass("animated-background-btn"),SetModalSubscribeToDefaultState(),window.open(e.url,"_blank")):e.hasOwnProperty("error")?sih_app_global_service.A.errorHandler($J(r),i,a,e.error):sih_app_global_service.A.errorHandler($J(r),i,a)})):chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_LINK_TO_PAYMENT_SUBSCRIBE",data:{id:e}},(function(e){e.success?($J(r).removeClass("animated-background-btn"),SetModalSubscribeToDefaultState(),e.url&&window.open(e.url,"_blank")):e.hasOwnProperty("error")?sih_app_global_service.A.errorHandler($J(r),i,a,e.error):sih_app_global_service.A.errorHandler($J(r),i,a)}))}else n.hasOwnProperty("authorization")?sih_app_global_service.A.errorHandler($J(r),i,a):sih_app_global_service.A.errorHandler($J(r),i,a,n.error)})):sih_app_global_service.A.errorHandler($J(this),i,a,"Invalid email")})))}function editEmailAction(){var e=$J(".sih-subscribe-ads"),t=e.find(".sih-modal__edit-email"),n=e.find(".sih-modal__save-email"),i=e.find(".sih-modal__cancel-email"),r=e.find(".sih-modal__button-send-email"),a=e.find("#sih-email");t.click((function(){a.attr("disabled",!1),a.focus(),t.hide(),n.show(),i.show(),r.attr("disabled",!0)}))}function cancelEmailAction(){var e=$J(".sih-subscribe-ads"),t=e.find(".sih-modal__cancel-email"),n=e.find(".sih-modal__edit-email"),i=e.find(".sih-modal__save-email"),r=e.find(".sih-modal__button-send-email"),a=e.find("#sih-email");t.click((function(){a.attr("disabled",!0),a.focus(),t.hide(),i.hide(),n.show(),r.attr("disabled",!1)}))}function saveEmailAction(){var e=$J(".sih-subscribe-ads"),t=e.find(".sih-modal__save-email"),n=e.find(".sih-modal__cancel-email"),i=e.find(".sih-modal__edit-email"),r=e.find(".sih-modal__button-send-email"),a=e.find("#sih-email"),o=e.find(".sih-modal__error");t.click((function(){var e=this,s=o.find(".sih-modal__error_message");chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_DELETE_EMAIL_SIH_APP"},(function(l){l.hasOwnProperty("error")?sih_app_global_service.A.errorHandler($J(e),o,s,l.error):(a.attr("disabled",!0),a.focus(),n.hide(),t.hide(),i.show(),r.attr("disabled",!1))}))}))}function sendEmailOnEnterAction(){var e=$J(".sih-subscribe-ads").find(".sih-modal__button-send-email");1===$J(".selecting-plan-tab:visible").length&&$J(document).keydown($J.debounce(300,(function(t){13===t.keyCode&&(t.stopPropagation(),e.trigger("click"))})))}function enterEmail_modalPaginationBack(){var e=$J(".sih-subscribe-ads");e.find(".sih-modal__back-selecting").click((function(){$J(".enter-email-tab").hide(),$J(".selecting-plan-tab").show(),e.find(".sih-modal__error").children().remove()}))}function validateEmail(e){return e.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}function paymentMethods_slicedToArray(e,t){return paymentMethods_arrayWithHoles(e)||paymentMethods_iterableToArrayLimit(e,t)||paymentMethods_unsupportedIterableToArray(e,t)||paymentMethods_nonIterableRest()}function paymentMethods_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function paymentMethods_unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return paymentMethods_arrayLikeToArray(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?paymentMethods_arrayLikeToArray(e,t):void 0}}function paymentMethods_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function paymentMethods_iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}function paymentMethods_arrayWithHoles(e){if(Array.isArray(e))return e}var GROUP_METHODS={skins:["skinsback"],bank:["card","sberbank"],crypt:["bitcoin","ethereum","tether","tron","polygon","monero","ton","litecoin","dogecoin","dash","binance","chaingpt"],wallet:["yandex"]};function LoadPaymentMethods(){paymentMethods_loadHtml(),renderActiveMethodsAction()}function UpdatePaymentMethods(){var e=$J(".refill-sih-balance").find(".payment-methods").find(".payment-methods__item");sih_app_global_service.A.getSubscribeAdsMethods().then((function(t){e.each((function(e,n){var i=$J(n),r=i.find(".payment-methods__item_text"),a=getFilterParams(i.data("method")),o=getFilterMethods(t,a);if(o.length){i.removeClass("hidden");var s=o.map((function(e){return e.title})).filter((function(e){return e}));if(!s.length)return;if(s.length<=2){var l=s.join(",");r.text(l)}else{var c=s.slice(0,2).join(","),d=s.slice(2,s.length),u="".concat(c," ").concat(SIHLang.refillBalance.and," ").concat(d.length," ").concat(SIHLang.refillBalance.more_currencies);r.text(u)}}else i.addClass("hidden")}))}))}function paymentMethods_loadHtml(){var e=$J(".refill-sih-balance").find(".refill-sih-balance__payment-methods"),t='\n    <div class="payment-methods">\n      <div class="payment-methods__item hidden" data-method="bank">\n        <div class="sih-modal__row justify-between items-center">\n          <div class="sih-modal__row items-center gap-20">\n            <div class="payment-methods__icon">\n              <svg width="20" height="16" viewBox="0 0 20 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path\n                  d="M18 0H2C1.46957 0 0.960859 0.210714 0.585786 0.585786C0.210714 0.960859 0 1.46957 0 2V14C0 14.5304 0.210714 15.0391 0.585786 15.4142C0.960859 15.7893 1.46957 16 2 16H18C18.5304 16 19.0391 15.7893 19.4142 15.4142C19.7893 15.0391 20 14.5304 20 14V2C20 1.46957 19.7893 0.960859 19.4142 0.585786C19.0391 0.210714 18.5304 0 18 0ZM18 7H2V4H18V7Z"\n                  fill="white"\n                />\n              </svg>\n            </div>\n\n            <div class="sih-modal__column gap-5">\n              <span class="sih-modal__text sih-modal__text_white sih-modal__text_lg sih-modal__text_extra-bold"\n                >'.concat(SIHLang.refillBalance.bank_title,'</span\n              >\n              <span class="payment-methods__item_text sih-modal__text sih-modal__text_md"></span>\n            </div>\n          </div>\n\n          <div class="sih-modal__row">\n            <svg width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                d="M1.38492 0.229989L6.7189 5.37768C6.91087 5.55355 7 5.76325 7 6C7 6.23675 6.90402 6.45321 6.7189 6.62909L1.38492 11.77C1.23408 11.9188 1.04211 12 0.815866 12C0.356513 12 -8.1477e-07 11.6483 -8.20094e-07 11.2018C-8.22675e-07 10.9853 0.0822717 10.7756 0.246816 10.6201L5.05289 6.00676L0.246816 1.37993C0.0891276 1.23112 -9.41494e-07 1.02142 -9.44156e-07 0.798196C-9.4948e-07 0.351748 0.356513 7.92228e-08 0.815866 7.37451e-08C1.03526 7.11288e-08 1.23408 0.0811725 1.38492 0.229989Z"\n                fill="#6F7F8A"\n              />\n            </svg>\n          </div>\n        </div>\n      </div>\n      <div class="payment-methods__item hidden" data-method="crypt">\n        <div class="sih-modal__row justify-between items-center">\n          <div class="sih-modal__row items-center gap-20">\n            <div class="payment-methods__icon">\n              <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path\n                  d="M12.24 8.55967C11.93 9.79967 10 9.16967 9.4 8.99967L9.95 6.81967C10.57 6.99967 12.56 7.25967 12.24 8.55967ZM9.13 10.1197L8.53 12.5297C9.27 12.7197 11.56 13.4497 11.9 12.0897C12.26 10.6697 9.87 10.2997 9.13 10.1197ZM19.7 12.4197C18.36 17.7797 12.94 21.0397 7.58 19.6997C2.22 18.3597 -1.037 12.9397 0.300001 7.57967C1.64 2.21967 7.06 -1.03633 12.42 0.299674C17.77 1.63967 21.03 7.05967 19.7 12.4197ZM12.21 6.04967L12.66 4.24967L11.56 3.99967L11.12 5.72967C10.83 5.65967 10.54 5.58967 10.24 5.52967L10.68 3.75967L9.59 3.49967L9.14 5.28967C8.9 5.22967 8.66 5.17967 8.44 5.11967L6.93 4.73967L6.63 5.90967C6.63 5.90967 7.45 6.09967 7.43 6.10967C7.88 6.21967 7.96 6.49967 7.94 6.74967L6.71 11.6797C6.66 11.8197 6.5 11.9997 6.21 11.9497C6.22 11.9597 5.41 11.7497 5.41 11.7497L4.87 12.9997L6.29 13.3597C6.56 13.4297 6.82 13.4997 7.08 13.5597L6.62 15.3797L7.72 15.6597L8.17 13.8497C8.47 13.9297 8.76 13.9997 9.04 14.0797L8.59 15.8697L9.69 16.1497L10.15 14.3297C12 14.6797 13.42 14.5397 14 12.8497C14.5 11.4997 14 10.6997 13 10.1897C13.72 9.99967 14.26 9.54967 14.41 8.56967C14.61 7.23967 13.59 6.52967 12.21 6.04967Z"\n                  fill="white"\n                />\n              </svg>\n            </div>\n\n            <div class="sih-modal__column gap-5">\n              <span class="sih-modal__text sih-modal__text_white sih-modal__text_lg sih-modal__text_extra-bold"\n                >').concat(SIHLang.refillBalance.crypt_title,'</span\n              >\n              <span class="payment-methods__item_text sih-modal__text sih-modal__text_md"></span>\n            </div>\n          </div>\n\n          <div class="sih-modal__row">\n            <svg width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                d="M1.38492 0.229989L6.7189 5.37768C6.91087 5.55355 7 5.76325 7 6C7 6.23675 6.90402 6.45321 6.7189 6.62909L1.38492 11.77C1.23408 11.9188 1.04211 12 0.815866 12C0.356513 12 -8.1477e-07 11.6483 -8.20094e-07 11.2018C-8.22675e-07 10.9853 0.0822717 10.7756 0.246816 10.6201L5.05289 6.00676L0.246816 1.37993C0.0891276 1.23112 -9.41494e-07 1.02142 -9.44156e-07 0.798196C-9.4948e-07 0.351748 0.356513 7.92228e-08 0.815866 7.37451e-08C1.03526 7.11288e-08 1.23408 0.0811725 1.38492 0.229989Z"\n                fill="#6F7F8A"\n              />\n            </svg>\n          </div>\n        </div>\n      </div>\n      <div class="payment-methods__item hidden" data-method="wallet">\n        <div class="sih-modal__row justify-between items-center">\n          <div class="sih-modal__row items-center gap-20">\n            <div class="payment-methods__icon">\n              <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path\n                  d="M14 0H4C1.79 0 0 1.79 0 4V14C0 16.21 1.79 18 4 18H16C17.11 18 18 17.11 18 16V6C18 4.9 17.11 4 16 4V2C16 0.9 15.11 0 14 0ZM14 2V4H4C3.27 4 2.59 4.2 2 4.54V4C2 2.9 2.9 2 4 2M12.5 12.5C11.67 12.5 11 11.83 11 11C11 10.17 11.67 9.5 12.5 9.5C13.33 9.5 14 10.17 14 11C14 11.83 13.33 12.5 12.5 12.5Z"\n                  fill="white"\n                />\n              </svg>\n            </div>\n\n            <div class="sih-modal__column gap-5">\n              <span class="sih-modal__text sih-modal__text_white sih-modal__text_lg sih-modal__text_extra-bold"\n                >').concat(SIHLang.refillBalance.wallet_title,'</span\n              >\n              <span class="payment-methods__item_text sih-modal__text sih-modal__text_md"></span>\n            </div>\n          </div>\n\n          <div class="sih-modal__row">\n            <svg width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                d="M1.38492 0.229989L6.7189 5.37768C6.91087 5.55355 7 5.76325 7 6C7 6.23675 6.90402 6.45321 6.7189 6.62909L1.38492 11.77C1.23408 11.9188 1.04211 12 0.815866 12C0.356513 12 -8.1477e-07 11.6483 -8.20094e-07 11.2018C-8.22675e-07 10.9853 0.0822717 10.7756 0.246816 10.6201L5.05289 6.00676L0.246816 1.37993C0.0891276 1.23112 -9.41494e-07 1.02142 -9.44156e-07 0.798196C-9.4948e-07 0.351748 0.356513 7.92228e-08 0.815866 7.37451e-08C1.03526 7.11288e-08 1.23408 0.0811725 1.38492 0.229989Z"\n                fill="#6F7F8A"\n              />\n            </svg>\n          </div>\n        </div>\n      </div>\n    </div>\n  ');e.find(".payment-methods").length||e.append(t)}function renderActiveMethodsAction(){$J(".refill-sih-balance").find(".payment-methods").find(".payment-methods__item").each((function(e,t){$J(t).off("click").click((function(){var e=$J(this).data("method");sih_app_global_service.A.getSubscribeAdsMethods().then((function(t){renderMethodList(getGroupMethods(getFilterMethods(t,getFilterParams(e)),GROUP_METHODS[e]),e,"main")}))}))}))}function renderMethodList(e,t,n){var i=$J(".refill-sih-balance").find(".refill-sih-balance__inner"),r=i.find(".refill-sih-balance__tab"),a=$J('\n    <div\n      class="refill-sih-balance__tab '.concat(t,' sih-modal__column"\n      data-title="').concat(t,'"\n      data-prev-title="').concat(n,'"\n    >\n      <div class="sih-modal__column mb-35">\n        <span class="sih-modal__title text-capitalize"\n          >').concat(SIHLang.refillBalance["".concat(t,"_title")]?SIHLang.refillBalance["".concat(t,"_title")]:t,'</span\n        >\n      </div>\n      <div class="refill-sih-balance__tab-content"></div>\n    </div>\n  '));e.sort((function(e,t){Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]);var n=groupSort(e,"title"),i=groupSort(t,"title");return n[0].local_title===i[0].local_title?0:n[0].local_title<i[0].local_title?-1:1})).forEach((function(e){if(Array.isArray(e)||(e=[e]),e.length>1){var n=$J('\n        <a\n          href="javascript:void(0)"\n          class="refill-sih-balance__method refill-sih-balance__new-tab sih-modal__row items-center justify-between"\n        >\n          <span class="sih-modal__text text-capitalize sih-modal__text_lg sih-modal__text_extra-bold"\n            >'.concat(e[0].local_title,'</span\n          >\n          <svg width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path\n              d="M1.38492 0.229989L6.7189 5.37768C6.91087 5.55355 7 5.76325 7 6C7 6.23675 6.90402 6.45321 6.7189 6.62909L1.38492 11.77C1.23408 11.9188 1.04211 12 0.815866 12C0.356513 12 -8.1477e-07 11.6483 -8.20094e-07 11.2018C-8.22675e-07 10.9853 0.0822717 10.7756 0.246816 10.6201L5.05289 6.00676L0.246816 1.37993C0.0891276 1.23112 -9.41494e-07 1.02142 -9.44156e-07 0.798196C-9.4948e-07 0.351748 0.356513 7.92228e-08 0.815866 7.37451e-08C1.03526 7.11288e-08 1.23408 0.0811725 1.38492 0.229989Z"\n              fill="#6F7F8A"\n            />\n          </svg>\n        </a>\n      '));a.find(".refill-sih-balance__tab-content").append(n),n.off("click").click((function(){i.find(".refill-sih-balance__tab").hide(),renderMethodList(e,e[0].local_title,t)}))}else a.find(".refill-sih-balance__tab-content").append('\n        <a\n          href="javascript:void(0)"\n          class="refill-sih-balance__method refill-sih-balance__payment-link sih-modal__row"\n          data-payment-id="'.concat(e[0].id,'"\n        >\n          <span class="sih-modal__text sih-modal__text_capitalize sih-modal__text_lg sih-modal__text_extra-bold"\n            >').concat(e[0].title,"</span\n          >\n        </a>\n      "))})),r.hide();var o=i.find(".refill-sih-balance__tab.".concat(t));o.length?(o.remove(),i.append(a)):i.append(a),goToPaymentAction()}function goToPaymentAction(){var e=$J(".refill-sih-balance");e.find(".refill-sih-balance__payment-link").each((function(t,n){$J(n).off("click").click((function(){ShowRefillLoader();var t=$J(this).data("payment-id"),n=+e.attr("data-refill-amount"),i={paymentId:t,amount:Math.ceil(1e3*(.01*n+n))/1e3};sih_app_global_service.A.getLoginSihAppUser().then((function(e){CloseRefillSIHBalance(),OpenEmailTabInModal(i,e.user.email)}))}))}))}function getFilterParams(e){var t={},n=utils.zc.get("SIH_REFILL_BALANCE")||{},i="rus"===(n.country?n.country:"usa")?"rub":"usd";switch(e){case"crypt":t={payment_system:"cryptomus"};break;case"bank":t={method_name:GROUP_METHODS[e],currency:i};break;case"wallet":t={method_name:GROUP_METHODS[e],currency:i}}return t}function getFilterMethods(e,t){return e&&e.length&&t?e.reduce((function(e,n){return e.push(n),Object.entries(t).forEach((function(t){var n=paymentMethods_slicedToArray(t,2),i=n[0],r=n[1];e=Array.isArray(r)?e.filter((function(e){return e.is_enabled&&r.includes(e[i])})):e.filter((function(e){return e.is_enabled&&e[i]===r}))})),e}),[]):[]}function getGroupMethods(e,t){return t.map((function(t){return e.map((function(e){if(e.method_name.match(t))return e.local_title=t,e})).filter((function(e){return e}))})).filter((function(e){return e.length}))}function groupSort(e,t){return e.sort((function(e,n){return e[t]===n[t]?0:e[t]<n[t]?-1:1}))}var Constants=__webpack_require__(1029);function LoadSelectCountry(){selectCountry_loadHtml()}function selectCountry_loadHtml(){var e=$J(".refill-sih-balance").find(".refill-sih-balance__select-country-outer");e.find("#refill-sih-balance__select-country").length||e.append('<select id="refill-sih-balance__select-country"></select>'),renderSelectCountry()}function renderSelectCountry(){var e=$J(".refill-sih-balance").find("#refill-sih-balance__select-country");$J.each(Constants.A.countries,(function(t,n){e.append('<option class="flag-icon flag-icon-'.concat(t,' flag-icon-squared" data-country="').concat(t,'">\n        <span>').concat(n,"</span>\n      </option>"))})),$J.widget("custom.selectMenuWithIcons",$J.ui.selectmenu,{_renderItem:function(e,t){var n=$J(t.element).attr("data-country"),i=$J("<li>",{class:"refill-sih-balance__select-option",value:t.element.attr("value")}).attr("data-country","".concat(n)),r=$J("<span>",{class:t.element.attr("class")}),a=$J("<span>",{text:t.label});return a.prepend(r),i.append(a).appendTo(e)}}),$J("#refill-sih-balance__select-country").selectMenuWithIcons({position:{my:"left top",at:"left bottom+10",using:function(e,t){$J(this).css(e),$J(this).addClass("refill-sih-balance__widget_content")}}}),setCountryButtonActiveState(),setCountryOptionActiveState(),changeCountry()}function setCountryButtonActiveState(){var e=utils.zc.get("SIH_REFILL_BALANCE")||{},t=e.country?e.country:"usa",n=$J("#refill-sih-balance__select-country-button").find(".ui-selectmenu-text");n.before('<span class="flag-icon flag-icon-'.concat(t,' flag-icon-squared"></span')),n.text(Constants.A.countries[t])}function setCountryOptionActiveState(){$J("#refill-sih-balance__select-country-button").click((function(){var e=utils.zc.get("SIH_REFILL_BALANCE")||{},t=e.country?e.country:"usa";$J("#refill-sih-balance__select-country-menu").find(".refill-sih-balance__select-option").each((function(e,n){var i=$J(n),r=i.find(".ui-menu-item-wrapper");r.removeClass("ui-state-active"),i.data("country")===t&&r.addClass("ui-state-active")}))}))}function changeCountry(){$J("#refill-sih-balance__select-country-button").click((function(){var e=$J(this);$J(".refill-sih-balance__widget_content").find(".refill-sih-balance__select-option").each((function(t,n){$J(n).off("click").click((function(){var t=$J(this).data("country");e.find(".flag-icon").remove();var n=utils.zc.get("SIH_REFILL_BALANCE")||{};n.country=t,utils.zc.set("SIH_REFILL_BALANCE",n),setCountryButtonActiveState(),UpdatePaymentMethods(),SetRefillAmount()}))}))}))}function refillSihBalance_LoadRefillSIHBalance(){refillSihBalance_loadHtml(),LoadSelectCountry(),LoadPaymentMethods(),modalActionListeners()}function SetRefillAmount(){var e=$J(".refill-sih-balance"),t=+e.attr("data-refill-amount"),n=utils.zc.get("SIH_REFILL_BALANCE")||{},i="rus"===(n.country?n.country:"usa")?5:1,r=currency_service.A.getPriceFromCurrency(t,i).text;e.find(".refill-sih-balance__refill-amount").text(r)}function ShowRefillLoader(){var e=$J(".refill-sih-balance");e.find(".refill-sih-balance__inner").hide(),e.find(".sih-modal__inner.sih-loader").css("display","flex").show()}function HideRefillLoader(){var e=$J(".refill-sih-balance");e.find(".refill-sih-balance__inner").css("display","flex").show(),e.find(".sih-modal__inner.sih-loader").hide()}function CloseRefillSIHBalance(){$J(".refill-sih-balance").hide().remove(),$J("body").css("overflow","auto"),refillSihBalance_LoadRefillSIHBalance()}function refillSihBalance_loadHtml(){var e=$J("body"),t=$J('\n    <div class="refill-sih-balance">\n      <div class="refill-sih-balance__fade"></div>\n      <div class="sih-modal sih-global refill-sih-balance__modal">\n        <div class="refill-sih-balance__close"></div>\n        <div class="refill-sih-balance__content">\n          <div class="sih-modal__row gap-10 sih-modal__back sih-modal__back-info mb-20">\n            <span class="sih-modal__back_icon"></span>\n            <span class="sih-modal__text sih-modal__text_md">'.concat(SIHLang.subscribeAds.modal.back,'</span>\n          </div>\n          <div class="sih-modal__inner refill-sih-balance__inner">\n            <div class="refill-sih-balance__tab sih-modal__column gap-20" data-title="main">\n              <div class="sih-modal__column">\n                <span class="sih-modal__title">').concat(SIHLang.refillBalance.title,'</span>\n                <div class="sih-modal__row refill-sih-balance__subtitle gap-5">\n                  <span>').concat(SIHLang.refillBalance.subtitle,'</span>\n                  <span class="refill-sih-balance__refill-amount"></span>\n                </div>\n              </div>\n\n              <div class="sih-modal__column gap-10">\n                <span class="sih-modal__text sih-modal__text_lg">').concat(SIHLang.refillBalance.payment_country,':</span>\n                <div class="sih-modal__row refill-sih-balance__select-country-outer"></div>\n              </div>\n\n              <div class="sih-modal__column">\n                <span class="sih-modal__text sih-modal__text_lg">').concat(SIHLang.refillBalance.payment_method,':</span>\n                <div class="sih-modal__row refill-sih-balance__payment-methods mt-10"></div>\n              </div>\n            </div>\n          </div>\n          <div class="sih-modal__inner sih-loader">\n            <div class="sih-logo-loader"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  '));e.find(".refill-sih-balance").length||e.append(t);var n=utils.zc.get("SIH_REFILL_BALANCE")||{};n&&n.readRefillTerms||renderInfoMessage(t)}function renderInfoMessage(e){var t=e.find(".refill-sih-balance__modal"),n=$J('\n    <div\n      class="refill-sih-balance__info-message sih-modal__column w-100per h-100per absolute left-0 bottom-0 justify-end bg-glass"\n    >\n      <div class="sih-modal__column bg-main gap-15 px-36 py-36 items-start rounded-b-8">\n        <span class="title">'.concat(SIHLang.refillBalance.info_message.title,'</span>\n        <span class="sih-modal__text sih-modal__text_md">').concat(SIHLang.refillBalance.info_message.text_1,'</span>\n        <span class="sih-modal__text sih-modal__text_md">').concat(SIHLang.refillBalance.info_message.text_2,'</span>\n        <div class="sih-modal__text sih-modal__text_md">\n          ').concat(SIHLang.refillBalance.info_message.text_3,'\n          <a\n            href="https://sih.app/user/subscription"\n            target="_blank"\n            class="sih-modal__text_blue text-decoration-underline hover-opacity-8"\n            >https://sih.app/user/subscription</a\n          >\n        </div>\n        <div class="sih-modal__row items-center gap-20">\n          <a href="javascript:void(0)" class="close-info-message sih-modal__button sih-modal__button_blue py-16 px-24"\n            >').concat(SIHLang.refillBalance.info_message.btn_text,'</a\n          >\n          <label class="sih-modal__refill-terms" for="refill-terms">\n            <input type="checkbox" name="refill-terms" id="refill-terms" class="sih-modal__input_hidden" />\n            <label class="fake-checkbox" for="refill-terms"></label>\n            <span class="sih-modal__text sih-modal__text_md">').concat(SIHLang.refillBalance.info_message.refill_terms,"</span>\n          </label>\n        </div>\n      </div>\n    </div>\n  ")),i=t.find(".refill-sih-balance__info-message");i.length?i.show():t.append(n),t.find(".close-info-message").click((function(){t.find(".refill-sih-balance__info-message").hide()})),n.find("#refill-terms").change((function(){var e=$J(this).is(":checked"),t=utils.zc.get("SIH_REFILL_BALANCE")||{};t.readRefillTerms=e,utils.zc.set("SIH_REFILL_BALANCE",t)}))}function modalActionListeners(){closeModalListenerAction(),goToBackModal()}function closeModalListenerAction(){var e=$J(".refill-sih-balance");e.find(".refill-sih-balance__close").off("click").click((function(){CloseRefillSIHBalance()})),e.find(".refill-sih-balance__fade").off("click").click((function(){CloseRefillSIHBalance()}))}function goToBackModal(){var e=$J(".refill-sih-balance"),t=e.find(".refill-sih-balance__inner");e.find(".sih-modal__back").off("click").click((function(){var n=t.find(".refill-sih-balance__tab:visible"),i=n.data("prev-title");i?(n.hide(),t.find(".refill-sih-balance__tab").each((function(e,t){var n=$J(t);n.data("title")===i&&n.css("display","flex").show()}))):e.hide()}))}function setDefaultRefillTab(){$J(".refill-sih-balance").find(".refill-sih-balance__tab").each((function(e,t){var n=$J(t);"main"===n.data("title")?n.css("display","flex").show():n.hide()}))}var notificationPanel_debounce=null;function notificationPanel_LoadNotificationPanel(){notificationPanel_loadHtml(),panelListenerActions()}function notificationPanel_loadHtml(){var e=$J("body"),t='\n    <div id="sih-notification-panel">\n      <div class="notification-panel__fade"></div>\n      <div class="notification-panel sih-global">\n        <div class="row justify-between px-24">\n          <div class="notification-panel__title row gap-16 items-baseline">\n            <span class="text fs-16">'.concat(SIHLang.notifications.title,'</span>\n          </div>\n\n          <div class="notification-panel__close"></div>\n        </div>\n        <div class="notification-panel__header">\n          <div class="filter row gap-8">\n            <label for="notification-panel__filter-success" class="filter__label">\n              <input\n                type="checkbox"\n                id="notification-panel__filter-success"\n                class="filter__input"\n                data-filter="success"\n                checked\n              />\n              <div class="filter__item success">\n                <div class="row w-6 h-6 rounded-50per bg-green"></div>\n                <div class="filter__count text fs-12 lh-12"></div>\n              </div>\n            </label>\n            <label for="notification-panel__filter-error" class="filter__label">\n              <input\n                type="checkbox"\n                id="notification-panel__filter-error"\n                class="filter__input"\n                data-filter="error"\n                checked\n              />\n              <div class="filter__item error">\n                <div class="row w-6 h-6 rounded-50per bg-red"></div>\n                <div class="filter__count text fs-12 lh-12"></div>\n              </div>\n            </label>\n          </div>\n        </div>\n        <div class="notification-panel__content column"></div>\n      </div>\n    </div>\n  ');e.find("#sih-notification-panel").length||e.append(t)}function panelListenerActions(){openPanelAction(),closePanelAction()}function openPanelAction(){var e=$J("#sih-notification-panel");$J("#sih-header-notifications").off("click").click((function(){$J("body").css("overflow","hidden"),e.css("display","flex"),setTimeout((function(){e.find(".notification-panel").css({transform:"translateX(0)"})}),100),renderLogItems().then((function(){UpdateHeaderNotificationIndicator(),setItemsCount(),filterAction(),initReadAllNotification(),manualLoadHistoryLogs()})),registerOpenNotificationClick()}))}function closePanelAction(){var e=$J("#sih-notification-panel");function t(){e.find(".notification-panel").css({transform:"translateX(100%)"}),setTimeout((function(){e.hide(),$J("body").css("overflow","auto")}),300)}e.find(".notification-panel__close").off("click").click((function(){t()})),e.find(".notification-panel__fade").off("click").click((function(){t()}))}function renderLogItems(){var e=$J("#sih-notification-panel"),t=e.find(".notification-panel__content");return e.find(".notification-panel__content").children().remove(),new Promise((function(e){SihAppGlobalService.getLogs().then((function(n){if(n)SihAppGlobalService.getUserSihApp().then((function(i){SihAppGlobalService.getLoginSihAppUser().then((function(r){if(r.success&&r.tfaNeed&&($J("#sih-notification-panel").find(".notification-panel__close").trigger("click"),$J("#sih-enter-password").attr("data-show-modal","notification-panel").show()),n.length&&i.success){var a=(new Date).toDateString();n.sort((function(e,t){return new Date(t.date).getTime()-new Date(e.date).getTime()})).forEach((function(e,n){t.append('\n                    <div class="notification-panel__group notification-panel__group-'.concat(n,'">\n                      <div class="notification-panel__date-splitter">\n                        <div class="notification-panel__date-splitter_text">\n                          ').concat(a===e.date?"".concat(SIHLang.notifications.today):e.date.slice(4,10),"\n                        </div>\n                      </div>\n                    </div>\n                  ")),e.items.sort((function(e,t){return t.createdAt-e.createdAt})).forEach((function(e){var i=new Date(e.createdAt).getHours(),r=new Date(e.createdAt).getMinutes(),a=SihAppGlobalService.getLogTemplateByGroup(e.data),o='\n                        <div\n                          class="notification-panel__item '.concat(e.isRead?"":"new",'"\n                          data-filter="').concat(e.data.success?"success":"error",'"\n                        >\n                          <div class="row items-center gap-14">\n                            <div class="row w-6 h-6 rounded-50per ').concat(e.data.success?"bg-green":"bg-red",'"></div>\n                            <div class="text text_grey">\n                              ').concat(i<10?"0".concat(i):i,":").concat(r<10?"0".concat(r):r,"\n                            </div>\n                          </div>\n\n                          ").concat(a,"\n                        </div>\n                      ");t.find(".notification-panel__group-".concat(n)).append(o)}))})),e()}else{var o='\n                <div class="column w-100per h-100per items-center justify-center">\n                  <div class="notification-panel__plug text">'.concat(SIHLang.notifications.no_notifications,"</div>\n                  ").concat(Array.isArray(n)?"":'\n                                            <div class="row items-center gap-5">\n                                                <span class="text">'.concat(SIHLang.notifications.missing_notifications,'</span>\n                                                <a id="upload-notification-logs" class="text text_blue hover-opacity-8" href="javascript:void(0)">').concat(SIHLang.notifications.download,"</a>\n                                            </div>\n                                        "),"\n                </div>\n              ");t.append(o),e()}}))}));else{var i='\n          <div class="column w-100per h-100per items-center justify-center">\n            <div class="notification-panel__plug text">'.concat(SIHLang.notifications.no_notifications,"</div>\n          </div>\n        ");t.append(i),e()}}))}))}function setItemsCount(){var e=$J("#sih-notification-panel"),t=e.find(".notification-panel__header").find(".filter"),n=t.find(".filter__item.success").find(".filter__count"),i=t.find(".filter__item.error").find(".filter__count"),r=e.find(".notification-panel__content").find(".notification-panel__item"),a=0,o=0;r.each((function(e,t){switch($J(t).data("filter")){case"success":a+=1;break;case"error":o+=1}})),n.text(a),i.text(o)}function filterAction(){var e=$J("#sih-notification-panel").find(".filter").find(".filter__label"),t=[];e.each((function(n,i){$J(i).find(".filter__input").change((function(){e.each((function(e,n){var i=$J(n).find(".filter__input"),r=i.data("filter");if(i.is(":checked"))t.length&&t.includes(r)||t.push(r);else{var a=t.findIndex((function(e){return e===r}));-1!==a&&t.splice(a,1)}})),t.length||e.find(".filter__input").prop("checked",!0),sortItems(t)}))}))}function sortItems(e){$J("#sih-notification-panel").find(".notification-panel__content").find(".notification-panel__group").each((function(t,n){var i=$J(n),r=i.find(".notification-panel__item"),a=0;r.each((function(t,n){var i=$J(n),r=i.data("filter");e.length&&!e.includes(r)?i.hide():(a++,i.css("display","grid"))})),a?i.css("display","grid"):i.hide()}))}function initReadAllNotification(){var e=$J("#sih-notification-panel"),t=$J(".notification-panel__title"),n=t.find(".notification-panel__read");SihAppGlobalService.getLogs().then((function(i){if(i&&i.length)if(IsAllNotificationRead(i).isAllRead)n.length&&n.hide();else{if(n.length)n.css("display","flex").hide().fadeIn();else{var r='\n            <a href="javascript:void(0)" class="notification-panel__read text text_blue fs-12 hover-opacity-8"\n              >'.concat(SIHLang.notifications.mark_read,"</a\n            >\n          ");t.append(r)}e.find(".notification-panel__read").off("click").click((function(){var t=$J(this);SihAppGlobalService.readAllNotification().then((function(n){n&&n.length&&(UpdateHeaderNotificationIndicator(),t.hide(),e.find(".notification-panel__item").removeClass("new"))}))}))}else n.length&&n.hide()}))}function manualLoadHistoryLogs(){$J("#upload-notification-logs").off("click").click((function(){clearTimeout(notificationPanel_debounce),notificationPanel_debounce=setTimeout((function(){SihAppGlobalService.getUserOrdersHistory(!1).then((function(){renderLogItems().then((function(){UpdateHeaderNotificationIndicator(),setItemsCount(),filterAction(),initReadAllNotification(),manualLoadHistoryLogs()}))}))}),300)}))}var ALARM_NOTIFICATION_INTERVAL=null;function notifications_LoadNotifications(){notifications_loadHtml()}function notifications_UpdateHeaderNotificationIndicator(){var e=$J("#sih-header-notifications"),t=e.find(".sih-header-notifications__indicator");SihAppGlobalService.getLogs().then((function(n){if(n&&n.length){var i=notifications_IsAllNotificationRead(n),r=i.isAllRead,a=i.unreadNotification;r?(e.attr("data-sih-unread",!1),t.text("")):(e.attr("data-sih-unread",!0),t.text(a.length<=9?a.length:"9+"))}}))}function notifications_IsAllNotificationRead(e){var t=!0,n=Array.isArray(e)?e.reduce((function(e,n){return n.items.forEach((function(n){n.isRead||(e.push(n),t=!1)})),e}),[]):[];return{isAllRead:t,unreadNotification:n}}var notifications_loadHtml=function(){var e=$J("#global_actions").find(".sih-global-menu__icons");SihAppGlobalService.getLogs().then((function(t){var n=0;if(t&&t.length){var i=notifications_IsAllNotificationRead(t),r=i.isAllRead,a=i.unreadNotification;r||(n=a.length)}var o='\n      <a href="javascript:void(0)" id="sih-header-notifications" class="sih-header-notifications sih-global-menu__icon">\n        <span class="sih-header-notifications__inner">\n          <svg width="16" height="20" viewBox="0 0 16 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path\n              d="M8 20C9.1 20 10 19.1 10 18H6C6 19.1 6.89 20 8 20ZM14 14V9C14 5.93 12.36 3.36 9.5 2.68V2C9.5 1.17 8.83 0.5 8 0.5C7.17 0.5 6.5 1.17 6.5 2V2.68C3.63 3.36 2 5.92 2 9V14L0 16V17H16V16L14 14Z"\n              fill="currentColor"\n            />\n          </svg>\n          <span class="sih-header-notifications__indicator">\n            '.concat(0===n?"":n<=9?n:"9+","\n          </span>\n        </span>\n      </a>\n    ");e.find("#sih-header-notifications").length||e.append(o),loadNotificationIndication(),alarmNotification(),LoadNotificationPanel()}))};function loadNotificationIndication(){SihAppGlobalService.getLogs().then((function(e){e&&e.length&&(notifications_IsAllNotificationRead(e).isAllRead||$J("#sih-header-notifications").attr("data-sih-unread",!0))}))}function alarmNotification(){clearInterval(ALARM_NOTIFICATION_INTERVAL),ALARM_NOTIFICATION_INTERVAL=setInterval((function(){notifications_UpdateHeaderNotificationIndicator()}),1e4)}var RenderNotificationPopup=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if(e.status&&e.text){var i=$J("body"),r=$J('\n    <div id="sih-notification-popup" class="sih-global sih-notification-popup '.concat(e.status,'"></div>\n  ')),a=i.find("#sih-notification-popup"),o=a.find(".sih-notification-popup__content").length+1;if("error"===e.status.toLowerCase()){var s=$J('\n        <div class="sih-notification-popup__content" data-id="'.concat(o,'">\n          <span class="text">').concat(SIHLang.notification_popup.error,": ").concat(getLocalization(e.text),"</span>\n        </div>\n      "));a.length?a.append(s):r.append(s),setTimeout((function(){s.fadeOut(300,(function(){s.remove(),n()}))}),t*o)}if(a.length)a.fadeIn(300,(function(){}));else i.append(r),i.find("#sih-notification-popup").fadeIn(300,(function(){}))}},getLocalization=function(e){return"rate limit exceeded"===e.toLowerCase()?SIHLang.notification_popup.errors.rate_limit_exceeded:e};function site_steam_refill_service_typeof(e){return site_steam_refill_service_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},site_steam_refill_service_typeof(e)}function site_steam_refill_service_defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,site_steam_refill_service_toPropertyKey(i.key),i)}}function site_steam_refill_service_createClass(e,t,n){return t&&site_steam_refill_service_defineProperties(e.prototype,t),n&&site_steam_refill_service_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function site_steam_refill_service_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function site_steam_refill_service_defineProperty(e,t,n){return(t=site_steam_refill_service_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function site_steam_refill_service_toPropertyKey(e){var t=site_steam_refill_service_toPrimitive(e,"string");return"symbol"==site_steam_refill_service_typeof(t)?t:t+""}function site_steam_refill_service_toPrimitive(e,t){if("object"!=site_steam_refill_service_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=site_steam_refill_service_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var site_steam_refill_service_SiteSteamRefillService=site_steam_refill_service_createClass((function e(){site_steam_refill_service_classCallCheck(this,e),site_steam_refill_service_defineProperty(this,"checkSteamLogin",(function(e){return new Promise((function(t,n){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_STEAM_REFILL_CHECK",data:{steamUsername:e}},(function(e){var i;if(e.success&&"success"===(null==e||null===(i=e.response)||void 0===i?void 0:i.status))t(e);else{var r,a={status:"error",text:(null==e||null===(r=e.response)||void 0===r?void 0:r.message)||e.error};RenderNotificationPopup(a,5e3,(function(){})),n(e)}}))}))})),site_steam_refill_service_defineProperty(this,"initSteamRefill",(function(e){var t=e.steamUsername,n=e.amount,i=e.netAmount,r=e.currency,a=void 0===r?"RUB":r,o=e.transactionId,s=e.paymentMethod,l=void 0===s?"sbp":s;return new Promise((function(e,r){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_STEAM_REFILL_PAY",data:{steamUsername:t,amount:n,netAmount:i,currency:a,transactionId:o,paymentMethod:l}},(function(t){if(t.success)e(t);else{var n={status:"error",text:t.error};RenderNotificationPopup(n,5e3,(function(){})),r(t)}}))}))}))}));const site_steam_refill_service=new site_steam_refill_service_SiteSteamRefillService;function successRefillModal_typeof(e){return successRefillModal_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},successRefillModal_typeof(e)}function successRefillModal_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */successRefillModal_regeneratorRuntime=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),s=new R(i||[]);return r(o,"_invoke",{value:I(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var _="suspendedStart",m="suspendedYield",h="executing",f="completed",p={};function g(){}function v(){}function b(){}var y={};c(y,o,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(T([])));S&&S!==n&&i.call(S,o)&&(y=S);var w=b.prototype=g.prototype=Object.create(y);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(r,a,o,s){var l=u(e[r],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==successRefillModal_typeof(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return a=a?a.then(r,r):r()}})}function I(t,n,i){var r=_;return function(a,o){if(r===h)throw Error("Generator is already running");if(r===f){if("throw"===a)throw o;return{value:e,done:!0}}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var l=x(s,i);if(l){if(l===p)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===_)throw r=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=h;var c=u(t,n,i);if("normal"===c.type){if(r=i.done?f:m,c.arg===p)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=f,i.method="throw",i.arg=c.arg)}}}function x(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),p;var a=u(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(successRefillModal_typeof(t)+" is not iterable")}return v.prototype=b,r(w,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},C(A.prototype),c(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new A(d(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(w),c(w,l,"Generator"),c(w,o,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=T,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;L(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:T(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),p}},t}function successRefillModal_asyncGeneratorStep(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function successRefillModal_asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){successRefillModal_asyncGeneratorStep(a,i,r,o,s,"next",e)}function s(e){successRefillModal_asyncGeneratorStep(a,i,r,o,s,"throw",e)}o(void 0)}))}}var successRefillModal_RenderSuccessSteamRefillModal=null,_ref,successRefillModal_loadHtml=function(e){var t=$J("body"),n=e/1e3,i=CurrencyService.getPriceFromCurrency(n,1,1,!1,3).text,r=$J('\n    <div id="sih-success-steam-refill" class="sih-success-steam-refill">\n      <div class="sih-success-steam-refill__fade"></div>\n      <div class="sih-modal sih-global sih-success-steam-refill-modal">\n        <div class="sih-modal__close"></div>\n        <div class="sih-modal__inner sih-modal__column">\n          <div class="sih-success-steam-refill__header">\n            <span class="text fs-32 bold">Успешная оплата Steam</span>\n          </div>\n          <div class="sih-success-steam-refill__main">\n            <span class="text fs-16 lh-23">Ваш платёж принят в обработку. Пожалуйста ожидайте.</span>\n            <div class="mt-24 column items-center gap-16">\n              <span class="text fs-16 lh-23">А так же Вам начислен кешбэк на баланc SIH.</span>\n\n              <div class="row justify-center gap-6">\n                <span class="text text_green fs-32 lh-32">+</span>\n\n                <svg width="32" height="32" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <path\n                    fill-rule="evenodd"\n                    clip-rule="evenodd"\n                    d="M6.5 12C9.81371 12 12.5 9.31371 12.5 6C12.5 2.68629 9.81371 0 6.5 0C3.18629 0 0.5 2.68629 0.5 6C0.5 9.31371 3.18629 12 6.5 12ZM11.1008 5.21448H9.39789V6.33261H11.155C10.998 8.56154 9.27577 10.3585 7.08066 10.6309V9.49853C7.3568 9.45718 7.60984 9.38161 7.83979 9.27182C8.20868 9.09254 8.49526 8.84407 8.69953 8.5264C8.90379 8.20873 9.00592 7.83917 9.00592 7.41771C9.00592 6.93649 8.8794 6.5512 8.62636 6.26184C8.37636 5.96933 7.96631 5.73816 7.3962 5.56832L6.21177 5.21448C5.89775 5.12012 5.66757 5.0069 5.52123 4.8748C5.37794 4.7427 5.3063 4.58386 5.3063 4.39829C5.3063 4.2316 5.35813 4.0822 5.46178 3.9501C5.56544 3.81486 5.70568 3.71106 5.88251 3.63872C6.05933 3.56324 6.25903 3.52707 6.48158 3.53021C6.71328 3.5365 6.92365 3.58683 7.11267 3.68118C7.30169 3.77554 7.4587 3.90764 7.58369 4.07748C7.70869 4.24732 7.79253 4.4439 7.83521 4.66721L8.96477 4.45491C8.87026 4.03974 8.7102 3.68433 8.48459 3.38868C8.26204 3.09303 7.98155 2.86657 7.64315 2.70931C7.46847 2.6274 7.28097 2.56639 7.08066 2.52629V1.3691C9.12497 1.62283 10.7592 3.19876 11.1008 5.21448ZM5.97854 1.36214V2.50341C5.72582 2.54122 5.49564 2.60986 5.28801 2.70931C4.94655 2.86972 4.68131 3.10089 4.49229 3.40283C4.30632 3.70163 4.21333 4.05232 4.21333 4.45491C4.21333 5.3167 4.67521 5.89542 5.59898 6.19107L7.18584 6.7006C7.44193 6.78237 7.6279 6.88617 7.74375 7.01198C7.8596 7.13464 7.91753 7.29505 7.91753 7.4932C7.91753 7.77627 7.79558 8.01058 7.55168 8.19615C7.30779 8.37858 6.99682 8.46979 6.61877 8.46979C6.22549 8.46979 5.88708 8.35656 5.60355 8.1301C5.32307 7.9005 5.14014 7.59227 5.05478 7.20541L3.96639 7.38469C4.03041 7.82502 4.17827 8.20559 4.40998 8.5264C4.64473 8.84721 4.94503 9.09569 5.31087 9.27182C5.51782 9.37145 5.74038 9.44291 5.97854 9.48618V10.6379C3.75526 10.3907 2.00337 8.58154 1.845 6.33261H3.60211V5.21448H1.89916C2.24413 3.17934 3.90664 1.5925 5.97854 1.36214Z"\n                    fill="#3dc67d"\n                  />\n                </svg>\n\n                <span class="text text_green fs-32 lh-32 text-center">'.concat(i,'</span>\n              </div>\n            </div>\n            <div class="sih-success-steam-refill__preloader"></div>\n            <a href="https://sih.app/" target="_blank" class="mt-52 text text_blue fs-16 lh-16 hover-opacity-8"\n              >Воспользоваться балансом SIH.</a\n            >\n          </div>\n          <div class="sih-success-steam-refill__close-btn">Закрыть</div>\n        </div>\n      </div>\n    </div>\n  '));t.find(".sih-success-steam-refill").length||t.append(r)},successRefillModal_listenerActions=function(){closeModalAction()},closeModalAction=function(){var e=$J("#sih-success-steam-refill");e.on("click",".sih-success-steam-refill__fade, .sih-modal__close, .sih-success-steam-refill__close-btn",(function(){e.hide().remove()}))},renderUserInfo=null,_ref2;function steamRefill_typeof(e){return steamRefill_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},steamRefill_typeof(e)}function steamRefill_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */steamRefill_regeneratorRuntime=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),s=new R(i||[]);return r(o,"_invoke",{value:I(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var _="suspendedStart",m="suspendedYield",h="executing",f="completed",p={};function g(){}function v(){}function b(){}var y={};c(y,o,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(T([])));S&&S!==n&&i.call(S,o)&&(y=S);var w=b.prototype=g.prototype=Object.create(y);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(r,a,o,s){var l=u(e[r],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==steamRefill_typeof(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return a=a?a.then(r,r):r()}})}function I(t,n,i){var r=_;return function(a,o){if(r===h)throw Error("Generator is already running");if(r===f){if("throw"===a)throw o;return{value:e,done:!0}}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var l=x(s,i);if(l){if(l===p)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===_)throw r=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=h;var c=u(t,n,i);if("normal"===c.type){if(r=i.done?f:m,c.arg===p)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=f,i.method="throw",i.arg=c.arg)}}}function x(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),p;var a=u(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(steamRefill_typeof(t)+" is not iterable")}return v.prototype=b,r(w,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},C(A.prototype),c(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new A(d(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(w),c(w,l,"Generator"),c(w,o,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=T,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;L(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:T(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),p}},t}function steamRefill_asyncGeneratorStep(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function steamRefill_asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){steamRefill_asyncGeneratorStep(a,i,r,o,s,"next",e)}function s(e){steamRefill_asyncGeneratorStep(a,i,r,o,s,"throw",e)}o(void 0)}))}}var steamRefill_debounce=null,MIN_INPUT_REFILL_COUNT=50,MAX_INPUT_REFILL_COUNT=4e4,steamRefill_GetRefillHtmlContent=null,steamRefill_StartRefillActionListeners=function(){changeRefillAmountInputAction(),changeLoginInputAction(),clearInputAction(),setPresetAction(),changeTOSAction(),changePaymentAction(),payAction()},steamRefill_StartRefillPortConnection=function(){chrome.runtime.connect(SIHID,{name:"STEAM_REFILL_CONNECTION"}).onMessage.addListener(function(){var e=steamRefill_asyncToGenerator(steamRefill_regeneratorRuntime().mark((function e(t){return steamRefill_regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,RenderSuccessSteamRefillModal(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},addTooltips=function(e){e.find(".sih-steam-refill__tooltip-icon").tooltip({position:{my:"left top",at:"left+10 bottom"},classes:{"ui-tooltip":"sih-steam-refill__tooltip"},show:{delay:500,duration:0}}),e.find(".sih-steam-refill__tooltip-where-find").tooltip({content:$J('\n      <div class="column">\n        <span class="text text_white fs-20 lh-28 semi-bold">Как найти свой логин в Steam?</span>\n        <ul class="mt-12">\n          <li>Откройте клиент Steam. Нажмите на имя пользователя в правом верхнем углу главной страницы.</li>\n          <li>В выпадающем меню выберите пункт «Об аккаунте».</li>\n        </ul>\n        <img class="row mt-16" src="chrome-extension://'.concat(SIHID,'/assets/common/where-find-steam-refill.png" alt="" />\n      </div>\n    ')),position:{my:"left top",at:"left+10 bottom"},classes:{"ui-tooltip":"sih-global sih-steam-refill__tooltip sih-where-find"},show:{delay:700,duration:0}});var t=e.find(".sih-steam-refill-payment__faq");t.tooltip({content:$J('\n        <div class="column">\n          <ul>\n            <li>\n              Как правило, пополнение происходит мгновенно или в течение нескольких минут, однако в редких случаях\n              процесс пополнения может затянуться на час.\n            </li>\n            <li>\n              Если Вы НИКОГДА ранее не пополняли баланс аккаунта любыми способами, то в некоторых случаях это может\n              привести к смене региона Steam\n            </li>\n            <li>\n              Обращаем Ваше внимание на то, что пополнение происходит только по предоставленной Вами информации о логине\n              аккаунта. В случае предоставления неверных сведений, средства будут зачислены по ним и возврат средств\n              будет невозможен. Так же, любое пополнение аккаунта является невозвратным.\n            </li>\n          </ul>\n        </div>\n      '),position:{my:"center top",at:"center bottom+10"},classes:{"ui-tooltip":"sih-global sih-steam-refill__tooltip sih-faq"},show:{delay:700,duration:0}}).on("mouseenter",(function(e){t.not($J(this)).tooltip("close")})).on("mouseleave",(function(e,t){var n=e.target;t||(e.stopImmediatePropagation(),setTimeout((function(){0===$J(".ui-tooltip:hover").length&&$J(n).trigger("mouseleave",[!0])}),250))})),$J("body").on("mouseleave",".ui-tooltip",(function(e){t.tooltip(),t.tooltip("close")}))},changeRefillAmountInputAction=function(){var e=$J("#sih-steam-refill").find("#sih-steam-refill-input"),t=e.closest(".sih-steam-refill-form__input_outer").find(".sih-steam-refill-form__clear"),n=$J("#sih-steam-refill").find(".sih-steam-refill-form__rub-sign");e.on("keypress",(function(e){var t=e.which||e.keyCode;(t<48||t>57)&&e.preventDefault()})),e.on("input",(function(e){var i=$J(e.target);updateRubPosition(i);var r=i.val();n.toggleClass("hidden",!r),t.toggleClass("hidden",!r)})),e.on("paste",(function(t){var n=(t.originalEvent||t).clipboardData.getData("text/plain");n=n.replace(/[^0-9]/g,""),e.val(MAX_INPUT_REFILL_COUNT>=n?n:MAX_INPUT_REFILL_COUNT),t.preventDefault()})),e.on("focusout",(function(t){var n=t.target,i=$J(n).val();i=i.replace(/[^0-9]/g,""),validateRefillInput(e,i),e.val(MAX_INPUT_REFILL_COUNT>=i?i:MAX_INPUT_REFILL_COUNT),updateRubPosition(e),updatePaymentInfo()}))},changeLoginInputAction=function(){var e=$J("#sih-steam-refill").find("#sih-steam-refill-login"),t=e.closest(".sih-steam-refill-form__input_outer").find(".sih-steam-refill-form__clear"),n=e.closest(".sih-steam-refill-form__input_outer").find(".sih-refill-presets_login");e.on("keyup",(function(e){var i=$J(e.target).val();n.toggleClass("hidden",!!i),t.toggleClass("hidden",!i)})),e.on("paste",(function(t){var n=(t.originalEvent||t).clipboardData.getData("text/plain");n=n.replace(/[^a-zA-Z0-9._\- ]/g,""),e.val(n),t.preventDefault()})),e.on("focusout",(function(t){var n=t.target,i=$J(n).val();validateLoginInput(e,i)}))},clearInputAction=function(){var e=$J("#sih-steam-refill").find(".sih-steam-refill-form__clear"),t=$J("#sih-steam-refill").find(".sih-steam-refill-form__rub-sign");e.each((function(e,n){var i=$J(n);i.off("click").click((function(){var e=i.closest(".sih-steam-refill-form__item-block"),n=i.closest(".sih-steam-refill-form__input_outer"),r=n.find(".sih-steam-refill-form__input"),a=n.find(".sih-refill-presets_login"),o=e.find(".sih-alert-block"),s=e.find(".sih-steam-refill-form__error");r.val(""),a.removeClass("hidden"),n.removeClass("error"),i.addClass("hidden"),o.removeClass("active"),s.addClass("hidden"),"refill"===e.attr("data-name")&&t.addClass("hidden"),updatePaymentInfo()}))}))},setPresetAction=function(){var e=$J("#sih-steam-refill").find(".sih-refill-presets__item"),t=$J("#sih-steam-refill").find(".sih-steam-refill-form__rub-sign");e.each((function(e,n){var i=$J(n);i.off("click").click((function(e){var n=i.attr("data-value"),r=i.closest(".sih-steam-refill-form__item-block"),a=r.find(".sih-steam-refill-form__input"),o=i.closest(".sih-steam-refill-form__item-block").find(".sih-steam-refill-form__clear"),s=i.closest(".sih-steam-refill-form__item-block").find(".sih-refill-presets_login");a.val(n),n?(s.addClass("hidden"),o.removeClass("hidden"),"refill"===r.attr("data-name")&&(updateRubPosition(a),t.removeClass("hidden"))):(o.addClass("hidden"),s.removeClass("hidden"),"refill"===r.attr("data-name")&&t.addClass("hidden")),"refill"===r.attr("data-name")?(validateRefillInput(a,n),updatePaymentInfo()):validateLoginInput(a,n)}))}))},changeTOSAction=function(){var e=$J("#sih-steam-refill"),t=e.find("#sih-tos-steam-refill"),n=e.find("#sih-steam-refill-pay");t.off("change").change((function(e){var i=t.is(":checked");n.toggleClass("inactive",!i)}))},changePaymentAction=function(){$J("#sih-steam-refill").find(".sih-payment-method__input").on("change",(function(){updatePaymentInfo()}))},payAction=function(){var e=$J("#sih-steam-refill"),t=e.find("#sih-steam-refill-pay");t.off("click").click((function(n){clearTimeout(steamRefill_debounce),steamRefill_debounce=setTimeout(steamRefill_asyncToGenerator(steamRefill_regeneratorRuntime().mark((function n(){var i,r,a,o,s,l,c,d,u,_,m,h,f,p;return steamRefill_regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,i=e.find("#sih-steam-refill-input"),r=e.find("#sih-steam-refill-login"),a=e.find("#sih-steam-refill-total"),o=e.find(".sih-payment-method .sih-payment-method__input:checked"),s=+i.val(),l=r.val(),c=+a.attr("data-value"),d=o.attr("data-method"),u=validateRefillInput(i,s),_=validateLoginInput(r,l),!u&&!_){n.next=13;break}return n.abrupt("return");case 13:return t.addClass("animated"),n.next=16,SiteSteamRefillService.checkSteamLogin(l);case 16:return m=n.sent,h=m.response.transactionId,n.next=20,SiteSteamRefillService.initSteamRefill({steamUsername:l,amount:c,netAmount:s,transactionId:h,paymentMethod:d});case 20:f=n.sent,p=f.response.payUrl,chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_OPEN_TAB_SETTINGS",data:{url:p}},(function(){})),t.removeClass("animated"),n.next=30;break;case 26:n.prev=26,n.t0=n.catch(0),n.t0,t.removeClass("animated");case 30:case"end":return n.stop()}}),n,null,[[0,26]])}))),300)}))},validateRefillInput=function(e,t){var n,i=e.closest(".sih-steam-refill-form__input_outer"),r=e.closest(".sih-steam-refill-form__item-block").find(".sih-info-block"),a=e.closest(".sih-steam-refill-form__item-block").find(".sih-alert-block"),o=a.find(".sih-alert-block__message");if(t<MIN_INPUT_REFILL_COUNT){var s=CurrencyService.getPriceFromCurrency(MIN_INPUT_REFILL_COUNT,5,5).text;n="Минимальная сумма пополнения ".concat(s),r.addClass("hidden"),a.addClass("active"),i.addClass("error"),o.text(n)}else if(t>MIN_INPUT_REFILL_COUNT&&t>MAX_INPUT_REFILL_COUNT){var l=CurrencyService.getPriceFromCurrency(MAX_INPUT_REFILL_COUNT,5,5).text;n="Максимальная сумма пополнения ".concat(l),r.addClass("hidden"),a.addClass("active"),i.addClass("error"),o.text(n)}else r.removeClass("hidden"),a.removeClass("active"),i.removeClass("error"),o.text("");return n},validateLoginInput=function(e,t){var n,i=e.closest(".sih-steam-refill-form__input_outer"),r=e.closest(".sih-steam-refill-form__item-block").find(".sih-info-block"),a=e.closest(".sih-steam-refill-form__item-block").find(".sih-alert-block"),o=e.closest(".sih-steam-refill-form__item-block").find(".sih-steam-refill-form__error"),s=a.find(".sih-alert-block__message");t||(n="Некорректный логин или email"),(t.length<3||t.length>150)&&(n="Некорректный логин или email");return/^[a-zA-Z0-9._\- ]+$/.test(t)||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||(n="Некорректный логин или email"),r.toggleClass("hidden",!!n),a.toggleClass("active",!!n),i.toggleClass("error",!!n),o.toggleClass("hidden",!n),s.text(n||""),n},updatePaymentInfo=function(){var e=$J("#sih-steam-refill"),t=e.find("#sih-steam-refill-input"),n=e.find("#sih-steam-refill-amount"),i=e.find("#sih-steam-refill-commission"),r=e.find("#sih-steam-refill-total"),a=e.find("#sih-steam-refill-cashback"),o="sbp"===e.find(".sih-payment-method .sih-payment-method__input:checked").attr("data-method")?.06:.08,s=+t.val(),l=s*o,c=s+l,d=.005*s,u=CurrencyService.getPriceFromCurrency(s,5,5).text,_=CurrencyService.getPriceFromCurrency(l,5,5).text,m=CurrencyService.getPriceFromCurrency(c,5,5).text,h=CurrencyService.getPriceFromCurrency(d,5,5).text;n.attr("data-value",s).text(s?"~ ".concat(u):u),i.attr("data-value",l).text(_),r.attr("data-value",c).text(m),a.attr("data-value",d).text(h)},updateRubPosition=function(e){var t=$J("#sih-steam-refill").find(".sih-steam-refill-form__rub-sign"),n=getTextWidth(e.val(),e.css("font"))+20;t.css("left",n+"px")},getTextWidth=function(e,t){var n=document.createElement("canvas").getContext("2d");return n.font=t,n.measureText(e).width};function refillModal_typeof(e){return refillModal_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},refillModal_typeof(e)}function refillModal_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */refillModal_regeneratorRuntime=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),s=new R(i||[]);return r(o,"_invoke",{value:I(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var _="suspendedStart",m="suspendedYield",h="executing",f="completed",p={};function g(){}function v(){}function b(){}var y={};c(y,o,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(T([])));S&&S!==n&&i.call(S,o)&&(y=S);var w=b.prototype=g.prototype=Object.create(y);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(r,a,o,s){var l=u(e[r],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==refillModal_typeof(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return a=a?a.then(r,r):r()}})}function I(t,n,i){var r=_;return function(a,o){if(r===h)throw Error("Generator is already running");if(r===f){if("throw"===a)throw o;return{value:e,done:!0}}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var l=x(s,i);if(l){if(l===p)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===_)throw r=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=h;var c=u(t,n,i);if("normal"===c.type){if(r=i.done?f:m,c.arg===p)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=f,i.method="throw",i.arg=c.arg)}}}function x(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),p;var a=u(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(refillModal_typeof(t)+" is not iterable")}return v.prototype=b,r(w,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},C(A.prototype),c(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new A(d(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(w),c(w,l,"Generator"),c(w,o,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=T,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;L(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:T(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),p}},t}function refillModal_asyncGeneratorStep(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function refillModal_asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){refillModal_asyncGeneratorStep(a,i,r,o,s,"next",e)}function s(e){refillModal_asyncGeneratorStep(a,i,r,o,s,"throw",e)}o(void 0)}))}}var refillModal_RenderSteamRefillModal=null,refillModal_loadHtml=null,refillModal_listenerActions=function(){refillModal_closeModalAction()},refillModal_closeModalAction=function(){var e=$J("#sih-steam-refill");e.on("click",".sih-steam-refill__fade, .sih-modal__close",(function(){e.hide().remove(),$J("body").css("overflow","auto")})),$J(document).off("keydown").keydown(function(){var t=refillModal_asyncToGenerator(refillModal_regeneratorRuntime().mark((function t(n){return refillModal_regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:27===n.keyCode&&(n.stopPropagation(),e.hide().remove(),$J("body").css("overflow","auto"));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},AVAILABLE_COUNTRY_CODE=null,steamRefill_RenderSteamRefillBtn=function(){steamRefill_loadHtml(),steamRefill_listenerActions(),window.disabledSteamRefillCashBackModal||StartRefillPortConnection()},steamRefill_loadHtml=function(){var e,t=$J("#global_header .content"),n=$J("#application_config").attr("data-userinfo"),i=n?null===(e=JSON.parse(n))||void 0===e?void 0:e.country_code:null;if(!disabledSteamRefillHeaderButton&&i&&AVAILABLE_COUNTRY_CODE.includes(i)){var r=$J('\n      <div class="sih-global sih-steam-refill-btn">\n        <div class="row gap-6 items-center">\n          <div class="sih-steam-refill-btn__icon row items-center">\n            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                fill-rule="evenodd"\n                clip-rule="evenodd"\n                d="M14.4336 12.7539C15.418 11.4258 16 9.78125 16 8C16 3.58203 12.418 0 8 0C3.58203 0 0 3.58203 0 8C0 12.418 3.58203 16 8 16C10.6367 16 12.9766 14.7227 14.4336 12.7539ZM7 4C7 3.44727 7.44922 3 8 3C8.55078 3 9 3.44727 9 4V7H12C12.3086 7 12.5859 7.14062 12.7695 7.36133C12.9141 7.53516 13 7.75781 13 8C13 8.55273 12.5508 9 12 9H9V12C9 12.5527 8.55078 13 8 13C7.44922 13 7 12.5527 7 12V9H4C3.44922 9 3 8.55273 3 8C3 7.44727 3.44922 7 4 7H7V4Z"\n                fill="currentColor"\n              />\n            </svg>\n          </div>\n\n          <span class="text text_white fs-14 lh-14">Пополнить Steam баланс</span>\n        </div>\n      </div>\n    ');t.find(".sih-steam-refill-btn").length||t.append(r)}},steamRefill_listenerActions=function(){$J("#global_header .content").find(".sih-steam-refill-btn").off("click").click((function(){RenderSteamRefillModal()}))};function actionMenu_typeof(e){return actionMenu_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},actionMenu_typeof(e)}function actionMenu_toConsumableArray(e){return actionMenu_arrayWithoutHoles(e)||actionMenu_iterableToArray(e)||actionMenu_unsupportedIterableToArray(e)||actionMenu_nonIterableSpread()}function actionMenu_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function actionMenu_unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return actionMenu_arrayLikeToArray(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?actionMenu_arrayLikeToArray(e,t):void 0}}function actionMenu_iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function actionMenu_arrayWithoutHoles(e){if(Array.isArray(e))return actionMenu_arrayLikeToArray(e)}function actionMenu_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function actionMenu_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */actionMenu_regeneratorRuntime=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),s=new R(i||[]);return r(o,"_invoke",{value:I(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var _="suspendedStart",m="suspendedYield",h="executing",f="completed",p={};function g(){}function v(){}function b(){}var y={};c(y,o,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(T([])));S&&S!==n&&i.call(S,o)&&(y=S);var w=b.prototype=g.prototype=Object.create(y);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(r,a,o,s){var l=u(e[r],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==actionMenu_typeof(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return a=a?a.then(r,r):r()}})}function I(t,n,i){var r=_;return function(a,o){if(r===h)throw Error("Generator is already running");if(r===f){if("throw"===a)throw o;return{value:e,done:!0}}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var l=x(s,i);if(l){if(l===p)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===_)throw r=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=h;var c=u(t,n,i);if("normal"===c.type){if(r=i.done?f:m,c.arg===p)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=f,i.method="throw",i.arg=c.arg)}}}function x(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),p;var a=u(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(actionMenu_typeof(t)+" is not iterable")}return v.prototype=b,r(w,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},C(A.prototype),c(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new A(d(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(w),c(w,l,"Generator"),c(w,o,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=T,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;L(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:T(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),p}},t}function actionMenu_asyncGeneratorStep(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function actionMenu_asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){actionMenu_asyncGeneratorStep(a,i,r,o,s,"next",e)}function s(e){actionMenu_asyncGeneratorStep(a,i,r,o,s,"throw",e)}o(void 0)}))}}var HEADER_ORDERS_TIMER_INTERVAL=null,HEADER_ORDERS_TIMESTAMPS=null,actionMenu_TEN_MINUTES=6e5,LoadActionMenu=null;function actionMenu_loadHtml(){return new Promise((function(e){var t=$J("#global_header");t.find("#global_actions").css("display","flex");t.find(".sih-global-menu").length||(t.find("#global_action_menu").before('\n      <div class="sih-global sih-global-menu">\n        <div class="sih-global-menu__icons sih-global-menu__row gap-5">\n          <div id="sih-header-timer" class="sih-global-menu__row">\n            <div class="sih-global-menu__spinner"></div>\n            <div id="sih-header-timer__count" class="pl-5 sih-text"></div>\n          </div>\n          <a href="javascript:void(0)" id="sih-header-orders" class="sih-global-menu__icon">\n            <svg width="20" height="20" viewBox="0 0 22 21" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                d="M2 17.4286C2 18.0714 2.25 18.7143 2.75 19.2286C3.25 19.7429 3.875 20 4.5 20V6C3.875 6 3.25 6.25714 2.75 6.77143C2.25 7.28571 2 7.92857 2 8.57143V17.4286ZM13.875 6H10.125C10.125 5.48571 10.25 4.82857 10.625 4.44286C11 4.05714 11.375 3.92857 12 3.92857C12.5 3.92857 13 4.05714 13.375 4.44286C13.625 4.82857 13.875 5.48571 13.875 6ZM5.75 6V20H18.25V6H15.75C15.75 4.97143 15.375 3.92857 14.625 3.15714C13.875 2.38571 13 2 12 2C11 2 10.125 2.38571 9.375 3.15714C8.625 3.92857 8.25 4.97143 8.25 6H5.75ZM19.5 20C20.125 20 20.75 19.7429 21.25 19.2286C21.75 18.7143 22 18.0714 22 17.4286V8.57143C22 7.92857 21.75 7.28571 21.25 6.77143C20.75 6.25714 20.125 6 19.5 6V20Z"\n                fill="currentColor"\n              />\n            </svg>\n          </a>\n          <a href="javascript:void(0)" id="sih-header-cart" class="sih-global-menu__icon">\n            <svg width="20" height="20" viewBox="0 0 22 19" xmlns="http://www.w3.org/2000/svg">\n              <path\n                fill-rule="evenodd"\n                clip-rule="evenodd"\n                d="M16.21 7H21C21.55 7 22 7.45 22 8L21.97 8.27L19.43 17.54C19.19 18.38 18.42 19 17.5 19H4.5C3.58 19 2.81 18.38 2.58 17.54L0.04 8.27C0 8.18 0 8.09 0 8C0 7.45 0.45 7 1 7H5.79L10.17 0.45C10.36 0.16 10.68 0 11 0C11.32 0 11.64 0.16 11.83 0.44L16.21 7ZM13.8 7L11 2.8L8.2 7H13.8Z"\n                fill="currentColor"\n              />\n            </svg>\n          </a>\n        </div>\n      </div>\n    '),t.find(".sih-global-menu").css("display","flex").hide().fadeIn("slow")),setTimeout((function(){return e()}),300)}))}function changeSteamInstallButton(){return new Promise((function(e){$J("#global_header").find(".header_installsteam_btn").find(".header_installsteam_btn_content").addClass("sih_header_installsteam_btn_content").text("&nbsp;"),setTimeout((function(){e()}),300)}))}function renderCartCount(){var e=$J("#sih-header-cart");SihAppGlobalService.getAllBuyStack().then((function(t){var n=SihAppGlobalService.getFilterItemsByStatus(t).length;n&&!e.find(".sih-global-menu__counter").length&&(e.append('<span class="sih-global-menu__counter">'.concat(n,"</span>")),e.addClass("active")),e.find(".sih-global-menu__counter").css("display","flex").hide().fadeIn()}))}function renderActiveOrdersCount(){var e=$J("#sih-header-orders");SihAppGlobalService.getAllBuyStack().then((function(t){SihAppGlobalService.getUserOrdersHistory().then((function(n){var i=getJoinedOrders(t,n),r=SihAppGlobalService.getFilterItemsByStatus(i,["new","pending","created","processing","sent"]).length;r&&!e.find(".sih-global-menu__counter").length&&e.append('<span class="sih-global-menu__counter">'.concat(r,"</span>")),r&&(e.find(".sih-global-menu__counter").css("display","flex").hide().fadeIn(),updateHeaderTimer())}))}))}function getJoinedOrders(e,t){return t.success&&!t.tfaNeed&&t.orders.data.length?[].concat(actionMenu_toConsumableArray(e),actionMenu_toConsumableArray(t.orders.data)):e}function actionMenu_ChangeCartCountHeaderMenu(){var e=$J("#sih-header-cart"),t=e.find(".sih-global-menu__counter");sih_app_global_service.A.getAllBuyStack().then((function(n){var i=sih_app_global_service.A.getFilterItemsByStatus(n).length;i&&!t.length?(e.append('<span class="sih-global-menu__counter">'.concat(i,"</span>")),e.addClass("active").find(".sih-global-menu__counter").css("display","flex").hide().fadeIn()):i&&t.length?(e.addClass("active"),t.text(i),t.css("display","flex").fadeIn()):!i&&t.length&&(t.css("display","flex").fadeOut(),e.removeClass("active"))}))}function ChangeOrdersCountHeaderMenu(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=$J("#sih-header-orders"),n=t.find(".sih-global-menu__counter"),i=$J("#sih-header-timer");$J(".sih-global-menu");sih_app_global_service.A.getAllBuyStack().then((function(r){sih_app_global_service.A.getUserOrdersHistory(e).then((function(e){var a=getJoinedOrders(r,e),o=sih_app_global_service.A.getFilterItemsByStatus(a,["new","pending","created","processing","sent"]).length;o&&!n.length?(t.append('<span class="sih-global-menu__counter">'.concat(o,"</span>")),t.addClass("active").find(".sih-global-menu__counter").css("display","flex").hide().fadeIn(),updateHeaderTimer()):o&&n.length?(t.addClass("active"),n.text(o),n.is(":visible")||n.css("display","flex").fadeIn(),updateHeaderTimer()):!o&&n.length&&(t.removeClass("active"),n.css("display","flex").fadeOut(),i.css("display","flex").fadeOut())}))}))}function updateHeaderTimer(){var e=$J("#sih-header-orders"),t=e.find(".sih-global-menu__counter"),n=$J("#sih-header-timer"),i=$J("#sih-header-timer__count"),r=$J(".sih-global-menu__spinner");n.is(":visible")||n.css("display","flex").fadeIn(),r.is(":visible")||r.css("display","flex").fadeIn(),e.is(":visible")||e.css("display","flex").fadeIn(),clearInterval(HEADER_ORDERS_TIMER_INTERVAL),HEADER_ORDERS_TIMER_INTERVAL=setInterval((function(){sih_app_global_service.A.getAllBuyStack().then((function(r){sih_app_global_service.A.getUserOrdersHistory().then((function(a){var o=getJoinedOrders(r,a),s=sih_app_global_service.A.getFilterItemsByStatus(o,["new","pending","created","processing","sent"]);if(s.length){var l=s.find((function(e){return e.finishOrderAt})),c=s.map((function(e){return e.createdAt||new Date(e.created_at).getTime()})),d=sih_app_global_service.A.getFilterItemsByStatus(s,"new");if(d.length&&d.forEach((function(e){new Date(e.created_at).getTime()+actionMenu_TEN_MINUTES-Date.now()<0&&(sih_app_global_service.A.cancelSihAppOrder(e.id),sih_app_global_service.A.updateItemLocalHistoryOrders(e.id).then((function(e){e&&e.success&&ChangeOrdersCountHeaderMenu()})))})),l){var u=l.finishOrderAt-Date.now(),_=new Date(u).toISOString().slice(14,19);i.fadeIn().text(_),n.is(":visible")||(n.css("display","flex").fadeIn(),e.css("display","flex").fadeIn())}else JSON.stringify(HEADER_ORDERS_TIMESTAMPS)!==JSON.stringify(c)&&(HEADER_ORDERS_TIMESTAMPS=c,i.fadeOut().text(""),actionMenu_ChangeCartCountHeaderMenu(),ChangeItemCountInItemPage(),ChangeOrdersCountHeaderMenu())}else clearInterval(HEADER_ORDERS_TIMER_INTERVAL),t.css("display","flex").fadeOut(),i.fadeOut().text(""),n.css("display","flex").fadeOut(),e.removeClass("active").css("display","flex").fadeOut(),actionMenu_ChangeCartCountHeaderMenu(),ChangeItemCountInItemPage(),ChangeOrdersCountHeaderMenu()}))}))}),1e3)}function cartBtn_typeof(e){return cartBtn_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cartBtn_typeof(e)}function cartBtn_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */cartBtn_regeneratorRuntime=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),s=new R(i||[]);return r(o,"_invoke",{value:I(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var _="suspendedStart",m="suspendedYield",h="executing",f="completed",p={};function g(){}function v(){}function b(){}var y={};c(y,o,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(T([])));S&&S!==n&&i.call(S,o)&&(y=S);var w=b.prototype=g.prototype=Object.create(y);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(r,a,o,s){var l=u(e[r],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==cartBtn_typeof(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return a=a?a.then(r,r):r()}})}function I(t,n,i){var r=_;return function(a,o){if(r===h)throw Error("Generator is already running");if(r===f){if("throw"===a)throw o;return{value:e,done:!0}}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var l=x(s,i);if(l){if(l===p)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===_)throw r=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=h;var c=u(t,n,i);if("normal"===c.type){if(r=i.done?f:m,c.arg===p)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=f,i.method="throw",i.arg=c.arg)}}}function x(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),p;var a=u(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(cartBtn_typeof(t)+" is not iterable")}return v.prototype=b,r(w,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},C(A.prototype),c(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new A(d(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(w),c(w,l,"Generator"),c(w,o,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=T,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;L(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:T(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),p}},t}function cartBtn_asyncGeneratorStep(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function cartBtn_asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){cartBtn_asyncGeneratorStep(a,i,r,o,s,"next",e)}function s(e){cartBtn_asyncGeneratorStep(a,i,r,o,s,"throw",e)}o(void 0)}))}}var RenderAddToCartButtons=function(e,t){return new Promise((function(n){cartBtn_loadHtml(e,t).then((function(){cartBtn_actionsListener(),n()}))}))},UpdateSihMarketTabBuyStack=function(){var e=$J("#sih-market-listing").find(".sih-market-listing__item");sih_app_global_service.A.getAllBuyStack().then((function(t){e.each((function(e,n){var i=$J(n),r=i.find(".sih-market-listing__name").text(),a=i.find(".sih-market-listing__cart-info"),o=i.find(".sih-market-listing__cart-price"),s=i.find(".sih-market-listing__sih-price").data("itemid"),l=t.find((function(e){return e.itemId||s?e.market_hash_name===r&&e.itemId===s:e.market_hash_name===r}));if(l&&l.status)i.addClass("sih-market-listing__item_processing"),a.text(SIHLang.sihAppMarket.listing_lot.already_in),a.addClass("fs-12 lh-16"),o.text(SIHLang.sihAppMarket.listing_lot.processing),o.addClass("fs-12");else{i.removeClass("sih-market-listing__item_processing"),a.text("".concat(l?SIHLang.sihAppMarket.listing_lot.in_cart:SIHLang.sihAppMarket.listing_lot.buy_for)),a.removeClass("fs-12 lh-16").addClass("fs-10");var c=utils.zc.get("SIH_MARKET_CURRENCY"),d=i.find(".sih-market-listing__sih-price").data("price"),u=(0,global.formatNumberToLocalRu)(d,c||1,1,!1,3);o.text(u),o.removeClass("fs-12")}}));var n=e.find(".sih-market-listing__sih-price");calculatePriceBlockWidth(n)}))},cartBtn_loadHtml=function(e,t){var n=$J("#sih-market-listing"),i=n.find(".sih-market-listing__item");return new Promise((function(r){sih_app_global_service.A.getAllBuyStack().then((function(a){i.each((function(n,i){var r=$J(i),o=a.find((function(t){return t.itemId||e[n].itemId?t.market_hash_name===e[n].item&&+t.itemId==+e[n].itemId:t.market_hash_name===e[n].item})),s=utils.zc.get("SIH_MARKET_CURRENCY"),l=(0,global.formatNumberToLocalRu)(e[n].price,s||1,1,!1,3),c=o&&o.status,d=$J('\n          <div class="sih-market-listing__sih-button">\n            <span\n              class="sih-market-listing__sih-price"\n              data-price="'.concat(e[n].price,'"\n              data-appid="').concat(t,'"\n              data-rarity-color="').concat(e[n].color||"",'"\n              data-itemid="').concat(e[n].id||"",'"\n            >\n              <span class="sih-market-listing__cart-info text ').concat(c?"fs-12 lh-16":"fs-10",'"\n                >').concat("".concat(o?c?SIHLang.sihAppMarket.listing_lot.already_in:SIHLang.sihAppMarket.listing_lot.in_cart:SIHLang.sihAppMarket.listing_lot.buy_for),'</span\n              >\n              <span class="sih-market-listing__cart-price text ').concat(c?"fs-12":"",'"\n                >').concat(c?"".concat(SIHLang.sihAppMarket.listing_lot.processing):l,"</span\n              >\n            </span>\n          </div>\n        ")),u=r.find(".sih-market-listing__steam-price");u.length&&u.after(d),c&&r.addClass("sih-market-listing__item_processing")}));var o=n.find(".sih-market-listing__sih-price");calculatePriceBlockWidth(o),r()}))}))},cartBtn_actionsListener=function(){addToCartAction()},hoverActions=function(){$J("#sih-market-listing").find(".sih-market-listing__sih-button").each((function(e,t){var n=$J(t);n.off("mouseenter").mouseenter((function(){var e=$J(this);e.find(".sih-market-listing__cart-info").text()&&e.find(".sih-market-listing__cart-info").text("".concat(SIHLang.sihAppMarket.global.delete))})),n.off("mouseleave").mouseleave((function(){var e=$J(this);e.find(".sih-market-listing__cart-info").text()&&e.find(".sih-market-listing__cart-info").text("".concat(SIHLang.sihAppMarket.listing_lot.in_cart))}))}))},addToCartAction=function(){$J("#sih-market-listing").find(".sih-market-listing__sih-button").each((function(e,t){$J(t).off("click").click(function(){var e=cartBtn_asyncToGenerator(cartBtn_regeneratorRuntime().mark((function e(t){var n,i,r,a;return cartBtn_regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),e.next=4,RemoveSihMarketOverlay();case 4:n=$J(this).closest(".sih-market-listing__item"),i=n.find(".sih-market-listing__name").text().trim(),r=encodeURIComponent(i),a=n.find(".sih-market-listing__sih-price").data("itemid"),sih_app_global_service.A.getAllItemsBuyStackByName(r).then((function(e){var t=e.find((function(e){return e.itemId||a?e.market_hash_name===i&&e.itemId===a:e.market_hash_name===i}));if(e.length&&t)sih_app_global_service.A.deleteItemFromBuyStack({hashName:r,itemId:a}).then((function(e){UpdateSihMarketTabBuyStack(),actionMenu_ChangeCartCountHeaderMenu()}));else{var o=n.find(".sih-market-listing__sih-price"),s=+o.attr("data-price"),l=n.find(".market_listing_item_img").attr("src"),c=n.find(".market_listing_item_img").css("border-color"),d=n.attr("href"),u=o.data("rarityColor"),_={appId:o.data("appid"),hashName:r,countAdd:1,price:s,image:l,url:d,color:c,rarityColor:u,itemId:a};sih_app_global_service.A.setItemToBuyStack(_).then((function(){UpdateSihMarketTabBuyStack(),actionMenu_ChangeCartCountHeaderMenu(),$J("#sih-header-cart").trigger("click")}))}}));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}())}))},calculatePriceBlockWidth=function(e){var t=70;e.each((function(e,n){$J(n).css("width","auto");var i=+$J(n).css("width").replace("px","");i>t&&(t=i)})),e.each((function(e,n){$J(n).css("width","".concat(t,"px"))}))};function header_typeof(e){return header_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},header_typeof(e)}function header_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function header_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?header_ownKeys(Object(n),!0).forEach((function(t){header_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):header_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function header_defineProperty(e,t,n){return(t=header_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function header_toPropertyKey(e){var t=header_toPrimitive(e,"string");return"symbol"==header_typeof(t)?t:t+""}function header_toPrimitive(e,t){if("object"!=header_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=header_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var RenderListingHeader=function(){header_loadHtml(),renderCellsTooltip(),header_actionsListener(),setDefaultSortByProfit()},ClearListingSortArrow=function(){$J("#sih-market-listing .sih-market-listing__header .market_listing_right_cell").each((function(e,t){var n=$J(t);"name"===n.attr("data-option")&&n.find(".market_sort_arrow").hide()}))},header_loadHtml=function(){var e=$J("#sih-market-listing"),t=$J('\n    <div class="sih-market-listing__header market_listing_table_header">\n      <div class="market_listing_right_cell pointer-events-none" data-option="name">\n        '.concat(SIHLang.sihAppMarket.topSales.name,'\n      </div>\n      <div class="market_listing_right_cell" data-option="salesWeek">').concat(SIHLang.sihAppMarket.topSales.sales_week,'</div>\n      <div class="market_listing_right_cell" data-option="steam-price">Steam</div>\n      <div class="market_listing_right_cell" data-option="sih-price">').concat(SIHLang.sihAppMarket.topSales.sih_price,'</div>\n      <div\n        class="market_listing_right_cell active"\n        data-option="sih-profit"\n        title="').concat(SIHLang.sihAppMarket.topSales.profit,'"\n      >\n        <span class="sih-profit active" data-option="profitPercent">%</span>\n        <span>/</span>\n        <span class="sih-profit" data-option="profit">$</span>\n      </div>\n    </div>\n  '));g_ActiveInventory||t.find(".sih-market-listing__header").before('<span class="sih-market-listing__title text text_white text-uppercase mb-20"\n        >'.concat(SIHLang.sihAppMarket.topSales.title,"</span\n      >")),e.find(".sih-market-listing__header").length||e.append(t)},header_actionsListener=function(){sortAction()},sortAction=function(){var e=$J("#sih-market-listing").find(".sih-market-listing__header").find(".market_listing_right_cell"),t=null;e.each((function(e,n){var i=$J(n);i.find(".market_sort_arrow").length||i.append('<span class="market_sort_arrow"></span>'),i.off("click").click((function(){toggleSIHMarketItemLoaders(!1),clearTimeout(t),t=setTimeout((function(){sortBy(i)}),600)}))}))},setDefaultSortByProfit=function(){$J(".sih-market-listing__header").find('.market_listing_right_cell.active[data-option="sih-profit"]').find(".market_sort_arrow").show().text("▼")},sortBy=function(e){var t=e.attr("data-option");if(t){var n=e.closest(".sih-market-listing__header"),i=n.closest(".sih-market-listing").find(".sih-market-listing__content"),r=i.find(".sih-market-listing__item");n.find(".market_sort_arrow").hide(),e.hasClass("active")?e.find(".sih-profit:not(.active)").addClass("active").siblings().removeClass("active"):e.find('.sih-profit[data-option="profitPercent"]').addClass("active"),e.addClass("active").siblings().removeClass("active"),"sih-profit"!==t&&n.find(".sih-profit").removeClass("active");var a=1;if(e.find(".market_sort_arrow").is(':contains("▲")')||"sih-profit"===t?(a=-1,e.find(".market_sort_arrow").text("▼")):e.find(".market_sort_arrow").text("▲"),e.find(".market_sort_arrow").show(),"name"!==t){"sih-profit"===t&&(t=e.find(".sih-profit.active").attr("data-option"));var o=header_objectSpread({offset:0,limit:100},GenerateSortOptionForParameters(t,a)),s=GetFilterParams();return o=header_objectSpread(header_objectSpread({},o),s),void RenderListingItems(o)}r.sort((function(e,n){var i=getSortableValues(e,n,t),r=i.aValue,o=i.bValue;return r>o?a:r<o?-1*a:0})),r.detach().appendTo(i)}},getSortableValues=function(e,t,n){var i,r;if("name"===n)i=$J(e).find(".sih-market-listing__name").text(),r=$J(t).find(".sih-market-listing__name").text();return{aValue:i,bValue:r}},renderCellsTooltip=function(){$J(".sih-market-listing__header").find('.market_listing_right_cell[data-option="sih-profit"]').tooltip({position:{my:"left-50% bottom",at:"left+50% top"}})};function pagination_typeof(e){return pagination_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pagination_typeof(e)}function pagination_toConsumableArray(e){return pagination_arrayWithoutHoles(e)||pagination_iterableToArray(e)||pagination_unsupportedIterableToArray(e)||pagination_nonIterableSpread()}function pagination_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pagination_unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return pagination_arrayLikeToArray(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pagination_arrayLikeToArray(e,t):void 0}}function pagination_iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function pagination_arrayWithoutHoles(e){if(Array.isArray(e))return pagination_arrayLikeToArray(e)}function pagination_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function pagination_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function pagination_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pagination_ownKeys(Object(n),!0).forEach((function(t){pagination_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pagination_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pagination_defineProperty(e,t,n){return(t=pagination_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pagination_toPropertyKey(e){var t=pagination_toPrimitive(e,"string");return"symbol"==pagination_typeof(t)?t:t+""}function pagination_toPrimitive(e,t){if("object"!=pagination_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=pagination_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var pagination_debounce=null,lastPaginationPage=1,RenderListingPagination=function(){pagination_loadHtml()},_RenderSIHMarketListingAfterPagination=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=$J("#sih-market-listing").find(".sih-market-listing__content"),a=$J("#sih-listing-pagination-container"),o=a.find(".sih-listing-pagination__start-count-items"),s=a.find(".sih-listing-pagination__end-count-items"),l=a.find(".sih-listing-pagination__total"),c=10,d=[],u=100,_=1+(t.offset?t.offset/u:0);function m(n,i){var r=$J(n.currentTarget).attr("data-num").trim();if(r&&(o.text(r*c-9),s.text(r*c),r*c>t.limit*_&&_<=lastPaginationPage)){lastPaginationPage=_=lastPaginationPage+1;var l={offset:(_-1)*u,limit:u},m=GetFilterParams();l=pagination_objectSpread(pagination_objectSpread({},l),m),d.push(sih_app_global_service.A.getTopSales(l)),toggleSIHMarketItemLoaders(!1),clearTimeout(pagination_debounce),pagination_debounce=setTimeout((function(){Promise.all(d).then((function(n){var o,s=[],l=!1;n.forEach((function(n,i){var r=n.data,a=n.pagination;s.length||(s=pagination_toConsumableArray(e.map((function(e){return e})))),r.forEach((function(e){s.length&&(s=[].concat(pagination_toConsumableArray(s),[e]))})),r.length?o=a:(o=t,l=!0),lastPaginationPage=o.offset/u+1})),_RenderSIHMarketListingAfterPagination(s,o,i,+r),a.pagination(r),toggleSIHMarketItemLoaders(),l&&RenderEmptyBlock(),d.length=0}))}),1e3)}}e.length<=t.count&&(e.length=t.count),l.text(t.count),o.text(i*c-9),s.text(i*c),a.pagination({dataSource:e,pageSize:c,afterNextOnClick:function(e){m(e,n)},afterPageOnClick:function(e){m(e,n)},afterPreviousOnClick:function(e){m(e,n)},callback:function(e){toggleSIHMarketItemLoaders(!!e[0]);var t=GetListingItemsTemplate(e,n);r.html(t),r.find(".sih-market-listing__name").tooltip({position:{my:"center bottom",at:"center top"},tooltipClass:"name-tooltip item-hover-name-tooltip"}),RenderBookmarkBtn(),ClearListingSortArrow(),RenderAddToCartButtons(e,n).then((function(t){toggleSIHMarketItemLoaders(!!e[0]),setTimeout((function(){$J(".sih-market-listing__item .preloader").fadeOut()}),500)}))}})},pagination_loadHtml=function(){var e=$J("#sih-market-listing"),t=$J('\n    <div id="sih-listing-pagination-container" class="sih-global sih-listing-pagination">\n      <div class="row gap-5">\n        <span>'.concat(SIHLang.sihAppMarket.topSales.pagination.showing,'</span>\n        <span class="sih-listing-pagination__start-count-items">1</span>\n        <span>-</span>\n        <span class="sih-listing-pagination__end-count-items">1</span>\n        <span>').concat(SIHLang.sihAppMarket.topSales.pagination.of,'</span>\n        <span class="sih-listing-pagination__total">-</span>\n        <span>').concat(SIHLang.sihAppMarket.topSales.pagination.results,"</span>\n      </div>\n    </div>\n  "));$J("#sih-listing-pagination-container").length||e.after(t)};function sihMarketTab_global_typeof(e){return sihMarketTab_global_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sihMarketTab_global_typeof(e)}function global_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function global_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?global_ownKeys(Object(n),!0).forEach((function(t){sihMarketTab_global_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):global_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sihMarketTab_global_defineProperty(e,t,n){return(t=sihMarketTab_global_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sihMarketTab_global_toPropertyKey(e){var t=sihMarketTab_global_toPrimitive(e,"string");return"symbol"==sihMarketTab_global_typeof(t)?t:t+""}function sihMarketTab_global_toPrimitive(e,t){if("object"!=sihMarketTab_global_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=sihMarketTab_global_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var APP_NAMES={730:"CS2",252490:"Rust",440:"TF2"},LARGE_CURRENCY_LIST=[10,15,16,19,25,27,34],GenerateSortOptionForParameters=function(e,t){var n={};switch(e){case"profit":n={sortBy:1===t?"profit":"-profit"};break;case"profitPercent":n={sortBy:1===t?"profitPercent":"-profitPercent"};break;case"sih-price":n={sortBy:1===t?"price":"-price"};break;case"steam-price":n={sortBy:1===t?"steamPrice":"-steamPrice"};break;case"salesWeek":n={sortBy:1===t?"weekSales":"-weekSales"}}return n},RenderListingItems=function(e){$J("#sih-market-listing").find(".sih-market-listing__content").children().remove();var t=GetFilterParams();e=e||global_objectSpread({offset:0,limit:100},t),sih_app_global_service.A.getTopSales(e).then((function(e){var n=e.data,i=e.pagination;toggleSIHMarketItemLoaders(),n&&n.length?_RenderSIHMarketListingAfterPagination(n,i,t.appId):(_RenderSIHMarketListingAfterPagination(n,i,t.appId),RenderEmptyBlock())}))},GetListingItemsTemplate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:730,n="";return e.forEach((function(e){var i=skin_wear_service.A.getWearInfo(e.item),r=utils.zc.get("SIH_MARKET_CURRENCY"),a=r&&LARGE_CURRENCY_LIST.includes(r)?(0,global.FormatNumberWithSuffix)(e.steamPrice,r).text:(0,global.formatNumberToLocalRu)(e.steamPrice,r||1),o=r?LARGE_CURRENCY_LIST.includes(r)?(0,global.FormatNumberWithSuffix)(e.profit,r).text:(0,global.formatNumberToLocalRu)(e.profit,r):"$ ".concat(Math.ceil(100*e.profit)/100),s=$J('\n      <a\n        class="sih-market-listing__item"\n        href="https://steamcommunity.com/market/listings/'.concat(t,"/").concat(e.item,'"\n        target="_blank"\n      >\n        <div class="row items-center gap-7 w-305">\n          <div class="preloader"></div>\n          <img\n            src="').concat((0,utils.Fk)(e.image),'"\n            class="market_listing_item_img"\n            style="border-color: #D2D2D2;"\n          />\n          <div class="column gap-2 max-w-220">\n            <span class="sih-market-listing__name" title="').concat(e.item,'">').concat(e.item,'</span>\n            <div class="row items-center gap-16">\n              <span class="sih-market-listing__game-name" data-appid="').concat(t,'">').concat(APP_NAMES[t],'</span>\n            </div>\n          </div>\n        </div>\n\n        <div class="row justify-center items-center">\n          <span class="text text_light-grey fs-12">').concat(e.weekSales,'</span>\n        </div>\n\n        <div\n          class="sih-market-listing__steam-price column justify-center items-center"\n          data-price="').concat(e.steamPrice,'"\n        >\n          <span class="text text_light-grey fs-12">').concat(e.steamPrice?a:"-",'</span>\n        </div>\n\n        <div class="column justify-center items-center gap-5 w-83">\n          ').concat(e.steamPrice?'\n                <span class="sih-market-listing__sih-profit text fs-12 '.concat(e.profitPercent>0?"text_green-900":"text_light-grey",'">').concat(Math.ceil(100*e.profitPercent)/100,' %</span>\n                <span class="sih-market-listing__sih-profit sih-market-listing__sih-profit-price text fs-12 ').concat(e.profit>0?"text_green-900":"text_light-grey",'" data-price="').concat(e.profit,'">').concat(o,"</span>\n              "):"-","\n        </div>\n      </a>\n    "));i&&i.stattrak&&(s.find(".market_listing_item_img").css("border-color","#CF6A32"),s.find(".sih-market-listing__name").css("color","#CF6A32")),i&&i.souvenir&&(s.find(".market_listing_item_img").css("border-color","#FFD700"),s.find(".sih-market-listing__name").css("color","#FFD700")),i&&i.name.includes("★")&&(s.find(".market_listing_item_img").css("border-color","#8650AC"),s.find(".sih-market-listing__name").css("color","#8650AC")),n+=s[0].outerHTML})),n},RenderEmptyBlock=function(){var e=$J("#sih-market-listing").find(".sih-market-listing__content"),t=$J('\n    <div class="sih-market-listing__empty sih-global">\n      <div class="column w-320 justify-center gap-20">\n        <span class="text text_white fs-24 bold">'.concat(SIHLang.sihAppMarket.topSales.plug_tab.title,'</span>\n        <span class="text text_white">').concat(SIHLang.sihAppMarket.topSales.plug_tab.text_1,'</span>\n        <a href="javascript:void(0)" class="relative text text_blue"\n          >').concat(SIHLang.sihAppMarket.topSales.plug_tab.text_2,"</a\n        >\n      </div>\n    </div>\n  "));t.find("a").off("click").click((function(){$J("#sih-market-tab").trigger("click")})),e.find(".sih-market-listing__empty").length||e.append(t)};function filter_typeof(e){return filter_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},filter_typeof(e)}function filter_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function filter_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?filter_ownKeys(Object(n),!0).forEach((function(t){filter_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):filter_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function filter_defineProperty(e,t,n){return(t=filter_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function filter_toPropertyKey(e){var t=filter_toPrimitive(e,"string");return"symbol"==filter_typeof(t)?t:t+""}function filter_toPrimitive(e,t){if("object"!=filter_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=filter_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var CONVERTABLE_INPUT_KEYS=["minPrice","maxPrice","minSteamPrice","maxSteamPrice"],RenderSIHMarketFilter=function(e){filter_loadHtml(e),filter_actionsListener()},RemoveSIHMarketFilter=function(){$J("#browseItems").show(),$J(".sih-market-store-filter").hide().remove()},GetFilterParams=function(){var e=$J("#sih-market-listing .sih-market-listing__header .market_listing_right_cell"),t=$J(".sih-market-store-filter"),n=utils.zc.get("SIH_MARKET_CURRENCY"),i=t.find(".sih-market-store-filter__input"),r={};return i.each((function(e,t){var i=$J(t),a=i.val(),o=i.attr("data-key");CONVERTABLE_INPUT_KEYS.includes(o)&&a&&(a=currency_service.A.getPriceFromCurrency(+a,1,n||1).price);a&&(r=filter_objectSpread(filter_objectSpread({},r),{},filter_defineProperty({},"".concat(o),a)))})),r.appId=t.find(".app-filter [active]").data("appid"),e.each((function(e,t){var n=$J(t),i=n.attr("data-option"),a=n.find(".market_sort_arrow");if(n.hasClass("active")&&"none"!==a.css("display")&&(a.is(':contains("▲")')||a.is(':contains("▼")'))){var o="none"!==a.css("display")&&a.is(':contains("▲")')?1:-1;"sih-profit"===i&&(i=n.find(".sih-profit.active").attr("data-option"));var s=GenerateSortOptionForParameters(i,o);return r=filter_objectSpread(filter_objectSpread({},r),s)}})),r},filter_loadHtml=function(e){e=e||$J("#findItems");var t=utils.zc.get("SIH_MARKET_CURRENCY")||1,n=e.find("#browseItems");n.length&&n.hide();var i=$J('\n    <div class="sih-market-store-filter sih-global">\n      <div class="sih-market-store-filter__header">\n        <span class="sih-market-store-filter__title">'.concat(SIHLang.sihAppMarket.topSales.filter.title,'</span>\n        <a href="javascript:void(0)" class="sih-market-store-filter__reset hover-opacity-8"\n          >').concat(SIHLang.sihAppMarket.topSales.filter.reset,'</a\n        >\n      </div>\n\n      <div class="row justify-between">\n        <div class="app-filter">\n          <div class="app-filter__item app-filter__item_cs2" data-appid="730" active></div>\n          <div class="app-filter__item app-filter__item_rust" data-appid="252490"></div>\n          <div class="app-filter__item app-filter__item_tf2" data-appid="440"></div>\n        </div>\n\n        <div class="sih-market-store-filter__currency-selector-wrapper">\n          <select id="sih-market-currency-selector"></select>\n        </div>\n      </div>\n\n      <div class="column gap-8">\n        <span class="text fs-12">').concat(SIHLang.sihAppMarket.topSales.filter.name_search,'</span>\n\n        <div class="grid grid-flow-col">\n          <div class="sih-market-store-filter__input-outer">\n            <input\n              class="sih-market-store-filter__input"\n              type="text"\n              placeholder="AWP | Redline (Field-Tested)"\n              data-key="search"\n            />\n          </div>\n        </div>\n      </div>\n\n      \x3c!--SIH Market price block--\x3e\n      <div class="column gap-8">\n        <span class="text fs-12">').concat(SIHLang.sihAppMarket.topSales.filter.sih_market_price,'</span>\n\n        <div class="grid grid-flow-col grid-rows-2-125 gap-8">\n          <div class="sih-market-store-filter__input-outer">\n            <span class="text text_grey-300 fs-12">').concat(SIHLang.sihAppMarket.topSales.filter.from,'</span>\n            <input\n              class="sih-market-store-filter__input"\n              value="1"\n              type="number"\n              placeholder="').concat((0,global.formatNumberToLocalRu)(getInputRange("minPrice").minNumber,t,1),'"\n              data-key="minPrice"\n            />\n          </div>\n          <div class="sih-market-store-filter__input-outer">\n            <span class="text text_grey-300 fs-12">').concat(SIHLang.sihAppMarket.topSales.filter.to,'</span>\n            <input\n              class="sih-market-store-filter__input"\n              type="number"\n              placeholder="').concat((0,global.formatNumberToLocalRu)(getInputRange("maxPrice").maxNumber,t,1),'"\n              data-key="maxPrice"\n            />\n          </div>\n        </div>\n      </div>\n\n      \x3c!--Steam price block--\x3e\n      <div class="column gap-8">\n        <span class="text fs-12">').concat(SIHLang.sihAppMarket.topSales.filter.steam_price,'</span>\n\n        <div class="grid grid-flow-col grid-rows-2-125 gap-8">\n          <div class="sih-market-store-filter__input-outer">\n            <span class="text text_grey-300 fs-12">').concat(SIHLang.sihAppMarket.topSales.filter.from,'</span>\n            <input\n              class="sih-market-store-filter__input"\n              type="number"\n              placeholder="').concat((0,global.formatNumberToLocalRu)(getInputRange("minSteamPrice").minNumber,t,1),'"\n              data-key="minSteamPrice"\n            />\n          </div>\n          <div class="sih-market-store-filter__input-outer">\n            <span class="text text_grey-300 fs-12">').concat(SIHLang.sihAppMarket.topSales.filter.to,'</span>\n            <input\n              class="sih-market-store-filter__input"\n              type="number"\n              placeholder="').concat((0,global.formatNumberToLocalRu)(getInputRange("maxSteamPrice").maxNumber,t,1),'"\n              data-key="maxSteamPrice"\n            />\n          </div>\n        </div>\n      </div>\n\n      \x3c!--Sales Week block--\x3e\n      <div class="column gap-8">\n        <span class="text fs-12">').concat(SIHLang.sihAppMarket.topSales.filter.weekly_sales,'</span>\n\n        <div class="grid grid-flow-col grid-rows-2-125 gap-8">\n          <div class="sih-market-store-filter__input-outer">\n            <span class="text text_grey-300 fs-12">').concat(SIHLang.sihAppMarket.topSales.filter.from,'</span>\n            <input\n              class="sih-market-store-filter__input"\n              value="20"\n              type="number"\n              placeholder="1"\n              data-key="minWeeklySales"\n            />\n          </div>\n          <div class="sih-market-store-filter__input-outer">\n            <span class="text text_grey-300 fs-12">').concat(SIHLang.sihAppMarket.topSales.filter.to,'</span>\n            <input\n              class="sih-market-store-filter__input"\n              type="number"\n              placeholder="1 000 000"\n              data-key="maxWeeklySales"\n            />\n          </div>\n        </div>\n      </div>\n\n      \x3c!--Profit block--\x3e\n      <div class="column gap-8">\n        <span class="text fs-12">').concat(SIHLang.sihAppMarket.topSales.filter.profit_percent,'</span>\n\n        <div class="grid grid-flow-col grid-rows-2-125 gap-8">\n          <div class="sih-market-store-filter__input-outer">\n            <span class="text text_grey-300 fs-12">').concat(SIHLang.sihAppMarket.topSales.filter.from,'</span>\n            <input class="sih-market-store-filter__input" type="number" placeholder="1 %" data-key="minProfitPercent" />\n          </div>\n          <div class="sih-market-store-filter__input-outer">\n            <span class="text text_grey-300 fs-12">').concat(SIHLang.sihAppMarket.topSales.filter.to,'</span>\n            <input\n              class="sih-market-store-filter__input"\n              type="number"\n              placeholder="1 000 %"\n              data-key="maxProfitPercent"\n            />\n          </div>\n        </div>\n      </div>\n\n      <a href="https://sih.app/market" target="_blank" class="sih-market-store-filter__more-filters"\n        >').concat(SIHLang.sihAppMarket.topSales.filter.more_filters,"</a\n      >\n    </div>\n  "));e.length&&!e.find(".sih-market-store-filter").length&&e.append(i),n.closest(".market_search_sidebar_contents").find(".sih-market-store-filter").length||n.after(i),loadCurrencySelector()},filter_actionsListener=function(){resetAction(),inputChangeAction(),appChangeAction()},resetAction=function(){var e=$J(".sih-market-store-filter"),t=e.find(".sih-market-store-filter__reset"),n=null;t.off("click").click((function(){clearTimeout(n),n=setTimeout((function(){e.find(".sih-market-store-filter__input").val(""),$J("#sih-market-tab").trigger("click"),updateVisibleStateResetBtn()}),300)}))},inputChangeAction=function(){$J(".sih-market-store-filter").find(".sih-market-store-filter__input").each((function(e,t){var n=$J(t);n.off("change").change((function(e){var t=$J(e.target),n=t.attr("data-key"),i=utils.zc.get("SIH_MARKET_CURRENCY"),r="search"===n?t.val():t.val().length?+t.val():t.val(),a=getInputRange(n),o=a.maxNumber,s=a.minNumber,l=void 0===s?0:s;if(CONVERTABLE_INPUT_KEYS.includes(n)&&""!==r&&(o=currency_service.A.getPriceFromCurrency(o,i||1,1).price,l=+currency_service.A.getPriceFromCurrency(l,i||1,1).price.toFixed(2)),"number"==typeof r){"maxPrice"===n&&UpdateFilterCategoryBalance();var c=sih_app_global_service.A.validateInput(r,o,l,!0);t.val(c)}})),n.off("focusin").focusin((function(e){var t=+$J(e.target).val();""!==n.val()&&n.off("focusout").focusout((function(e){+$J(e.target).val()!==t&&$J("#sih-market-tab").trigger("click"),updateVisibleStateResetBtn()}))})),n.off("focusout").focusout((function(){""!==n.val()&&$J("#sih-market-tab").trigger("click"),updateVisibleStateResetBtn()})),n.off("keypress").keypress((function(e){13===e.keyCode&&(""!==n.val()&&$J("#sih-market-tab").trigger("click"),updateVisibleStateResetBtn())}))}))},appChangeAction=function(){var e=$J(".sih-market-store-filter").find(".app-filter .app-filter__item");e.each((function(t,n){var i=$J(n);i.off("click").click((function(t){e.each((function(e,t){$J(t).removeAttr("active")})),i.attr("active",""),$J("#sih-market-tab").trigger("click")}))}))},updateVisibleStateResetBtn=function(){var e=$J(".sih-market-store-filter"),t=e.find(".sih-market-store-filter__reset"),n=e.find(".sih-market-store-filter__input"),i=!1;n.each((function(e,t){""!==$J(t).val()&&(i=!0)})),t.toggle(i)},getInputRange=function(e){var t={};switch(e){case"minPrice":case"maxPrice":t.maxNumber=2e5,t.minNumber=.01;break;case"minSteamPrice":case"maxSteamPrice":t.maxNumber=2e3,t.minNumber=.03;break;case"minWeeklySales":case"maxWeeklySales":t.maxNumber=1e6;break;case"minProfitPercent":case"maxProfitPercent":t.maxNumber=1e3}return t},ToggleSteamSearchSection=function(e){var t=$J("#escrow_description"),n=$J(".market_search_sidebar_section_tip_small"),i=$J(".market_search_box_container");t.toggle(e),n.toggle(e),i.toggle(e)},loadCurrencySelector=function(){var e=$J("#sih-market-currency-selector");if(!e.find(".option").length){for(var t=0,n=Object.keys(g_rgCurrencyData);t<n.length;t++){var i=n[t],r=g_rgCurrencyData[i];e.append('<option value="'.concat(r.eCurrencyCode,'" selected>').concat(i,"</option>"))}var a=utils.zc.get("SIH_MARKET_CURRENCY");e.val(a||1),e.selectmenu({width:80,appendTo:".sih-market-store-filter__currency-selector-wrapper",change:function(e,t){var n=+$J(e.target).val();utils.zc.set("SIH_MARKET_CURRENCY",n),$J(".sih-market-store-filter .sih-market-store-filter__input").each((function(e,t){var i=$J(t),r=i.val(),a=i.attr("data-key");if(CONVERTABLE_INPUT_KEYS.includes(a)){r&&i.trigger("change");var o,s=getInputRange(a),l=s.maxNumber,c=s.minNumber,d=void 0===c?0:c;o="maxPrice"===a||"maxSteamPrice"===a?(0,global.formatNumberToLocalRu)(l,n,1):(0,global.formatNumberToLocalRu)(d,n,1),i.attr("placeholder",o)}})),$J("#sih-market-tab").click()}})}},RenderListing=function(e){listing_loadHtml(e),RenderListingHeader(),RenderListingItems(),RenderListingContent(),RenderListingPagination()},listing_loadHtml=function(e){var t=e||$J("#sellListings"),n=$J('\n    <div id="sih-market-listing" class="sih-global sih-market-listing"></div>\n    \x3c!--  <div id="sih-market-listing-loader">--\x3e\n    \x3c!--    <img src="https://community.cloudflare.steamstatic.com/public/images/login/throbber.gif" alt="Working...">--\x3e\n    \x3c!--  </div>--\x3e\n  ');t.find("#sih-market-listing").length||t.append(n)};function sihMarketTab_typeof(e){return sihMarketTab_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sihMarketTab_typeof(e)}function sihMarketTab_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */sihMarketTab_regeneratorRuntime=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),s=new R(i||[]);return r(o,"_invoke",{value:I(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var _="suspendedStart",m="suspendedYield",h="executing",f="completed",p={};function g(){}function v(){}function b(){}var y={};c(y,o,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(T([])));S&&S!==n&&i.call(S,o)&&(y=S);var w=b.prototype=g.prototype=Object.create(y);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(r,a,o,s){var l=u(e[r],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==sihMarketTab_typeof(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return a=a?a.then(r,r):r()}})}function I(t,n,i){var r=_;return function(a,o){if(r===h)throw Error("Generator is already running");if(r===f){if("throw"===a)throw o;return{value:e,done:!0}}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var l=x(s,i);if(l){if(l===p)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===_)throw r=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=h;var c=u(t,n,i);if("normal"===c.type){if(r=i.done?f:m,c.arg===p)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=f,i.method="throw",i.arg=c.arg)}}}function x(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),p;var a=u(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(sihMarketTab_typeof(t)+" is not iterable")}return v.prototype=b,r(w,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},C(A.prototype),c(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new A(d(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(w),c(w,l,"Generator"),c(w,o,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=T,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;L(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:T(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),p}},t}function sihMarketTab_asyncGeneratorStep(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function sihMarketTab_asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){sihMarketTab_asyncGeneratorStep(a,i,r,o,s,"next",e)}function s(e){sihMarketTab_asyncGeneratorStep(a,i,r,o,s,"throw",e)}o(void 0)}))}}function LoadSihMarketTab(){return _LoadSihMarketTab.apply(this,arguments)}function _LoadSihMarketTab(){return(_LoadSihMarketTab=sihMarketTab_asyncToGenerator(sihMarketTab_regeneratorRuntime().mark((function e(){return sihMarketTab_regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return appendSihMarketToSellListingTabs(),e.next=3,sihMarketTab_actionsListener();case 3:return e.next=5,sih_app_global_service.A.getUserSihApp();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var appendSihMarketToSellListingTabs=function(){var e=$J("#sellListings").find(".market_tab_well_tabs"),t=common.I.get()||{},n=$J('\n    <a\n      id="sih-market-tab"\n      class="sih-market-tab market_tab_well_tab market_tab_well_tab_inactive"\n      href="javascript:void(0)"\n    >\n      <span class="market_tab_well_tab_contents">\n        <span class="sih-market-tab__content">\n          <span>SIH Market</span>\n          '.concat(t.isViewFeature&&t.isViewFilter?"":'<span class="sih-market-tab__new">NEW</span>',"\n        </span>\n      </span>\n    </a>\n  "));e.append(n),e.contents().filter((function(){return 3===this.nodeType&&""===this.nodeValue.trim()})).remove()},sihMarketTab_actionsListener=function(){var e=sihMarketTab_asyncToGenerator(sihMarketTab_regeneratorRuntime().mark((function e(){return sihMarketTab_regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return changeTabAction(),e.next=3,autoOpenTabAction();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),changeTabAction=function(){var e=$J("#sellListings").find(".market_tab_well_tabs"),t=null;e.find("a").each((function(e,n){$J(n).off("click").click((function(){var e=this;clearTimeout(t),t=setTimeout(sihMarketTab_asyncToGenerator(sihMarketTab_regeneratorRuntime().mark((function t(){var n,i;return sihMarketTab_regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=$J(e)).addClass("market_tab_well_tab_active").siblings().removeClass("market_tab_well_tab_active market_tab_well_tab_inactive").addClass("market_tab_well_tab_inactive"),"sih-market-tab"!==n.attr("id")){t.next=20;break}return(i=common.I.get()||{}).isViewFeature&&i.isViewFilter||i.openTab||(n.find(".sih-market-tab__new").hide(),i.isViewFeature=!0,i.isViewFilter=!0,common.I.set(i)),n.addClass("pointer-events-none"),setTimeout((function(){return n.removeClass("pointer-events-none")}),500),$J("#popularItemsTable").hide(),$J("#sellListingsTable").hide(),$J("#soldListingTable").hide(),RenderSIHMarketFilter(),RenderListing(),$J("#sih-market-listing").show(),toggleSIHMarketItemLoaders(!1),$J("#sih-listing-pagination-container").css("display","flex").show(),t.next=17,RenderSihMarketOverlay();case 17:ToggleSteamSearchSection(!1),t.next=25;break;case 20:toggleSIHMarketItemLoaders(),$J("#sih-market-listing").hide(),$J("#sih-listing-pagination-container").hide(),ToggleSteamSearchSection(!0),RemoveSIHMarketFilter();case 25:case"end":return t.stop()}}),t)}))),200)}))}))},autoOpenTabAction=function(){var e=sihMarketTab_asyncToGenerator(sihMarketTab_regeneratorRuntime().mark((function e(){var t,n,i,r,a,o;return sihMarketTab_regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,chromeStorage.M.getLocal("SIH_FEATURES_MENU");case 2:if(n=e.sent,null==(i=n.SIH_FEATURES_MENU)||null===(t=i.sihMarket)||void 0===t||!t.showTab){e.next=11;break}if(!$J("#sih-market-tab").length){e.next=11;break}return $J("html, body").animate({scrollTop:$J("#sellListings").offset().top},500),$J("#sih-market-tab").trigger("click"),i.sihMarket.showTab=!1,e.next=11,chromeStorage.M.setLocal("SIH_FEATURES_MENU",i);case 11:return e.next=13,chromeStorage.M.getLocal("SIH_MARKET_TAB");case 13:r=e.sent,a=r.SIH_MARKET_TAB,(o=void 0===a?{}:a).openTab&&$J("#sih-market-tab").length&&($J("html, body").animate({scrollTop:$J("#sellListings").offset().top},500),$J("#sih-market-tab").trigger("click"),o.openTab=!1,chromeStorage.M.setLocal("SIH_MARKET_TAB",o));case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),marketSearch=__webpack_require__(527),UpdateHeaderTotalResubmitPrice=function(e){var t=$J('.my_listing_section[data-table-id="'.concat(e,'"]')),n=t.find('[id^="totalRow"]'),i=n.find(".sih-header-total"),r=t.find('.market_listing_row[id^="'.concat("sell_listings"===e?"mylisting":"mybuyorder",'"]')),a="sell_listings"===e?+i.find(".sih-total-sell__selling").attr("data-price"):+n.find(".sih-market-total__seller").attr("data-price"),o="sell_listings"===e?+i.find(".sih-total-sell__receive").attr("data-price"):0,s=i.find(".total-resubmit-price");r.find(".resubmit-price").length||s.fadeOut(300,(function(){s.remove()}));var l=0,c=0,d=0,u=0;r.each((function(t,n){var i=$J(n),r=i.find(".resubmit-price"),a=+i.find(".market_listing_buyorder_qty .market_listing_price").text();if(r.length){var o=+r.find(".resubmit-price__selling").attr("data-old-price")*("buy_orders"===e?a:1),s="sell_listings"===e?+r.find(".resubmit-price__receive").attr("data-old-price"):0,_=+r.find(".resubmit-price__selling").attr("data-new-price")*("buy_orders"===e?a:1),m="sell_listings"===e?+r.find(".resubmit-price__receive").attr("data-new-price"):0;l+=o,c+=s,d+=_,u+=m}}));var _=a-l+d,m=o-c+u,h=currency_service.A.getPriceFromCurrency(_,currencyId,currencyId).text,f=currency_service.A.getPriceFromCurrency(m,currencyId,currencyId).text;if(s.length){var p=s.find(".total-resubmit-price__selling"),g=s.find(".total-resubmit-price__receive");p.attr("data-price",_).text(h),g.attr("data-price",m).text("(".concat(f,")"))}else{var v=LocalStorageSihMarket.get().commission,b=void 0===v||v,y=$J('\n      <div class="total-resubmit-price" title="'.concat(SIHLang.market.resubmit_orders.tooltips.total_after_resubmit,'">\n        <div class="column">\n          <span class="total-resubmit-price__selling text text_white fs-14" data-price="').concat(_,'"\n            >').concat(h,"</span\n          >\n          ").concat("sell_listings"===e?'\n                      <span class="total-resubmit-price__receive text text_grey-900 fs-12" style="display: '.concat(b?"flex":"none",'" data-price="').concat(m,'">(').concat(f,")</span>\n                  "):"","\n        </div>\n      </div>\n    "));y.tooltip({tooltipClass:"total-resubmit-price__tooltip",position:{my:"left bottom",at:"left top"},classes:{"ui-tooltip":"sih-steam-market__tooltip"}}),i.append(y),y.css("display","flex").hide().fadeIn(300)}},RenderHeaderTable=function(){addHeaderTooltips(),setTimeout((function(){renderOldTotalBuyPrice()}),500)},renderOldTotalBuyPrice=function(){var e=$J('.my_listing_section[data-table-id="buy_orders"]').find('[id^="totalRow"]'),t=e.find(".sih-header-total"),n=+e.find(".sih-market-total__seller").attr("data-price"),i=currency_service.A.getPriceFromCurrency(n,currencyId,currencyId).text,r=$J('\n    <div class="sih-total-sell column justify-center" title="'.concat(SIHLang.market.tooltips.cost_all_items,'">\n      <span class="sih-total-sell__selling text text_white fs-14" data-price="').concat(n,'"\n        >').concat(i,"</span\n      >\n    </div>\n  "));t.find(".sih-total-sell").length||t.prepend(r)},addHeaderTooltips=function(){[$J(".market_listing_table_header").find(".market_listing_right_cell.market_listing_my_price:not(.market_listing_buyorder_qty, .market_listing_maximum)").attr("title","".concat(SIHLang.market.tooltips.your_price)),$J(".market_listing_table_header").find(".market_listing_right_cell.market_listing_minimum").attr("title","".concat(SIHLang.market.tooltips.min_market_price)),$J(".market_listing_table_header").find(".market_listing_right_cell.market_listing_listed_date").attr("title","".concat(SIHLang.market.tooltips.order_date)),$J(".market_listing_table_header").find(".market_listing_right_cell.market_listing_maximum").attr("title","".concat(SIHLang.market.tooltips.max_market_price)),$J(".market_listing_table_header").find(".market_listing_right_cell.market_listing_buyorder_qty").attr("title","".concat(SIHLang.market.tooltips.number_items))].forEach((function(e){e.tooltip({position:{my:"left bottom",at:"left top"},classes:{"ui-tooltip":"sih-steam-market__tooltip"}})}))},editAlertModal_debounce=null,RenderEditAlertModal=function(e){editAlertModal_loadHtml(e),editAlertModal_listenerActions()},editAlertModal_loadHtml=function(e){var t=$J('.my_listing_section[data-table-id="'.concat(e,'"] .sih-market-filter')),n=t.find(".sih-market-filter__edit-alert").position(),i=LocalStorageSihMarketResubmit.getPercentAlert(e).percent_alert,r=void 0===i?20:i,a=$J('\n    <div id="sih-edit-alert" class="sih-edit-alert" data-table-id="'.concat(e,'">\n      <div class="sih-edit-alert__fade"></div>\n      <div class="sih-global sih-modal sih-edit-alert__modal">\n        <div class="sih-edit-alert__inner sih-modal__inner">\n          <h4 class="text text_white fs-14">').concat(SIHLang.market.resubmit_orders.edit_alert_modal.title,'</h4>\n\n          <label for="sih-edit-alert-input" class="row justify-between items-center bg-black-100 py-12 px-12 br2-grey">\n            <input\n              type="number"\n              id="sih-edit-alert-input"\n              class="text text_white bg-transparent border-none"\n              value="').concat(r,'"\n              step="1"\n              min="1"\n            />\n\n            <label for="sih-edit-alert-input">\n              <span class="text text_grey-900 fs-14">%</span>\n            </label>\n          </label>\n\n          <div class="sih-edit-alert__buttons">\n            <a\n              href="javascript:void(0)"\n              id="sih-edit-alert-save"\n              class="sih-modal__button sih-modal__button_blue fs-10 bold py-8 text-uppercase px-12 py-8"\n              >').concat(SIHLang.market.resubmit_orders.save,"</a\n            >\n          </div>\n        </div>\n      </div>\n    </div>\n  "));a.find(".sih-modal").css("left",n.left),t.find("#sih-edit-alert").length||(t.append(a),$J("#sih-edit-alert").find(".sih-edit-alert__modal").fadeIn(300))},editAlertModal_listenerActions=function(){editAlertModal_closeModalAction(),focusOnInputOpen(),validateInputAction(),saveAction()},editAlertModal_closeModalAction=function(){var e=$J("#sih-edit-alert"),t=e.find(".sih-modal__close"),n=e.find(".sih-edit-alert__fade"),i=e.find("#sih-edit-alert-cancel");t.off("click").click((function(){removeEditAlertModal()})),n.off("click").click((function(){removeEditAlertModal()})),i.off("click").click((function(){removeEditAlertModal()}))},focusOnInputOpen=function(){$J("#sih-edit-alert-input").trigger("focus"),$J("#sih-edit-alert-input")[0].select()},removeEditAlertModal=function(){var e=$J("#sih-edit-alert");e.fadeOut(300,(function(){e.remove()}))},validateInputAction=function(){var e=$J("#sih-edit-alert").find("#sih-edit-alert-input");e.focus((function(){e.keyup((function(){var e=$J(this);clearTimeout(editAlertModal_debounce),editAlertModal_debounce=setTimeout((function(){var t=+e.val()||0,n=sih_app_global_service.A.validateInput(t,100);e.val(n)}),500)}))})),e.focusout((function(){e.off("keyup")})),e.off("change").change((function(){var e=$J(this),t=e.val(),n=sih_app_global_service.A.validateInput(t,100);e.val(n)}))},saveAction=function(){var e=$J("#sih-edit-alert"),t=e.find("#sih-edit-alert-save"),n=e.find("#sih-edit-alert-input");t.off("click").click((function(e){i()})),e.keyup((function(e){Event.KEY_RETURN===e.keyCode&&i()}));var i=function(){var e=$J("#sih-edit-alert").attr("data-table-id"),t=n.val(),i=LocalStorageSihMarketResubmit.get()||{};i["percent_alert_".concat(e)]=t,LocalStorageSihMarketResubmit.set(i),RecalculatePriceDifferent(e),$J('.my_listing_section[data-table-id="'.concat(e,'"] .sih-market-filter__edit-alert span')).text("".concat(i["percent_alert_".concat(e)],"%")),removeEditAlertModal()}},RenderCustomRemoveModal=function(e){customRemoveModal_loadHtml(e),customRemoveModal_actionsListener(e)},DeleteCustomRemoveModal=function(){var e=$J("#sih-remove-listing"),t=$J(".sih-toolbar"),n=t.attr("data-table-id"),i=$J('.my_listing_section[data-table-id="'.concat(n,'"] .market_listing_row[id^="').concat("sell_listings"===n?"mylisting":"mybuyorder",'"]')).find(".select-checkbox:visible:checked").length;e.fadeOut(300,(function(){e.remove()})),t.hasClass("animate-down")&&i&&t.removeClass("animate-down")},customRemoveModal_loadHtml=function(e){var t=e.attr("data-table-id"),n=e.find(".market_listing_row").find(".select-checkbox:checked").closest(".market_listing_row"),i=$J("body"),r=$J('\n    <div id="sih-remove-listing" class="sih-remove-listing">\n      <div class="sih-remove-listing__fade"></div>\n      <div class="sih-global sih-modal sih-remove-listing__modal">\n        <div class="sih-modal__close"></div>\n        <div class="sih-remove-listing__inner sih-modal__inner">\n          <div class="sih-remove-listing__title">'.concat(SIHLang.market.custom_remove_modal.title,'</div>\n          <div class="sih-remove-listing__content">\n            <div class="sih-remove-listing__text">\n              ').concat(SIHLang.market.custom_remove_modal["".concat(t,"_text_1")],'\n              <span class="text text_white bold">(').concat(n.length,")</span> ").concat("sell_listings"===t?SIHLang.market.custom_remove_modal["".concat(t,"_text_2")]:"",'\n            </div>\n\n            <div class="sih-remove-listing__buttons">\n              <a href="javascript:void(0)" class="sih-remove-listing__remove"\n                >').concat(SIHLang.market.custom_remove_modal.confirm,'</a\n              >\n              <a href="javascript:void(0)" class="sih-remove-listing__cancel"\n                >').concat(SIHLang.market.custom_remove_modal.cancel,"</a\n              >\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  "));i.find("#sih-remove-listing").length||(i.append(r),$J("#sih-remove-listing").find(".sih-remove-listing__modal").fadeIn(300))},customRemoveModal_actionsListener=function(e){customRemoveModal_closeModalAction(),removeListingAction(e)},customRemoveModal_closeModalAction=function(){var e=$J("#sih-remove-listing"),t=e.find(".sih-modal__close"),n=e.find(".sih-remove-listing__fade"),i=e.find(".sih-remove-listing__cancel");t.off("click").click((function(){DeleteCustomRemoveModal()})),n.off("click").click((function(){DeleteCustomRemoveModal()})),i.off("click").click((function(){DeleteCustomRemoveModal()}))},removeListingAction=function(e){$J("#sih-remove-listing").find(".sih-remove-listing__remove").off("click").click((function(){RemoveSelectedListing(e),DeleteCustomRemoveModal()}))},ResubmitGroupModal=function(e){resubmitGroupModal_loadHtml(e),resubmitGroupModal_listenerActions()},RemoveResubmitGroupModal=function(){var e=$J("#sih-resubmit-orders"),t=$J(".sih-toolbar").find(".sih-toolbar__button");e.fadeOut(300,(function(){e.remove(),t.removeClass("disabled opacity-50per")}))},resubmitGroupModal_loadHtml=function(e){var t=$J(e[0]).attr("id").includes("mybuyorder")?"buy_orders":"sell_listings",n=!!$J('.my_listing_section[data-table-id="'.concat(t,'"] .market_listing_row[id^="').concat("sell_listings"===t?"mylisting":"mybuyorder",'"] .select-checkbox:checked')).closest(".market_listing_row").find(".sih-market-alert").length,i=$J("body"),r=$J('\n    <div id="sih-resubmit-orders" class="sih-resubmit-orders-group" data-table-id="'.concat(t,'">\n      <div class="sih-resubmit-orders-group__fade"></div>\n      <div class="sih-global sih-modal sih-resubmit-orders-group__modal">\n        <div class="sih-modal__close"></div>\n        <div class="sih-resubmit-orders-group__inner sih-modal__inner">\n          <div class="sih-resubmit-orders-group__content sih-market-content"></div>\n\n          <div class="sih-resubmit-orders-group__buttom">\n            ').concat(n?'\n                  <div class="sih-resubmit-orders-group__info-message sih-info-message" data-state="default">\n                    <div class="sih-info-message__default">\n\n                    </div>\n                 </div>\n                ':'<div class="sih-resubmit-orders-group__info-message sih-info-message" data-state="default">\n                    <div class="sih-info-message__default">\n\n                    </div>\n                 </div>','\n\n            <div class="sih-resubmit-orders-group__toolbar modal-toolbar">\n              <div class="modal-toolbar__left-side row">\n                <div class="modal-toolbar__selected-info">\n                  <span class="text text_light-grey text-lowercase"\n                    >').concat(e.length," ").concat(SIHLang.market.resubmit_orders.items,"\n                    ").concat(SIHLang.market.resubmit_orders.selected,'</span\n                  >\n                </div>\n              </div>\n\n              <div class="modal-toolbar__right-side row">\n                <label for="sih-resubmit-orders-group-input-all" class="row gap-5 justify-between items-center">\n                  <label for="sih-resubmit-orders-group-input-all" class="max-w-140">\n                    <span class="text text_white fs-14">').concat(SIHLang.market.resubmit_orders.enter_all_price,'</span>\n                  </label>\n\n                  <label for="sih-resubmit-orders-group-input-all" class="row justify-center items-center w-24 h-24">\n                    <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n                      <path\n                        d="M0.589844 10.58L5.16984 6L0.589844 1.41L1.99984 0L7.99984 6L1.99984 12L0.589844 10.58Z"\n                        fill="#9EA7B3"\n                      />\n                    </svg>\n                  </label>\n\n                  <input\n                    type="number"\n                    id="sih-resubmit-orders-group-input-all"\n                    class="sih-resubmit-orders-group__input max-w-120 box-border text text_white bg-transparent br2-grey py-8 px-20"\n                    step="0.01"\n                    min="0.03"\n                  />\n                </label>\n\n                <div class="sih-resubmit-orders-group__buttons">\n                  <a\n                    href="javascript:void(0)"\n                    id="sih-resubmit-cancel"\n                    class="sih-modal__button fs-10 bold py-8 px-45 text-uppercase"\n                    >').concat(SIHLang.market.resubmit_orders.cancel,'</a\n                  >\n                  <a\n                    href="javascript:void(0)"\n                    id="sih-resubmit-btn"\n                    class="disabled opacity-50per sih-modal__button sih-modal__button_blue fs-10 bold py-14 px-16 text-uppercase"\n                    >').concat(SIHLang.market.resubmit_orders.confirm,"</a\n                  >\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  "));e.forEach((function(e,t){var n=GetModalContentItem(e,t);r.find(".sih-resubmit-orders-group__content").append(n)})),i.find("#sih-resubmit-orders").length||(i.append(r),$J("#sih-resubmit-orders").find(".sih-resubmit-orders-group__modal").fadeIn(300))},resubmitGroupModal_listenerActions=function(){resubmitGroupModal_closeModalAction(),currentPriceAction(),bestPriceAction(),changeItemInputAction(),changeAllInputAction(),resubmitGroupModal_focusOnInputOpen(),resubmitBtnAction()},resubmitGroupModal_closeModalAction=function(){var e=$J("#sih-resubmit-orders"),t=e.find(".sih-modal__close"),n=e.find(".sih-resubmit-orders-group__fade"),i=e.find("#sih-resubmit-cancel");t.off("click").click((function(){RemoveResubmitGroupModal()})),n.off("click").click((function(){RemoveResubmitGroupModal()})),i.off("click").click((function(){RemoveResubmitGroupModal()}))},currentPriceAction=function(){var e=$J("#sih-resubmit-orders"),t=e.find(".sih-market-content__current-price"),n=e.find("#sih-resubmit-btn");t.off("click").click((function(){var t=$J(this),i=t.attr("data-price"),r=t.closest(".sih-market-content__item").find(".sih-market-content__input");r.val(i),onChangePrice(r),n.hasClass("disabled opacity-50per")||isPriceChanged(e)||n.addClass("disabled opacity-50per")}))},bestPriceAction=function(){var e=$J("#sih-resubmit-orders"),t=e.find(".sih-market-content__best-price"),n=e.find("#sih-resubmit-btn");t.off("click").click((function(){var e=$J(this),t=e.attr("data-price"),i=e.closest(".sih-market-content__item").find(".sih-market-content__input");i.val(t),onChangePrice(i),n.removeClass("disabled opacity-50per")}))},resubmitGroupModal_focusOnInputOpen=function(){$J("#sih-resubmit-orders-group-input-all").trigger("focus"),$J("#sih-resubmit-orders-group-input-all")[0].select()},changeItemInputAction=function(){var e=$J("#sih-resubmit-orders"),t=e.find(".sih-market-content__input"),n=e.find("#sih-resubmit-btn"),i=null;t.each((function(t,r){var a=$J(r);a.focus((function(){a.keyup((function(){clearTimeout(i),i=setTimeout((function(){onChangePrice(a),isPriceChanged(e)?n.removeClass("disabled opacity-50per"):n.hasClass("disabled opacity-50per")||n.addClass("disabled opacity-50per")}),500)}))})),a.focusout((function(){a.off("keyup")})),a.off("change").change((function(){onChangePrice(a),isPriceChanged(e)?n.removeClass("disabled opacity-50per"):n.hasClass("disabled opacity-50per")||n.addClass("disabled opacity-50per")}))}))},changeAllInputAction=function(){var e=$J("#sih-resubmit-orders"),t=e.find("#sih-resubmit-orders-group-input-all"),n=e.find("#sih-resubmit-btn"),i=null;t.focus((function(){t.keyup((function(){var t=+$J(this).val()||0;clearTimeout(i),i=setTimeout((function(){t&&(onChangePrice(),isPriceChanged(e)?n.removeClass("disabled opacity-50per"):n.hasClass("disabled opacity-50per")||n.addClass("disabled opacity-50per"))}),500)}))})),t.focusout((function(){t.off("keyup")})),t.off("change").change((function(){(+$J(this).val()||0)&&(onChangePrice(),isPriceChanged(e)?n.removeClass("disabled opacity-50per"):n.hasClass("disabled opacity-50per")||n.addClass("disabled opacity-50per"))}))},onChangePrice=function(e){_ValidateInputPrice(e),renderAlertMessage()},renderAlertMessage=function(){var e=$J("#sih-resubmit-orders"),t=e.attr("data-table-id"),n=e.find(".sih-market-content__item"),i=e.find("#sih-resubmit-btn"),r=e.find(".sih-info-message"),a=r.find(".sih-info-message__alert"),o=0,s=0;n.each((function(e,t){var n=$J(t),i=+n.find(".sih-market-content__current-price").attr("data-price"),r=+n.find(".sih-market-content__input").val();o+=i,s+=r}));var l=(0,global.getPercentNumberDifference)(s,o,"sell_listings"===t?-1:1),c=Math.abs(Math.ceil(1e3*(s-o))/1e3),d=currency_service.A.getPriceFromCurrency(c,currencyId,currencyId).text;if(l<=-10){if(i.hasClass("sih-modal__button_blue")&&(e.find(".sih-resubmit-orders-group__modal").addClass("alert"),i.removeClass("sih-modal__button_blue").addClass("sih-modal__button_red").text(SIHLang.market.resubmit_orders.alert_resubmit)),a.length)a.find(".alert-info__percent").text("".concat(Math.abs(l),"%")),a.find(".alert-info__price").text("(".concat(d,")")),r.find(".sih-info-message__default").fadeOut(300,(function(){a.fadeIn(300)}));else{var u=$J('\n        <div class="sih-info-message__alert alert-info gap-5">\n          <span class="text text_red">'.concat(SIHLang.market.resubmit_orders.attention,'</span>\n          <span class="text text_white"\n            >').concat("sell_listings"===t?SIHLang.market.resubmit_orders.new_price_less_1:SIHLang.market.resubmit_orders.new_price_bigger_1,'</span\n          >\n          <span class="alert-info__percent text text_white">').concat(Math.abs(l),'%</span>\n          <span class="alert-info__price text text_white">(').concat(d,')</span>\n          <span class="text text_white"\n            >').concat("sell_listings"===t&&"en"===lang?SIHLang.market.resubmit_orders.new_price_less_2:"","</span\n          >\n        </div>\n      "));r.append(u)}r.find(".sih-info-message__default").fadeOut(300,(function(){r.find(".sih-info-message__alert").fadeIn(300)}))}else e.find(".sih-resubmit-orders-group__modal").removeClass("alert"),i.removeClass("sih-modal__button_red").addClass("sih-modal__button_blue").text(SIHLang.market.resubmit_orders.confirm),a.fadeOut(300,(function(){r.find(".sih-info-message__default").fadeIn(300)}))},resubmitBtnAction=function(){var e=$J("#sih-resubmit-orders"),t=e.find("#sih-resubmit-btn"),n=e.find(".sih-market-content__item"),i=null;t.off("click").click((function(){clearTimeout(i),i=setTimeout((function(){var i=e.attr("data-table-id");t.addClass("pointer-events-none"),n.each((function(e,t){var n=$J(t),r=$J("#tabContentsMyListings").find("#".concat("sell_listings"===i?"mylisting_".concat(t.itemInfo[1]):"mybuyorder_".concat(t.itemInfo[0]))),a=r.find(".sih-resubmit"),o=n.find(".sih-market-content__input");r[0].itemInfo=t.itemInfo;var s=+o.val();+n.find(".sih-market-content__current-price").attr("data-price")!==s&&BuildResubmitData(r,"manual",o),r.find(".select-checkbox").prop("checked",!1),a.removeClass("disabled"),RemoveResubmitGroupModal(),RenderToolbar(i),RenderChangePanel(i),UpdateStateRemoveSelectedButton($J("#tabContentsMyActiveMarketListingsTable")),UpdateHeaderTotalResubmitPrice(i)}))}),200)}))},RenderSelectedListing=function(){selectedListing_loadHtml(),selectedListing_actionsListener()},HideSelectedListing=function(){var e=$J("body"),t=$J(".sih-toolbar"),n=e.find(".sih-selected-listing"),i=n.find(".sih-selected-listing__content"),r=t.find(".sih-toolbar__toggle-selected-listing");n.is(":visible")&&(n.fadeOut(300),i.toggleClass("animate-down"),r.text("".concat(SIHLang.market.resubmit_orders.toolbar.show_list)),i.children().remove())},selectedListing_loadHtml=function(){var e=$J("body"),t=$J(".sih-toolbar"),n=$J("#sih-resubmit-orders"),i=e.find(".sih-selected-listing"),r=i.find(".sih-selected-listing__content"),a=t.find(".sih-toolbar__toggle-selected-listing"),o=t.attr("data-table-id"),s=$J('.my_listing_section[data-table-id="'.concat(o,'"] .market_listing_row[id^="').concat("sell_listings"===o?"mylisting":"mybuyorder",'"]')).find(".select-checkbox:checked").closest(".market_listing_row").clone();s=refactorRow(s),r.prepend('<div class="sih-selected-listing__close"></div>'),r.append(s),i.is(":visible")?i.fadeOut(300):(n.is(":visible")&&(RemoveResubmitModal(),RemoveResubmitGroupModal()),i.fadeIn(300)),r.toggleClass("animate-down"),r.hasClass("animate-down")?(a.text("".concat(SIHLang.market.resubmit_orders.toolbar.show_list)),r.children().remove()):a.text("".concat(SIHLang.market.resubmit_orders.toolbar.hide_list))},selectedListing_actionsListener=function(){closeSelectedListingAction(),selectCheckboxAction(),openEditAlertModalAction()},closeSelectedListingAction=function(){var e=$J("body").find(".sih-selected-listing");e.find(".sih-selected-listing__fade").off("click").click((function(){HideSelectedListing()})),e.find(".sih-selected-listing__close").off("click").click((function(){HideSelectedListing()}))},selectCheckboxAction=function(){var e=$J(".sih-toolbar"),t=$J("body").find(".sih-selected-listing");t.find(".market_listing_row").each((function(n,i){$J(i).find(".select-checkbox").off("click").click((function(){var n=e.attr("data-table-id"),i=$J(this).attr("id"),r=$J('.my_listing_section[data-table-id="'.concat(n,'"] .market_listing_row[id^="').concat("sell_listings"===n?"mylisting":"mybuyorder",'"]')).find("#".concat(i));r.length&&(r.trigger("click"),t.find(".market_listing_row .select-checkbox:checked").length||HideSelectedListing())}))}))},openEditAlertModalAction=function(){var e=$J("body").find(".sih-selected-listing"),t=$J(".sih-toolbar").attr("data-table-id");e.find(".market_listing_row").each((function(e,n){$J(n).find(".sih-market-alert").off("click").click((function(){RenderEditAlertModal(t)}))}))},refactorRow=function(e){var t=$J(".sih-toolbar").attr("data-table-id");return e.find(".market_listing_right_cell.market_listing_edit_buttons.placeholder").remove(),e.each((function(e,n){var i=$J(n);i.find(".sih-listing__color-cell").remove(),i.find("div").each((function(e,t){"clear: both"===$J(t).attr("style")&&$J(t).remove()})),i.prepend('<div class="sih-listing__item-info row items-center"></div>');var r=i.find(".sih-listing__item-info");i.find(".market_listing_item_img").prependTo(r),i.find(".market_listing_item_name_block").appendTo(r),i.find(".sih-listing__item-info").after('<div class="sih-listing__price-info row items-center justify-center"></div>');var a=i.find(".sih-listing__price-info");if(i.find(".market_listing_right_cell.market_listing_listed_date.can_combine").appendTo(a),i.find(".market_listing_minimum").length)i.find(".market_listing_minimum").appendTo(a);else if("sell_listings"===t){a.prepend('<div\n        class="row items-center justify-center market_listing_right_cell market_listing_minimum"\n      ></div>')}i.find(".market_listing_right_cell.market_listing_my_price").appendTo(a)})),e},checkLoadersDebounce=null,RenderToolbar=function(e){IsEnabledResubmitOrders().then((function(t){if(t.success){if("await_listings"===e)return;sih_app_global_service.A.getSubscribeAds().then((function(t){toolbar_loadHtml(e,t.success),CheckLoadedPricesSelectedRows()}))}}))},CheckLoadedPricesSelectedRows=function(){clearTimeout(checkLoadersDebounce),checkLoadersDebounce=setTimeout((function(){var e,t=$J(".sih-toolbar"),n=t.attr("data-table-id"),i=$J('.my_listing_section[data-table-id="'.concat(n,'"] .market_listing_row[id^="').concat("sell_listings"===n?"mylisting":"mybuyorder",'"]')).find(".select-checkbox:checked").closest(".market_listing_row"),r=t.find(".sih-toolbar__buttons"),a=t.find(".sih-toolbar__info"),o=0;i.each((function(t,n){$J(n).find(".sih-resubmit").hasClass("without-price")?e=!1:o++})),e=void 0===e&&i.length?!e:e,t.length&&t.is(":visible")&&(e?t.find(".sih-toolbar__buttons").is(":visible")||a.fadeOut(200,(function(){t.find(".sih-toolbar__buttons").css("display","flex").hide().fadeIn(50)})):r.addClass("pointer-events-none").fadeOut(200,(function(){var e;r.removeClass("pointer-events-none"),a.children().remove();var t=getLoadPricesBtn(n);t&&t.hasClass("animated-background")?e=$J('\n              <span class="text text_white text-center fs-14">'.concat(SIHLang.market.resubmit_orders.toolbar.load_info,"</span>\n            ")):(e=$J('\n              <div class="row items-center gap-5">\n                <a href="javascript:void(0)" class="sih-toolbar__load-prices text text_blue fs-14"\n                  >'.concat(SIHLang.market.resubmit_orders.tooltips.need_load_price_1,'</a\n                >\n                <span class="text text_white fs-14">').concat(SIHLang.market.resubmit_orders.tooltips.need_load_price_2,"</span>\n              </div>\n            "))).off("click").click((function(){return $J('.my_listing_section[data-table-id="'.concat(n,'"]')).find(".load_price_manual").trigger("click")})),a.append(e),a.is(":visible")||a.css("display","flex").hide().fadeIn(100)})),loadToolbarProgress(o,i.length))}),300)},loadToolbarProgress=function(e,t){var n=0,i=$J(".sih-toolbar"),r=i.find(".sih-toolbar__progress-bar"),a=Number(i.css("width").replace(/px/g,"").trim());a!==(n+=a/t*e)?(i.hasClass("progress")||i.addClass("progress"),r.width(Math.ceil(n)),r.is(":visible")||r.css("display","flex").hide().fadeIn()):r.width(Math.ceil(n)).fadeOut(1100,(function(){r.width(0),i.removeClass("progress")}))},toolbar_loadHtml=function(e,t){var n=$J("body"),i=$J('.my_listing_section[data-table-id="'.concat(e,'"] .market_listing_row[id^="').concat("sell_listings"===e?"mylisting":"mybuyorder",'"]')).find(".select-checkbox:checked"),r=$J('.my_listing_section[data-table-id="'.concat("sell_listings"===e?"buy_orders":"sell_listings",'"] .market_listing_row[id^="').concat("sell_listings"===e?"mybuyorder":"mylisting",'"]')).find(".select-checkbox:checked"),a=i?i.length:0;a&&r.length&&(r.each((function(e,t){return $J(t).trigger("click")})),RenderToolbar(e));var o=currency_service.A.getPriceFromCurrency(.01,currencyId,currencyId).text,s=$J('\n    <div class="sih-toolbar animate-down sih-global progress" data-table-id="'.concat(e,'">\n      <div class="sih-toolbar__inner">\n        <div class="column gap-14">\n          <div class="row gap-5">\n            <span class="text text_white">').concat(SIHLang.market.resubmit_orders.selected,'</span>\n            <span class="sih-toolbar__stack-count text text_white">').concat(a,'</span>\n            <span class="text text_white">').concat(SIHLang.market.resubmit_orders.items,'</span>\n          </div>\n          <div class="row gap-20">\n            <a href="javascript:void(0)" class="sih-toolbar__uncheck-all text text_blue hover-opacity-8"\n              >').concat(SIHLang.market.resubmit_orders.toolbar.clear_list,'</a\n            >\n            <a href="javascript:void(0)" class="sih-toolbar__toggle-selected-listing text text_blue hover-opacity-8"\n              >').concat(SIHLang.market.resubmit_orders.toolbar.show_list,'</a\n            >\n          </div>\n        </div>\n        <div class="sih-toolbar__buttons">\n          ').concat(t?"":'\n                 <div class="sih-toolbar__sub-info">\n                    <span class="text text_light-grey fs-12">'.concat(SIHLang.market.resubmit_orders.sub_info_2,' <span class="sih-toolbar__sub-btn">SIH.Black</span></span>\n                 </div>\n               '),'\n          <a href="javascript:void(0)" class="sih-toolbar__resubmit sih-toolbar__button" data-state="default">\n            <img src="chrome-extension://').concat(SIHID,'/assets/market/resubmit/resubmit_default.svg" alt="resubmit_default" />\n            <span class="row gap-5">\n              <span class="sih-toolbar__changed-text text"\n                >').concat("sell_listings"===e?SIHLang.market.resubmit_orders.drop:SIHLang.market.resubmit_orders.add,'</span\n              >\n              <span class="text">').concat(o,'</span>\n            </span>\n          </a>\n          <a href="javascript:void(0)" class="sih-toolbar__resubmit sih-toolbar__button" data-state="percent">\n            <img src="chrome-extension://').concat(SIHID,'/assets/market/resubmit/resubmit_percent.svg" alt="resubmit_percent" />\n            <span class="row gap-5">\n              <span class="sih-toolbar__changed-text text"\n                >').concat("sell_listings"===e?SIHLang.market.resubmit_orders.drop:SIHLang.market.resubmit_orders.add,'</span\n              >\n              <span class="text">1%</span>\n            </span>\n          </a>\n          <a href="javascript:void(0)" class="sih-toolbar__resubmit sih-toolbar__button" data-state="manual">\n            <img src="chrome-extension://').concat(SIHID,'/assets/market/resubmit/resubmit_manual.svg" alt="resubmit_manual" />\n            <span class="text">').concat(SIHLang.market.resubmit_orders.set_price,'</span>\n          </a>\n        </div>\n        <div class="sih-toolbar__info"></div>\n        <div class="sih-toolbar__progress-bar"></div>\n      </div>\n    </div>\n\n    <div class="sih-selected-listing">\n      <div class="sih-selected-listing__fade"></div>\n      <div class="sih-selected-listing__content animate-down"></div>\n    </div>\n  ')),l=n.find(".sih-toolbar"),c=n.find(".sih-change-panel");!l.length&&a?(n.append(s),setTimeout((function(){n.find(".sih-toolbar").removeClass("animate-down"),RelocatePriceIndicator()}),100),toolbar_actionsListener()):a>0?(l.attr("data-table-id",e),l.find(".sih-toolbar__stack-count").text(a),c.hasClass("animate-down")||c.addClass("animate-down"),l.removeClass("animate-down"),updateToolbar(),RelocatePriceIndicator()):(l.addClass("animate-down"),RenderChangePanel(e));var d=n.find(".sih-toolbar .sih-toolbar__sub-info");"sell_listings"===e?d.show():d.hide()},updateToolbar=function(){var e=$J(".sih-toolbar"),t=e.attr("data-table-id");e.find(".sih-toolbar__changed-text").text("".concat("sell_listings"===t?SIHLang.market.resubmit_orders.drop:SIHLang.market.resubmit_orders.add))},toolbar_actionsListener=function(){uncheckAllAction(),showSelectedListingAction(),toolbar_resubmitBtnAction(),sihBlackModalAction()},uncheckAllAction=function(){var e=$J(".sih-toolbar"),t=e.find(".sih-toolbar__uncheck-all"),n=null;t.off("click").click((function(){var t=e.attr("data-table-id");clearTimeout(n),n=setTimeout((function(){var e="sell_listings"===t?$J("#tabContentsMyActiveMarketListingsTable"):$J("#buy_orders").closest(".my_listing_section");e.find(".market_listing_table_header .select-checkbox").prop("checked",!1),e.find('.market_listing_row[id^="'.concat("sell_listings"===t?"mylisting":"mybuyorder",'"] .select-checkbox:checked')).trigger("click"),RemoveResubmitModal(),RemoveResubmitGroupModal(),RenderToolbar(t),HideSelectedListing(),UpdateStateRemoveSelectedButton(e)}),200)}))},showSelectedListingAction=function(){var e=$J(".sih-toolbar").find(".sih-toolbar__toggle-selected-listing"),t=null;e.off("click").click((function(){clearTimeout(t),t=setTimeout((function(){RenderSelectedListing()}),300)}))},toolbar_resubmitBtnAction=function(){var e=$J(".sih-toolbar"),t=e.find(".sih-toolbar__resubmit");t.off("click").click((function(){var n=e.attr("data-table-id"),i=$J(this);i.addClass("animated").siblings(".sih-toolbar__button").addClass("opacity-50per disabled");var r=i.attr("data-state"),a="sell_listings"===n?$J("#tabContentsMyActiveMarketListingsTable"):$J("#buy_orders").closest(".my_listing_section"),o=a.find('.market_listing_row[id^="'.concat("sell_listings"===n?"mylisting":"mybuyorder",'"] .select-checkbox:checked')).closest(".market_listing_row");Promise.all(o.map((function(e,t){return new Promise((function(n){var i=$J(t),a=i.find(".sih-resubmit"),o=a.find(".sih-resubmit__btn");"manual"!==r?setTimeout((function(){BuildResubmitData(i,r),o.attr("data-state",r),o.find("img").attr("src","chrome-extension://".concat(SIHID,"/assets/market/resubmit/resubmit_").concat(r,".svg")).attr("alt",r),i.find(".select-checkbox").prop("checked",!1),a.removeClass("disabled"),n()}),100*(e+1)):n(i)}))})).toArray()).then((function(i){a.find(".market_listing_table_header .select-checkbox").prop("checked",!1),"manual"!==r?(HideSelectedListing(),RenderChangePanel(n),RenderToolbar(n),UpdateStateRemoveSelectedButton(a),t.removeClass("opacity-50per disabled animated")):(HideSelectedListing(),ResubmitGroupModal(i),e.find(".sih-toolbar__button").removeClass("animated").addClass("opacity-50per disabled")),UpdateHeaderTotalResubmitPrice(n)}))}))},getLoadPricesBtn=function(e){var t;switch(e){case"sell_listings":t=$J("#load_sell_overprices");break;case"buy_orders":t=$J("#load_buy_lowerprices")}return t},sihBlackModalAction=function(){$J(".sih-toolbar").find(".sih-toolbar__sub-btn").off("click").click((function(){loadSubscribeAds(),ShowModalSubscribeAds()}))};function removeSelected_typeof(e){return removeSelected_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},removeSelected_typeof(e)}function removeSelected_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */removeSelected_regeneratorRuntime=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),s=new R(i||[]);return r(o,"_invoke",{value:I(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var _="suspendedStart",m="suspendedYield",h="executing",f="completed",p={};function g(){}function v(){}function b(){}var y={};c(y,o,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(T([])));S&&S!==n&&i.call(S,o)&&(y=S);var w=b.prototype=g.prototype=Object.create(y);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(r,a,o,s){var l=u(e[r],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==removeSelected_typeof(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return a=a?a.then(r,r):r()}})}function I(t,n,i){var r=_;return function(a,o){if(r===h)throw Error("Generator is already running");if(r===f){if("throw"===a)throw o;return{value:e,done:!0}}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var l=x(s,i);if(l){if(l===p)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===_)throw r=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=h;var c=u(t,n,i);if("normal"===c.type){if(r=i.done?f:m,c.arg===p)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=f,i.method="throw",i.arg=c.arg)}}}function x(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),p;var a=u(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(removeSelected_typeof(t)+" is not iterable")}return v.prototype=b,r(w,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},C(A.prototype),c(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new A(d(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(w),c(w,l,"Generator"),c(w,o,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=T,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;L(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:T(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),p}},t}function removeSelected_createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=removeSelected_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function removeSelected_unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return removeSelected_arrayLikeToArray(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?removeSelected_arrayLikeToArray(e,t):void 0}}function removeSelected_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function removeSelected_asyncGeneratorStep(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function removeSelected_asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){removeSelected_asyncGeneratorStep(a,i,r,o,s,"next",e)}function s(e){removeSelected_asyncGeneratorStep(a,i,r,o,s,"throw",e)}o(void 0)}))}}var RenderRemoveSelectedButton=function(){removeSelected_loadHtml(),removeSelected_removeListingAction()},RemoveSelectedListing=function(){var e=removeSelected_asyncToGenerator(removeSelected_regeneratorRuntime().mark((function e(t){var n,i,r,a,o,s,l,c,d,u;return removeSelected_regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.attr("data-table-id"),i=t.find(".market_listing_row").find(".select-checkbox:checked"),r=i.toArray(),a=LocalStorageSihMarketResubmit.getDelay(n),o=a.delay,s=a.isEnabled,l=[],c=removeSelected_createForOfIteratorHelper(r),e.prev=6,u=removeSelected_regeneratorRuntime().mark((function e(){var t,n,i,r;return removeSelected_regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.value,n=$J(t).closest(".market_recent_listing_row").attr("id"),!s){e.next=5;break}return e.next=5,new Promise((function(e){return setTimeout(e,o)}));case 5:0==n.indexOf("mylisting")?(i=n.substring(10),$J("#".concat(n," .market_listing_edit_buttons.actual_content")).find(".item_market_action_button.item_market_action_button_edit").text("Removing..."),l.push(new Promise((function(e,t){$J.post("//steamcommunity.com/market/removelisting/".concat(i),{sessionid:g_sessionID}).then(e).fail(t)})))):0==n.indexOf("mybuyorder")&&(r=n.substring(11),$J("#".concat(n," .market_listing_edit_buttons.actual_content")).find(".item_market_action_button.item_market_action_button_edit").text("Cancelling..."),l.push(new Promise((function(e,t){$J.post("//steamcommunity.com/market/cancelbuyorder/",{sessionid:g_sessionID,buy_orderid:r}).then(e).fail(t)}))));case 6:case"end":return e.stop()}}),e)})),c.s();case 9:if((d=c.n()).done){e.next=13;break}return e.delegateYield(u(),"t0",11);case 11:e.next=9;break;case 13:e.next=18;break;case 15:e.prev=15,e.t1=e.catch(6),c.e(e.t1);case 18:return e.prev=18,c.f(),e.finish(18);case 21:Promise.all(l).then((function(e){var t=r.reduce((function(e,t){var i=$J(t).parents(".market_recent_listing_row"),r=GetListingItemRowInfo(i);return i.hide(300,(function(){i.remove(),"sell_listings"===n&&clearGlobalListingRows(i.attr("id")),RenderToolbar(n)})),e.push(r[4]),e}),[]);chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_REMOVE_ITEM_FOR_SALE",data:{assetids:t}},(function(){})),RefreshMyMarketListings()})).catch((function(e){r.forEach((function(e){var t=$J(e).parents(".market_recent_listing_row");t.hide(300,(function(){t.remove(),"sell_listings"===n&&clearGlobalListingRows(t.attr("id")),RenderToolbar(n)}))})),RefreshMyMarketListings()}));case 22:case"end":return e.stop()}}),e,null,[[6,15,18,21]])})));return function(t){return e.apply(this,arguments)}}(),UpdateStateRemoveSelectedButton=function(e){var t=e.find(".market_listing_row:not(.stack)"),n=e.find(".sih-market-filter .sih-market-filter__right-side .sih-market-filter__remove-selected");t.find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox:visible:checked").length>0?n.length&&n.removeClass("disabled"):n.length&&!n.hasClass("disabled")&&n.addClass("disabled")},removeSelected_loadHtml=function(){var e=$J(".sih-market-filter").find(".sih-market-filter__right-side"),t=$J('\n    <a href="javascript:void(0)" class="sih-market-filter__remove-selected disabled">\n      <svg width="16" height="18" viewBox="0 0 16 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path\n          d="M5 0V1H0V3H1V16C1 16.5304 1.21071 17.0391 1.58579 17.4142C1.96086 17.7893 2.46957 18 3 18H13C13.5304 18 14.0391 17.7893 14.4142 17.4142C14.7893 17.0391 15 16.5304 15 16V3H16V1H11V0H5ZM3 3H13V16H3V3ZM5 5V14H7V5H5ZM9 5V14H11V5H9Z"\n          fill="#FFFFFF"\n        />\n      </svg>\n    </a>\n  ');e.find(".sih-market-filter__remove-selected").length||e.append(t)},removeSelected_removeListingAction=function(){$J(".sih-market-filter").find(".sih-market-filter__right-side").find(".sih-market-filter__remove-selected").off("click").click((function(){var e=$J(this).closest(".my_listing_section");$J(".sih-toolbar").hasClass("animate-down")||$J(".sih-toolbar").addClass("animate-down"),RenderCustomRemoveModal(e)}))},clearGlobalListingRows=function(e){$ACTIVE_LISTING_ROWS.each((function(t,n){$J(n).attr("id")===e&&$ACTIVE_LISTING_ROWS.splice(t,1)}))},RenderResubmitModal=function(e){resubmitModal_loadHtml(e),resubmitModal_listenerActions()},RemoveResubmitModal=function(){var e=$J("#sih-resubmit-orders"),t=$J(".sih-toolbar").find(".sih-toolbar__button");e.fadeOut(300,(function(){e.remove(),t.removeClass("disabled opacity-50per")}))},resubmitModal_loadHtml=function(e){var t=$J("body"),n=e.attr("id").includes("mybuyorder")?"buy_orders":"sell_listings",i=!!e.find(".sih-market-alert").length,r=GetListingItemRowInfo(e),a=e.find(".market_listing_item_name_link").attr("href"),o=e.find(".market_listing_item_img").attr("src"),s=e.find(".market_listing_item_img").css("border-color"),l=e.find(".market_listing_item_name_link").text(),c=e.find(".market_listing_game_name").text(),d="sell_listings"===n?e.find(".market_listing_right_cell.market_listing_my_price").find(".market_listing_price span"):e.find(".sih_listing_my_price"),u="sell_listings"===n?e.find(".market_listing_minimum--text").text().trim():e.find(".market_listing_buyorder_max .market_listing_price").text().trim(),_="sell_listings"===n?d.find("span:first-child").text().trim():d.text().trim(),m="sell_listings"===n?d.find("span:last-child").text().trim():0,h=_.match(new RegExp(/([\d+?., ]+)/g))||"0",f=(0,global.parseNumber)("0"!==h?h[0]:h),p=u.match(new RegExp(/([\d+?., ]+)/g))||"0",g=(0,global.parseNumber)("0"!==p?p[0]:p),v=LocalStorageSihMarketResubmit.getPercentAlert(n).percent_alert,b=void 0===v?20:v,y=$J('\n    <div id="sih-resubmit-orders" class="sih-resubmit-orders" data-table-id="'.concat(n,'">\n      <div class="sih-resubmit-orders__fade"></div>\n      <div class="sih-global sih-modal sih-resubmit-orders__modal">\n        <div class="sih-resubmit-orders__inner sih-modal__inner">\n          <div class="row gap-20 items-center justify-between">\n            <div class="sih-resubmit-orders__item-info row items-center">\n              <img\n                class="sih-resubmit-orders__image market_listing_item_img"\n                src="').concat(o,'"\n                style="border-color: ').concat(s,'"\n              />\n              <div class="column">\n                <a href="').concat(a,'" target="_blank" class="sih-resubmit-orders__item-name text bold">').concat(l,'</a>\n                <span class="text fs-12 text_grey-900">').concat(c,'</span>\n              </div>\n            </div>\n\n            <div class="sih-resubmit-orders__compare">\n              <a\n                href="javascript:void(0)"\n                class="sih-resubmit-orders__current-price column"\n                data-price="').concat(f,'"\n              >\n                <span class="text text_white bold text-center text-ellipsis">').concat(_,"</span>\n                ").concat(m?'<span class="text text_grey-900 text-center text-ellipsis">'.concat(m,"</span>"):"",'\n              </a>\n\n              <div class="row justify-center items-center w-24 h-24">\n                <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <path\n                    d="M0.589844 10.58L5.16984 6L0.589844 1.41L1.99984 0L7.99984 6L1.99984 12L0.589844 10.58Z"\n                    fill="#9EA7B3"\n                  />\n                </svg>\n              </div>\n\n              <a\n                href="javascript:void(0)"\n                class="sih-resubmit-orders__changed-price column"\n                data-price="').concat(f,'"\n              >\n                <span class="sih-resubmit-orders__changed-price--selling text text_white bold text-center text-ellipsis"\n                  >').concat(_,"</span\n                >\n                ").concat(m?'<span class="sih-resubmit-orders__changed-price--receive text text_grey-900 text-center text-ellipsis">'.concat(m,"</span>"):"","\n              </a>\n            </div>\n          </div>\n\n          ").concat(i?'\n                <div class="sih-resubmit-orders__info-message sih-info-message" data-state="dumping">\n                  <div class="sih-info-message__default">\n                    <span class="sih-info-message__attention-icon"\n                      ><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path\n                          fill-rule="evenodd"\n                          clip-rule="evenodd"\n                          d="M22 12C22 6.477 17.523 2 12 2C6.477 2 2 6.477 2 12C2 17.523 6.477 22 12 22C17.523 22 22 17.523 22 12ZM12 7C12.2652 7 12.5196 7.10536 12.7071 7.29289C12.8946 7.48043 13 7.73478 13 8V13C13 13.2652 12.8946 13.5196 12.7071 13.7071C12.5196 13.8946 12.2652 14 12 14C11.7348 14 11.4804 13.8946 11.2929 13.7071C11.1054 13.5196 11 13.2652 11 13V8C11 7.73478 11.1054 7.48043 11.2929 7.29289C11.4804 7.10536 11.7348 7 12 7ZM11 16C11 15.7348 11.1054 15.4804 11.2929 15.2929C11.4804 15.1054 11.7348 15 12 15H12.008C12.2732 15 12.5276 15.1054 12.7151 15.2929C12.9026 15.4804 13.008 15.7348 13.008 16C13.008 16.2652 12.9026 16.5196 12.7151 16.7071C12.5276 16.8946 12.2732 17 12.008 17H12C11.7348 17 11.4804 16.8946 11.2929 16.7071C11.1054 16.5196 11 16.2652 11 16Z"\n                          fill="#D85752"\n                        />\n                      </svg>\n                    </span>\n\n                    <span class="text">\n                      '.concat("sell_listings"===n?SIHLang.market.resubmit_orders.alert_info_text_1:SIHLang.market.resubmit_orders.alert_info_buy_text_1,"\n                      ").concat(b,"%\n                      ").concat("sell_listings"===n&&"en"===lang?SIHLang.market.resubmit_orders.alert_info_text_2:"","\n                    </span>\n                  </div>\n                </div>\n              "):' <div class="sih-resubmit-orders__info-message sih-info-message" data-state="default">\n                <div class="sih-info-message__default">\n                  <span class="text">'.concat(SIHLang.market.resubmit_orders.set_new_price,"</span>\n                </div>\n              </div>"),'\n\n          <div class="column gap-16">\n            <label\n              for="sih-resubmit-orders-input"\n              class="row justify-between items-center bg-black-100 py-8 px-24 br2-grey"\n            >\n              <input\n                type="number"\n                id="sih-resubmit-orders-input"\n                class="sih-resubmit-orders__input text text_white bg-transparent border-none"\n                value="').concat(f,'"\n                step="0.01"\n                min="0.03"\n              />\n\n              <label\n                for="sih-resubmit-orders-input"\n                class="sih-resubmit-orders__best-price row gap-5"\n                data-price="').concat(g,'"\n              >\n                ').concat(i?'<span class="text text_red">'.concat(SIHLang.market.resubmit_orders.market_price,'</span>\n                            <span class="text text_red">').concat(u,"</span>"):'<span class="text text_grey-900">'.concat(SIHLang.market.resubmit_orders.market_price,'</span>\n                            <span class="text text_grey-900">').concat(u,"</span>"),'\n              </label>\n            </label>\n          </div>\n\n          <div class="sih-modal__buttons row justify-end">\n            <a\n              href="javascript:void(0)"\n              id="sih-resubmit-btn"\n              class="disabled opacity-50per sih-modal__button sih-modal__button_blue fs-10 bold py-8 text-uppercase"\n              >').concat(SIHLang.market.resubmit_orders.confirm,"</a\n            >\n          </div>\n        </div>\n      </div>\n    </div>\n  "));y[0].itemInfo=r,t.find("#sih-resubmit-orders").length||(t.append(y),$J("#sih-resubmit-orders").find(".sih-resubmit-orders__modal").fadeIn(300))},resubmitModal_listenerActions=function(){resubmitModal_closeModalAction(),resubmitModal_currentPriceAction(),resubmitModal_bestPriceAction(),changeResubmitInputAction(),resubmitModal_resubmitBtnAction(),resubmitModal_focusOnInputOpen()},resubmitModal_closeModalAction=function(){$J("#sih-resubmit-orders").find(".sih-resubmit-orders__fade").off("click").click((function(){RemoveResubmitModal()}))},resubmitModal_bestPriceAction=function(){var e=$J("#sih-resubmit-orders"),t=e.find(".sih-resubmit-orders__best-price"),n=e.find("#sih-resubmit-orders-input"),i=e.find("#sih-resubmit-btn");t.off("click").click((function(){var e=$J(this).attr("data-price");n.val(e),resubmitModal_onChangePrice(n),i.removeClass("disabled opacity-50per")}))},resubmitModal_onChangePrice=function(e){_ValidateInputPrice(e),resubmitModal_renderAlertMessage(),updateChangedPrice()},resubmitModal_renderAlertMessage=function(){var e=$J("#sih-resubmit-orders"),t=e.attr("data-table-id"),n=e.find(".sih-resubmit-orders__current-price"),i=e.find("#sih-resubmit-orders-input"),r=e.find(".sih-info-message"),a=e.find("#sih-resubmit-btn"),o=n.attr("data-price"),s=i.val(),l=(0,global.getPercentNumberDifference)(s,o,"sell_listings"===t?-1:1),c=r.find(".sih-info-message__alert");if(l<=-10){var d,u=currency_service.A.getPriceFromCurrency(Math.abs(s-o),currencyId,currencyId).text;if(a.hasClass("sih-modal__button_blue")&&(e.find(".sih-resubmit-orders__modal").addClass("alert"),a.removeClass("sih-modal__button_blue").addClass("sih-modal__button_red").text(SIHLang.market.resubmit_orders.alert_resubmit)),c.length)c.find(".alert-info__percent").text("".concat(Math.abs(l),"%")),c.find(".alert-info__price").text("(".concat(u,")")),r.find(".sih-info-message__default").fadeOut(300,(function(){c.fadeIn(300)}));else d="dumping"===r.attr("data-state")?$J('\n          <div class="sih-info-message__alert alert-info gap-5">\n            <span class="sih-info-message__attention-icon"\n              ><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path\n                  fill-rule="evenodd"\n                  clip-rule="evenodd"\n                  d="M22 12C22 6.477 17.523 2 12 2C6.477 2 2 6.477 2 12C2 17.523 6.477 22 12 22C17.523 22 22 17.523 22 12ZM12 7C12.2652 7 12.5196 7.10536 12.7071 7.29289C12.8946 7.48043 13 7.73478 13 8V13C13 13.2652 12.8946 13.5196 12.7071 13.7071C12.5196 13.8946 12.2652 14 12 14C11.7348 14 11.4804 13.8946 11.2929 13.7071C11.1054 13.5196 11 13.2652 11 13V8C11 7.73478 11.1054 7.48043 11.2929 7.29289C11.4804 7.10536 11.7348 7 12 7ZM11 16C11 15.7348 11.1054 15.4804 11.2929 15.2929C11.4804 15.1054 11.7348 15 12 15H12.008C12.2732 15 12.5276 15.1054 12.7151 15.2929C12.9026 15.4804 13.008 15.7348 13.008 16C13.008 16.2652 12.9026 16.5196 12.7151 16.7071C12.5276 16.8946 12.2732 17 12.008 17H12C11.7348 17 11.4804 16.8946 11.2929 16.7071C11.1054 16.5196 11 16.2652 11 16Z"\n                  fill="#D85752"\n                />\n              </svg>\n            </span>\n            <span class="text text_white"\n              >'.concat("sell_listings"===t?SIHLang.market.resubmit_orders.new_price_less_1:SIHLang.market.resubmit_orders.new_price_bigger_1,'</span\n            >\n            <span class="alert-info__percent text text_white">').concat(Math.abs(l),'%</span>\n            <span class="alert-info__price text text_white">(').concat(u,')</span>\n            <span class="text text_white"\n              >').concat("sell_listings"===t&&"en"===lang?SIHLang.market.resubmit_orders.new_price_less_2:"","</span\n            >\n          </div>\n        ")):$J('\n          <div class="sih-info-message__alert alert-info gap-5">\n            <span class="sih-info-message__attention-icon"\n              ><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path\n                  fill-rule="evenodd"\n                  clip-rule="evenodd"\n                  d="M22 12C22 6.477 17.523 2 12 2C6.477 2 2 6.477 2 12C2 17.523 6.477 22 12 22C17.523 22 22 17.523 22 12ZM12 7C12.2652 7 12.5196 7.10536 12.7071 7.29289C12.8946 7.48043 13 7.73478 13 8V13C13 13.2652 12.8946 13.5196 12.7071 13.7071C12.5196 13.8946 12.2652 14 12 14C11.7348 14 11.4804 13.8946 11.2929 13.7071C11.1054 13.5196 11 13.2652 11 13V8C11 7.73478 11.1054 7.48043 11.2929 7.29289C11.4804 7.10536 11.7348 7 12 7ZM11 16C11 15.7348 11.1054 15.4804 11.2929 15.2929C11.4804 15.1054 11.7348 15 12 15H12.008C12.2732 15 12.5276 15.1054 12.7151 15.2929C12.9026 15.4804 13.008 15.7348 13.008 16C13.008 16.2652 12.9026 16.5196 12.7151 16.7071C12.5276 16.8946 12.2732 17 12.008 17H12C11.7348 17 11.4804 16.8946 11.2929 16.7071C11.1054 16.5196 11 16.2652 11 16Z"\n                  fill="#D85752"\n                />\n              </svg>\n            </span>\n            <span class="text text_white"\n              >'.concat("sell_listings"===t?SIHLang.market.resubmit_orders.new_price_discount_1:SIHLang.market.resubmit_orders.new_price_discount_buy_1,'</span\n            >\n            <span class="alert-info__percent text text_white">').concat(Math.abs(l),'%</span>\n            <span class="alert-info__price text text_white">(').concat(u,')</span>\n            <span class="text text_white"\n              >').concat("sell_listings"===t?SIHLang.market.resubmit_orders.new_price_discount_2:SIHLang.market.resubmit_orders.new_price_discount_buy_2,"</span\n            >\n          </div>\n        ")),r.append(d),r.find(".sih-info-message__default").fadeOut(300,(function(){r.find(".sih-info-message__alert").fadeIn(300).css("display","flex")}))}else e.find(".sih-resubmit-orders__modal").removeClass("alert"),a.removeClass("sih-modal__button_red").addClass("sih-modal__button_blue").text(SIHLang.market.resubmit_orders.confirm),c.fadeOut(300,(function(){r.find(".sih-info-message__default").fadeIn(300)}))},updateChangedPrice=function(){var e=$J("#sih-resubmit-orders"),t=e.find(".sih-resubmit-orders__changed-price--selling"),n=e.find(".sih-resubmit-orders__changed-price--receive").length?e.find(".sih-resubmit-orders__changed-price--receive"):null,i=e.find("#sih-resubmit-orders-input").val().match(new RegExp(/([-\d+?., ]+)/g))||"0",r=(0,global.parseNumber)("0"!==i?i[0]:i),a=r?RecalculateSellerPrice(r):0,o=Math.floor(window.PriceUtils.steamBuyerPrice(a,g_rgWalletInfo.wallet_publisher_fee_percent_default,g_rgWalletInfo)/100*100)/100;o<r&&(r=o);var s=currency_service.A.getPriceFromCurrency(r,currencyId,currencyId).text,l=currency_service.A.getPriceFromCurrency(a/100,currencyId,currencyId).text;t.text(s),n&&n.length&&n.text("(".concat(l,")"))},resubmitModal_currentPriceAction=function(){var e=$J("#sih-resubmit-orders"),t=e.find(".sih-resubmit-orders__current-price"),n=e.find("#sih-resubmit-orders-input"),i=e.find("#sih-resubmit-btn");t.off("click").click((function(){var e=$J(this).attr("data-price");n.val(e),i.hasClass("disabled opacity-50per")||i.addClass("disabled opacity-50per"),resubmitModal_onChangePrice(n)}))},changeResubmitInputAction=function(){var e=$J("#sih-resubmit-orders"),t=e.find("#sih-resubmit-orders-input"),n=e.find("#sih-resubmit-btn"),i=+e.find(".sih-resubmit-orders__current-price").attr("data-price"),r=null;t.focus((function(){t.keyup((function(){var e=$J(this),t=+e.val()||0;clearTimeout(r),r=setTimeout((function(){t>i||t<i?n.removeClass("disabled opacity-50per"):n.hasClass("disabled opacity-50per")||n.addClass("disabled opacity-50per"),resubmitModal_onChangePrice(e)}),500)}))})),t.focusout((function(){t.off("keyup")})),t.off("change").change((function(){var e=$J(this),t=+e.val()||0;t>i||t<i?n.removeClass("disabled opacity-50per"):n.hasClass("disabled opacity-50per")||n.addClass("disabled opacity-50per"),resubmitModal_onChangePrice(e)}))},resubmitModal_focusOnInputOpen=function(){$J("#sih-resubmit-orders-input").trigger("focus"),$J("#sih-resubmit-orders-input")[0].select()},resubmitModal_resubmitBtnAction=function(){var e=$J("#sih-resubmit-orders"),t=e.attr("data-table-id"),n=e.find("#sih-resubmit-orders-input"),i=e.find("#sih-resubmit-btn"),r=null;i.off("click").click((function(){clearTimeout(r),r=setTimeout((function(){i.addClass("pointer-events-none");var r=$J("#tabContentsMyListings").find("#".concat("sell_listings"===t?"mylisting_".concat(e[0].itemInfo[1]):"mybuyorder_".concat(e[0].itemInfo[0])));BuildResubmitData(r,"manual",n),RemoveResubmitModal(),RenderChangePanel(t),UpdateStateRemoveSelectedButton($J("#tabContentsMyActiveMarketListingsTable")),UpdateHeaderTotalResubmitPrice(t)}),200)}))},RenderMarketAlert=function(e,t){IsEnabledResubmitOrders().then((function(n){if(n.success){var i="sell_listings"===e?t.find(".market_listing_minimum"):t.find(".market_listing_buyorder_max");if(!i.find(".sih-market-alert").length&&("sell_listings"===e||"buy_orders"===e)){var r=$J(' <a class="sih-market-alert row items-center" title="">\n            <svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                d="M10.9998 11.0002H8.9998V6.0002H10.9998V11.0002ZM10.9998 15.0002H8.9998V13.0002H10.9998V15.0002ZM1.5998 18.0002H18.3998C19.5998 18.0002 20.2998 16.7002 19.6998 15.7002L11.2998 1.2002C10.6998 0.200195 9.2998 0.200195 8.6998 1.2002L0.299805 15.7002C-0.300195 16.7002 0.399805 18.0002 1.5998 18.0002Z"\n                fill="#C44E4E"\n              />\n            </svg>\n          </a>'),a=LocalStorageSihMarketResubmit.getPercentAlert(e).percent_alert,o=void 0===a?20:a,s=$J('\n          <div class="sih-global">\n            <div class="column gap-5">\n              <span class="text">\n                '.concat("sell_listings"===e?SIHLang.market.resubmit_orders.alert_info_text_1:SIHLang.market.resubmit_orders.alert_info_buy_text_1,'\n                <a href="javascript:void(0)" class="sih-edit-alert__btn text text_blue hover-opacity-8"\n                  >').concat(o,"%</a\n                >\n                ").concat("sell_listings"===e&&"en"===lang?SIHLang.market.resubmit_orders.alert_info_text_2:"",'\n              </span>\n              <a href="javascript:void(0)" class="sih-edit-alert__btn text text_blue hover-opacity-8"\n                >').concat(SIHLang.market.resubmit_orders.tooltips.alert_info_edit,"</a\n              >\n            </div>\n          </div>\n        "));r.tooltip({content:s.text(),position:{my:"left top",at:"left bottom",using:function(t,n){s.find(".sih-edit-alert__btn").click((function(){RenderEditAlertModal(e)})),$J(this).css(t),$J(".ui-tooltip-content").hide(),$J(this).append(s)}},classes:{"ui-tooltip":"sih-steam-market__tooltip"}}).on("mouseenter",(function(e){r.not($J(this)).tooltip("close")})).on("mouseleave",(function(e){$J(".ui-tooltip:hover").length>0&&e.stopImmediatePropagation()})),$J("body").on("mouseleave",".ui-tooltip",(function(e){r.tooltip(),r.tooltip("close")})),r.click((function(){RenderResubmitModal(t)})),i.prepend(r)}}}))};function RegisterRelistingItemsBtn(){}var COMPLETED_MARKET_ITEMS_TIMER=null,RenderProgressPanel=function(e){progressPanel_loadHtml(e),progressPanel_actionsListener(),UpdateSuccessSellCount(e)},UpdateSuccessSellCount=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=$J(".sih-progress-panel"),i=n.find(".sih-progress-panel__info-text"),r=n.find(".sih-progress-panel__buttons"),a=n.find(".sih-progress-panel__success-sell-count"),o=$J('.my_listing_section[data-table-id="'.concat(e,'"] .market_listing_row.stack[id^="').concat("sell_listings"===e?"mylisting":"mybuyorder",'"]')),s=n.find(".sih-progress-panel__switcher-reload"),l=o?o.length:0;clearInterval(COMPLETED_MARKET_ITEMS_TIMER),COMPLETED_MARKET_ITEMS_TIMER=setInterval((function(){var n="sell_listings"===e?"BACKGROUND_GET_COMPLETED_SELL_MARKET_ITEMS":"BACKGROUND_GET_COMPLETED_BUY_ORDERS_MARKET_ITEMS";chrome.runtime.sendMessage(SIHID,{type:n},(function(e){var n=e.COMPLETED_MARKET_ITEMS,o=n.filter((function(e){return e.isRemove&&e.isSell})),c=n.filter((function(e){return!e.isRemove||!e.isSell}));if(a.text(o.length),loadProgress(o.length,l),t){clearInterval(COMPLETED_MARKET_ITEMS_TIMER);var d=LocalStorageSihMarket.get();c.length?(s.hide(),i.text("".concat(c.length," ").concat(SIHLang.market.resubmit_orders.progress_panel.not_relisted_items))):(i.hide(),d.isAutoReloadOff&&setTimeout((function(){window.location.reload()}),3e3)),r.css("display","flex")}}))}),1e3)},progressPanel_loadHtml=function(e){var t=$J("body"),n=$J('.my_listing_section[data-table-id="'.concat(e,'"] .market_listing_row.stack[id^="').concat("sell_listings"===e?"mylisting":"mybuyorder",'"]')),i=n?n.length:0,r=LocalStorageSihMarket.get(),a=$J('\n    <div class="sih-progress-panel animate-down sih-global progress">\n      <div class="sih-progress-panel__inner">\n        <div class="sih-progress-panel__left-side row gap-5">\n          <span class="text text_white">'.concat(SIHLang.market.resubmit_orders.progress_panel.title,'</span>\n          <div class="row">\n            <span class="sih-progress-panel__success-sell-count text text_white">0</span>\n            <span class="text text_white">/</span>\n            <span class="text text_white">').concat(i,'</span>\n          </div>\n        </div>\n\n        <div class="sih-progress-panel__right-side row items-center gap-20">\n          <span class="sih-progress-panel__info-text text text_light-grey"\n            >').concat(SIHLang.market.resubmit_orders.progress_panel.dont_refresh,'</span\n          >\n          <div class="sih-progress-panel__buttons">\n            <a href="javascript:window.location.reload()" class="text text_blue hover-opacity-8"\n              >').concat(SIHLang.market.resubmit_orders.progress_panel.reload,'</a\n            >\n            <a href="javascript:void(0)" class="sih-progress-panel__switcher-reload text text_blue hover-opacity-8"\n              >').concat(r.isAutoReloadOff?SIHLang.market.buy_order_controls.reload_automatically:SIHLang.market.buy_order_controls.not_reload_automatically,'</a\n            >\n          </div>\n        </div>\n\n        <div class="sih-progress-panel__progress-bar"></div>\n      </div>\n    </div>\n  ')),o=t.find(".sih-progress-panel");!o.length&&i>0?(t.append(a),setTimeout((function(){t.find(".sih-progress-panel").removeClass("animate-down"),DisableMarketControls(),RelocatePriceIndicator()}),100)):i>0?(o.find(".sih-progress-panel__stack-count").text(i),o.removeClass("animate-down"),RelocatePriceIndicator()):(o.addClass("animate-down"),RelocatePriceIndicator())},progressPanel_actionsListener=function(){switcherReloadAction()},loadProgress=function(e,t){var n=0,i=$J(".sih-progress-panel"),r=i.find(".sih-progress-panel__progress-bar"),a=Number(i.css("width").replace(/px/g,"").trim());a!==(n+=a/t*e)?(i.hasClass("progress")||i.addClass("progress"),r.width(Math.ceil(n)),r.is(":visible")||r.css("display","flex").hide().fadeIn()):r.width(Math.ceil(n)).fadeOut(1100,(function(){r.width(0),i.removeClass("progress")}))},switcherReloadAction=function(){$J(".sih-progress-panel").find(".sih-progress-panel__switcher-reload").off("click").click((function(e){var t=$J(e.target),n=LocalStorageSihMarket.get();n.isAutoReloadOff=!n.isAutoReloadOff,LocalStorageSihMarket.set(n),t.text(n.isAutoReloadOff?SIHLang.market.buy_order_controls.reload_automatically:SIHLang.market.buy_order_controls.not_reload_automatically)}))},RenderFinalResubmitModal=function(e){finalResubmitModal_loadHtml(e),finalResubmitModal_listenerActions()},RemoveFinalResubmitModal=function(){var e=$J(".sih-final-resubmit"),t=e.attr("data-table-id");e.fadeOut(300,(function(){e.remove(),RenderChangePanel(t)}))},UpdateResubmitTotalInfo=function(){var e=$J(".sih-final-resubmit"),t=e.attr("data-table-id"),n=e.find(".sih-final-resubmit__content"),i=e.find(".sih-final-resubmit__bottom"),r=n.find(".sih-market-content__item"),a=i.find(".sih-final-resubmit__total-count"),o=i.find(".sih-final-resubmit__old-selling-price"),s=i.find(".sih-final-resubmit__old-receive-price"),l=i.find(".sih-final-resubmit__new-selling-price"),c=i.find(".sih-final-resubmit__new-receive-price"),d=i.find(".sih-final-resubmit__different-text"),u=i.find(".sih-final-resubmit__different-selling-price"),_=i.find("#sih-resell-items"),m=$J('.my_listing_section[data-table-id="'.concat(t,'"] .market_listing_row.stack[id^="').concat("sell_listings"===t?"mylisting":"mybuyorder",'"]')),h=m?m.length:0,f=getTotalPricesInfo(t),p=f.oldTotalSellingPriceFormatted,g=f.oldTotalReceivePriceFormatted,v=f.newTotalSellingPriceFormatted,b=f.newTotalReceivePriceFormatted,y=(f.different,f.differentFormatted),k=f.differentPercent;a.text("".concat(h," ").concat(SIHLang.market.resubmit_orders.items)),o.text(p),s.text(g),l.text(v),c.text("sell_listings"===t?b:v),r.length?i.addClass("border-top"):(n.css("min-height",0),i.removeClass("border-top")),r.length&&!isPriceChanged(e)?_.addClass("opacity-50per disabled"):_.removeClass("opacity-50per disabled"),k>=-3&&k<=3?(e.find(".sih-final-resubmit__modal").removeClass("alert"),d.removeClass("text_green-800 text_red").text("".concat(SIHLang.market.resubmit_orders.final_modal.result)),u.removeClass("text_green-800 text_red").text(y),_.removeClass("sih-modal__button_red").addClass("sih-modal__button_blue").text("".concat(SIHLang.market.resubmit_orders.relisting))):k<-3?(e.find(".sih-final-resubmit__modal").addClass("alert"),d.removeClass("text_green-800").addClass("text_red").text("".concat(SIHLang.market.resubmit_orders.final_modal.result)),u.removeClass("text_green-800").addClass("text_red").text(y),_.removeClass("sih-modal__button_blue").addClass("sih-modal__button_red").text("".concat(SIHLang.market.resubmit_orders.alert_resubmit))):(e.find(".sih-final-resubmit__modal").removeClass("alert"),d.removeClass("text_red").addClass("text_green-800").text("".concat(SIHLang.market.resubmit_orders.final_modal.result)),u.removeClass("text_red").addClass("text_green-800").text(y),_.removeClass("sih-modal__button_red").addClass("sih-modal__button_blue").text("".concat(SIHLang.market.resubmit_orders.relisting)))},finalResubmitModal_loadHtml=function(e){var t=$J("body"),n=$J('.my_listing_section[data-table-id="'.concat(e,'"] .market_listing_row.stack[id^="').concat("sell_listings"===e?"mylisting":"mybuyorder",'"]')),i=n?n.length:0,r=getTotalPricesInfo(e),a=r.oldTotalSellingPriceFormatted,o=r.oldTotalReceivePriceFormatted,s=r.newTotalSellingPriceFormatted,l=r.newTotalReceivePriceFormatted,c=(r.different,r.differentFormatted),d=r.differentPercent,u=$J('\n    <div id="sih-resubmit-orders" class="sih-final-resubmit" data-table-id="'.concat(e,'">\n      <div class="sih-final-resubmit__fade"></div>\n      <div class="sih-global sih-modal sih-final-resubmit__modal ').concat(d<-3?"alert":"",'">\n        <div class="sih-modal__close"></div>\n        <div class="sih-final-resubmit__inner sih-modal__inner">\n          <div class="title px-28">\n            ').concat("sell_listings"===e?SIHLang.market.resubmit_orders.final_modal.title:SIHLang.market.resubmit_orders.final_modal.title_buy,'\n          </div>\n\n          <div class="sih-final-resubmit__content sih-market-content"></div>\n\n          <div class="sih-final-resubmit__bottom ').concat(d<-3?"border-top":"",'">\n            <div class="sih-final-resubmit__bottom_left-side">\n              <span class="sih-final-resubmit__total-count text text_grey-900"\n                >').concat(i," ").concat(SIHLang.market.resubmit_orders.items,'</span\n              >\n              <div class="sih-final-resubmit__total-row">\n                <span class="text text_grey-900 ">').concat(SIHLang.market.resubmit_orders.final_modal.initial_cost,'</span>\n                <div class="row items-center gap-5">\n                  <span class="sih-final-resubmit__old-selling-price text text_grey-900"\n                    >').concat(a,"</span\n                  >\n                  ").concat("sell_listings"===e?'<span class="text text_grey-900">(<span class="sih-final-resubmit__old-receive-price">'.concat(o,"</span>)</span>"):"",'\n                </div>\n              </div>\n              <div class="sih-final-resubmit__total-row">\n                <span class="text text_grey-900">').concat(SIHLang.market.resubmit_orders.final_modal.after_resubmit,'</span>\n                <div class="row items-center gap-5">\n                  <span class="sih-final-resubmit__new-selling-price text text_grey-900"\n                    >').concat(s,"</span\n                  >\n                  ").concat("sell_listings"===e?'<span class="text text_grey-900">(<span class="sih-final-resubmit__new-receive-price">'.concat(l,"</span>)</span>"):"",'\n                </div>\n              </div>\n              <div class="sih-final-resubmit__total-row">\n                <span\n                  class="sih-final-resubmit__different-text text text_grey-900 ').concat(d>=-3&&d<=3?"":d<-3?"text_red":"text_green-800",'"\n                  >').concat("".concat(SIHLang.market.resubmit_orders.final_modal.result),'</span\n                >\n                <span\n                  class="sih-final-resubmit__different-selling-price text text_grey-900 ').concat(d>=-3&&d<=3?"":d<-3?"text_red":"text_green-800",'"\n                  >').concat(c,'</span\n                >\n              </div>\n            </div>\n\n            <div class="sih-final-resubmit__bottom_right-side">\n              <div class="column gap-5 items-end">\n                <span class="text fs-16"\n                  >').concat("sell_listings"===e?SIHLang.market.resubmit_orders.final_modal.you_get:SIHLang.market.resubmit_orders.final_modal.you_spend,'</span\n                >\n                <span class="sih-final-resubmit__new-receive-price text fs-20"\n                  >').concat("sell_listings"===e?l:s,'</span\n                >\n              </div>\n\n              <div class="sih-final-resubmit__buttons">\n                <a href="javascript:void(0)" id="sih-resubmit-cancel" class="sih-modal__button fs-16 py-13 px-36"\n                  >').concat(SIHLang.market.resubmit_orders.cancel,'</a\n                >\n                <a\n                  href="javascript:void(0)"\n                  id="sih-resell-items"\n                  class="sih-modal__button sih-modal__button').concat(d<-3?"_red":"_blue",' fs-16 py-13 px-36"\n                  >').concat("".concat(d<-3?SIHLang.market.resubmit_orders.alert_resubmit:SIHLang.market.resubmit_orders.relisting),"</a\n                >\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  "));n.each((function(t,n){var i=$J(n),r=+i.find(".resubmit-price__selling").attr("data-old-price"),a=+i.find(".resubmit-price__selling").attr("data-new-price");if((0,global.getPercentNumberDifference)(a,r,"sell_listings"===e?-1:1)<=-10){var o=GetModalContentItem(i,t,!0);u.find(".sih-final-resubmit__content").append(o)}})),t.find(".sih-final-resubmit").length||(u.find(".sih-final-resubmit__content").children().length&&u.find(".sih-final-resubmit__content").css("display","flex"),t.append(u),$J(".sih-final-resubmit").find(".sih-final-resubmit__modal").fadeIn(300))},getTotalPricesInfo=function(e){var t=$J('.my_listing_section[data-table-id="'.concat(e,'"] .market_listing_row.stack[id^="').concat("sell_listings"===e?"mylisting":"mybuyorder",'"]')),n=0,i=0,r=0,a=0;t.each((function(t,o){var s=$J(o),l="buy_orders"===e?+s.find(".market_listing_buyorder_qty .market_listing_price").text():1,c=+s.find(".resubmit-price__selling").attr("data-old-price")*l,d=+s.find(".resubmit-price__receive").attr("data-old-price")*l,u=+s.find(".resubmit-price__selling").attr("data-new-price")*l,_=+s.find(".resubmit-price__receive").attr("data-new-price")*l;n+=c,i+=d,r+=u,a+=_}));var o=currency_service.A.getPriceFromCurrency(n,currencyId,currencyId).text,s=currency_service.A.getPriceFromCurrency(i,currencyId,currencyId).text,l=currency_service.A.getPriceFromCurrency(r,currencyId,currencyId).text,c=currency_service.A.getPriceFromCurrency(a,currencyId,currencyId).text,d=Math.round((0,global.getPercentNumberDifference)(r,n,"sell_listings"===e?-1:1)),u=Math.ceil(1e3*(r-n))/1e3;return{oldTotalSellingPriceFormatted:o,oldTotalReceivePriceFormatted:s,newTotalSellingPriceFormatted:l,newTotalReceivePriceFormatted:c,different:u,differentFormatted:currency_service.A.getPriceFromCurrency(u,currencyId,currencyId).text,differentPercent:d}},finalResubmitModal_listenerActions=function(){finalResubmitModal_currentPriceAction(),finalResubmitModal_bestPriceAction(),finalResubmitModal_changeItemInputAction(),finalResubmitModal_closeModalAction(),resellItemsAction()},finalResubmitModal_currentPriceAction=function(){var e=$J(".sih-final-resubmit"),t=e.attr("data-table-id");e.find(".sih-market-content__current-price").off("click").click((function(){var e=$J(this),n=e.closest(".sih-market-content__item").find(".sih-market-content__input"),i=+e.attr("data-price"),r=+n.val();Math.round((0,global.getPercentNumberDifference)(i,r,"sell_listings"===t?-1:1))<=-10?n.removeClass("text_white").addClass("text_red"):n.removeClass("text_red").addClass("text_white"),n.val(i),finalResubmitModal_onChangePrice(n)}))},finalResubmitModal_bestPriceAction=function(){var e=$J(".sih-final-resubmit");e.find(".sih-market-content__best-price").off("click").click((function(){var t=e.attr("data-table-id"),n=$J(this),i=n.closest(".sih-market-content__item"),r=i.find(".sih-market-content__input"),a=+i.find(".sih-market-content__current-price").attr("data-price"),o=+n.attr("data-price");Math.round((0,global.getPercentNumberDifference)(o,a,"sell_listings"===t?-1:1))<=-10?r.removeClass("text_white").addClass("text_red"):r.removeClass("text_red").addClass("text_white"),r.val(o),finalResubmitModal_onChangePrice(r)}))},finalResubmitModal_changeItemInputAction=function(){var e=$J(".sih-final-resubmit"),t=e.find(".sih-market-content__input"),n=null;t.each((function(t,i){var r=$J(i),a=r.closest(".sih-market-content__item").find(".sih-market-content__current-price").attr("data-price");r.focus((function(){r.keyup((function(){clearTimeout(n),n=setTimeout((function(){var t=e.attr("data-table-id"),n=+r.val();Math.round((0,global.getPercentNumberDifference)(n,a,"sell_listings"===t?-1:1))<=-10?r.removeClass("text_white").addClass("text_red"):r.removeClass("text_red").addClass("text_white"),compareItemPrices(r),finalResubmitModal_onChangePrice(r)}),500)}))})),r.focusout((function(){r.off("keyup")})),r.off("change").change((function(){compareItemPrices(r),finalResubmitModal_onChangePrice(r)}))}))},finalResubmitModal_closeModalAction=function(){var e=$J(".sih-final-resubmit"),t=e.find(".sih-modal__close"),n=e.find(".sih-final-resubmit__fade"),i=e.find("#sih-resubmit-cancel");t.off("click").click((function(){RemoveFinalResubmitModal()})),n.off("click").click((function(){RemoveFinalResubmitModal()})),i.off("click").click((function(){RemoveFinalResubmitModal()}))},resellItemsAction=function(){var e=$J(".sih-final-resubmit"),t=$J("#sih-resell-items"),n=e.attr("data-table-id"),i=null;t.off("click").click((function(){clearTimeout(i),i=setTimeout((function(){t.addClass("pointer-events-none"),e.fadeOut(300,(function(){e.remove(),RenderProgressPanel(n),"sell_listings"===n?global.SellListing.resellItems().then((function(){UpdateSuccessSellCount("sell_listings",!0),$J('#tabContentsMyActiveMarketListingsRows .market_listing_row.stack[id^="mylisting"]').css("background-color","rgba(0, 0, 0, 0.2)").removeClass("stack")})):global.BuyOrders.createBuyOrders().then((function(){UpdateSuccessSellCount("buy_orders",!0),$J('#tabContentsMyListings .market_listing_row.stack[id^="mybuyorder"]').css("background-color","rgba(0, 0, 0, 0.2)").removeClass("stack")}))})),RegisterRelistingItemsBtn()}),200)}))},finalResubmitModal_onChangePrice=function(e){var t=e.closest(".sih-market-content__item");_ValidateInputPrice(e),changeResubmitItem(t),UpdateResubmitTotalInfo()},compareItemPrices=function(e){var t=$J(".sih-final-resubmit").attr("data-table-id"),n=e.closest(".sih-market-content__item").find(".sih-market-content__current-price").attr("data-price"),i=+e.val();Math.round((0,global.getPercentNumberDifference)(i,n,"sell_listings"===t?-1:1))<=-10?e.removeClass("text_white").addClass("text_red"):e.removeClass("text_red").addClass("text_white")},changeResubmitItem=function(e){var t=$J(".sih-final-resubmit").attr("data-table-id"),n=$J("#tabContentsMyListings").find("#".concat("sell_listings"===t?"mylisting_".concat(e[0].itemInfo[1]):"mybuyorder_".concat(e[0].itemInfo[0])));n[0].itemInfo=e[0].itemInfo,n.find(".resubmit-price").remove(),"sell_listings"===t?global.SellListing.removeItem(e[0].itemInfo[4]):global.BuyOrders.removeItem(e[0].itemInfo[0]);var i=e.find(".sih-market-content__input"),r=+i.val(),a=GetItemPriceInfo(n).oldSellingPrice;BuildResubmitData(n,"manual",i),a===r&&("sell_listings"===t?global.SellListing.removeItem(e[0].itemInfo[4]):global.BuyOrders.removeItem(e[0].itemInfo[0]))};function resubmitOrders_global_slicedToArray(e,t){return resubmitOrders_global_arrayWithHoles(e)||resubmitOrders_global_iterableToArrayLimit(e,t)||resubmitOrders_global_unsupportedIterableToArray(e,t)||resubmitOrders_global_nonIterableRest()}function resubmitOrders_global_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function resubmitOrders_global_unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return resubmitOrders_global_arrayLikeToArray(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?resubmitOrders_global_arrayLikeToArray(e,t):void 0}}function resubmitOrders_global_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function resubmitOrders_global_iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}function resubmitOrders_global_arrayWithHoles(e){if(Array.isArray(e))return e}$J(window).on("beforeunload",(function(){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_STOP_RESELL_ITEMS"},(function(e){})),chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_STOP_RELISTING_BUY_ORDERS_ITEMS"},(function(e){}))}));var LocalStorageSihMarketResubmit={_name:"SIH_MARKET_RESUBMIT",get:function(){return utils.zc.get(this._name)},set:function(e){utils.zc.set(this._name,e)},getPercentAlert:function(e){var t=utils.zc.get(this._name);return{percent_alert:t?t["percent_alert_".concat(e)]:20}},getDelay:function(e){var t=utils.zc.get(this._name);return t&&t["delay_".concat(e)]?t["delay_".concat(e)]:{isEnabled:!1,delay:300}}},BuildResubmitData=function(e,t,n){var i=$J("#sih-resubmit-orders"),r=e.find(".sih-resubmit"),a=e.find(".sih-resubmit__btn"),o=e.closest(".my_listing_section").attr("data-table-id"),s=e.find(".market_listing_item_name_link").attr("href"),l=resubmitOrders_global_slicedToArray(s.replace(/https:\/\/steamcommunity.com\/market\/listings\//,"").split("/"),2),c=l[0],d=l[1],u=GetItemPriceInfo(e,t),_=u.oldSellingPrice,m=u.newSellingPrice,h=u.oldReceivePrice,f=u.newReceivePrice,p=u.formattedNewSellingPrice,g=u.formattedNewReceivePrice;if("manual"===t&&n){m=+n.val(),f=RecalculateSellerPrice(m);var v=Math.floor(window.PriceUtils.steamBuyerPrice(f,g_rgWalletInfo.wallet_publisher_fee_percent_default,g_rgWalletInfo)/100*100)/100;v<m&&(m=v),p=currency_service.A.getPriceFromCurrency(+m,currencyId,currencyId).text,g=currency_service.A.getPriceFromCurrency(f/100,currencyId,currencyId).text,a.attr("data-state","manual"),a.find("img").attr("src","chrome-extension://".concat(SIHID,"/assets/market/resubmit/resubmit_manual.svg")).attr("alt","manual")}var b="manual"!==t?GetListingItemRowInfo(e):i[0].itemInfo?i[0].itemInfo:e[0].itemInfo,y=LocalStorageSihMarket.get().commission,k=void 0===y||y;if(r.before('\n    <div class="resubmit-price">\n      <div class="column">\n        <span\n          class="resubmit-price__selling"\n          data-old-price="'.concat(_.toFixed(2),'"\n          data-new-price="').concat(m.toFixed(2),'"\n        >\n          ').concat(p,"\n        </span>\n        ").concat("sell_listings"===o?'\n              <span class="resubmit-price__receive fs-12"\n                style="display: '.concat(k?"flex":"none",'"\n                data-old-price="').concat(h/100,'"\n                data-new-price="').concat(f/100,'">\n                (').concat(g,")\n              </span>\n            "):"","\n      </div>\n    </div>\n  ")),"sell_listings"===o){var S={market_hash_name:d,listingid:b[1],appid:b[2],contextid:b[3],assetid:b[4],amount:1,price:f,inputPrice:getPriceAsInt((Math.floor(100*m)/100).toString())};global.SellListing.setItem(S),r.find(".sih-resubmit__undo").attr("data-id","".concat(b[4]))}else{var w=+e.find(".market_listing_buyorder_qty .market_listing_price").text(),C={payload:{buy_orderid:b[0],sessionid:g_sessionID,currency:g_rgWalletInfo&&g_rgWalletInfo.wallet_currency?g_rgWalletInfo.wallet_currency:1,appid:c,market_hash_name:decodeURIComponent(d),price_total:100*m*w,quantity:w,billing_state:"",save_my_address:0},requestHeaders:{referer:s}};global.BuyOrders.setItem(C),r.find(".sih-resubmit__undo").attr("data-id","".concat(b[0]))}e.css("background-color","#101822").addClass("stack")},IsEnabledResubmitOrders=function(){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_ENABLED_RESUBMIT_ORDERS",data:{steamId:g_steamID}},(function(t){e(t)}))}))},GetModalContentItem=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=GetListingItemRowInfo(e),r=e.attr("id").includes("mybuyorder")?"buy_orders":"sell_listings",a=n||!!e.find(".sih-market-alert").length,o=e.find(".market_listing_item_name_link").attr("href"),s=e.find(".market_listing_item_img").attr("src"),l=e.find(".market_listing_item_img").css("border-color"),c=e.find(".market_listing_item_name_link").text(),d=e.find(".market_listing_game_name").text(),u="sell_listings"===r?e.find(".market_listing_right_cell.market_listing_my_price").find(".market_listing_price span"):e.find(".sih_listing_my_price"),_="sell_listings"===r?e.find(".market_listing_minimum--text").text().trim():e.find(".market_listing_buyorder_max .market_listing_price").text().trim(),m="sell_listings"===r?u.find("span:first-child").text().trim():u.text().trim(),h=m.match(new RegExp(/([\d+?., ]+)/g))||"0",f=(0,global.parseNumber)("0"!==h?h[0]:h),p=_.match(new RegExp(/([\d+?., ]+)/g))||"0",g=(0,global.parseNumber)("0"!==p?p[0]:p),v=e.find(".resubmit-price__selling").length?+e.find(".resubmit-price__selling").attr("data-new-price"):0,b=$J('\n    <div class="sih-market-content__item">\n      <div class="sih-market-content__item-info row items-center">\n        <img\n          class="sih-market-content__image market_listing_item_img"\n          src="'.concat(s,'"\n          style="border-color: ').concat(l,'"\n        />\n        <div class="column">\n          <a href="').concat(o,'" target="_blank" class="sih-market-content__item-name text bold" title="').concat(c,'"\n            >').concat(c,'</a\n          >\n          <span class="text fs-12 text_grey-900">').concat(d,'</span>\n        </div>\n      </div>\n\n      <div class="sih-market-content__compare">\n        <a\n          href="javascript:void(0)"\n          class="sih-market-content__current-price row items-center gap-15"\n          data-price="').concat(f,'"\n        >\n          ').concat(a?'\n                 <span class="sih-market-alert row items-center" title="">\n                    <svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path d="M10.9998 11.0002H8.9998V6.0002H10.9998V11.0002ZM10.9998 15.0002H8.9998V13.0002H10.9998V15.0002ZM1.5998 18.0002H18.3998C19.5998 18.0002 20.2998 16.7002 19.6998 15.7002L11.2998 1.2002C10.6998 0.200195 9.2998 0.200195 8.6998 1.2002L0.299805 15.7002C-0.300195 16.7002 0.399805 18.0002 1.5998 18.0002Z" fill="#C44E4E"/>\n                    </svg>\n                 </span>\n              ':"",'\n\n          <span class="text text_white bold text-center text-ellipsis">').concat(m,'</span>\n        </a>\n\n        <div class="row justify-center items-center w-24 h-24">\n          <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path\n              d="M0.589844 10.58L5.16984 6L0.589844 1.41L1.99984 0L7.99984 6L1.99984 12L0.589844 10.58Z"\n              fill="#9EA7B3"\n            />\n          </svg>\n        </div>\n\n        <label\n          for="sih-market-content-input-').concat(t,'"\n          class="sih-market-content__input-outer row justify-between items-center bg-black-100 py-8 px-24 br2-grey"\n        >\n          <input\n            type="number"\n            id="sih-market-content-input-').concat(t,'"\n            class="sih-market-content__input text ').concat(n?"text_red":"text_white",' bg-transparent border-none"\n            value="').concat(v||f,'"\n            step="0.01"\n            min="0.03"\n          />\n\n          <label\n            for="sih-market-content-input-').concat(t,'"\n            class="sih-market-content__best-price row gap-5"\n            data-price="').concat(g,'"\n          >\n            ').concat(a?'<span class="text text_red">'.concat(SIHLang.market.resubmit_orders.market_price,'</span>\n                        <span class="text text_red">').concat(_,"</span>"):'<span class="text text_grey-900">'.concat(SIHLang.market.resubmit_orders.market_price,'</span>\n                        <span class="text text_grey-900">').concat(_,"</span>"),"\n          </label>\n        </label>\n\n        ").concat(n?'\n              <a href="javascript:void(0)" class="sih-market-content__remove">\n                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <path d="M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z" fill="#9EA7B3"/>\n                </svg>\n              </a>\n            ':"","\n      </div>\n    </div>\n  "));b[0].itemInfo=i;var y=b.find(".sih-market-content__current-price"),k=b.find(".sih-market-alert");return AddCurrentPriceTooltip(y),AddAlertTooltip(k,r),b.find(".sih-market-content__item-name").tooltip({position:{my:"left top",at:"left bottom"},classes:{"ui-tooltip":"sih-steam-market__tooltip"}}),b.find(".sih-market-content__remove").length&&b.find(".sih-market-content__remove").click((function(){var t=$J(this).closest(".sih-market-content__item");e.find(".resubmit-price").remove(),e.css("background-color","rgba(0, 0, 0, 0.2)").removeClass("stack"),"sell_listings"===r?global.SellListing.removeItem(i[4]):global.BuyOrders.removeItem(i[0]),UpdateHeaderTotalResubmitPrice(r),t.fadeOut(300,(function(){t.remove();var e=$J('.my_listing_section[data-table-id="'.concat(r,'"] .market_listing_row.stack[id^="').concat("sell_listings"===r?"mylisting":"mybuyorder",'"]')),n=e?e.length:0;UpdateResubmitTotalInfo(),n||RemoveFinalResubmitModal()}))})),b},_ValidateInputPrice=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=$J("#sih-resubmit-orders"),i=$J("#tabContentsMyActiveMarketListingsTable"),r=n.find(".sih-market-content__input"),a=+i.find("#totalRow0 .sih-total-sell__receive").attr("data-price"),o=0;i.find("#totalRow0 .total-resubmit-price__receive").length&&(a=+i.find("#totalRow0 .total-resubmit-price__receive").attr("data-price")),$J("#await_listings").length&&(o=+$J("#totalRow1").find(".sih-market-total__receive").attr("data-price"));var s=e?e.closest(".sih-market-content__compare").find(".sih-market-content__current-price").length?e.closest(".sih-market-content__compare").find(".sih-market-content__current-price"):e.closest(".sih-modal").find(".sih-resubmit-orders__current-price"):n.find(".sih-market-content__current-price"),l=e&&t?e:n.find("#sih-resubmit-orders-group-input-all"),c=e?e.closest(".sih-market-content__item").siblings().find(".sih-market-content__input"):n.find(".sih-market-content__item"),d=+g_rgWalletInfo.wallet_balance/100,u=+g_rgWalletInfo.wallet_max_balance/100,_=+g_rgWalletInfo.wallet_trade_max_balance/100,m=+s.attr("data-price"),h=RecalculateSellerPrice(m)/100,f=+l.val()<.03?.03:+l.val()>_?_:+l.val(),p=RecalculateSellerPrice(f)/100,g=0;e?c.each((function(e,t){var n=$J(t);g+=+n.val()})):g=f*c.length;var v=g?RecalculateSellerPrice(g)/100:0,b=Math.ceil(1.15*(u-d-(a+o+(e?v:0)-h))*100)/100;function y(){return!e&&t}(e?p:0)+v+a+o>u-d?b>_?y()&&r.each((function(e,t){var n=$J(t);_ValidateInputPrice(n,!1)})):(t?"sih-resubmit-orders-group-input-all"!==l.attr("id")&&(f<=b?l.val(f):l.val(b)):f<=b&&e.val(f),y()&&r.each((function(e,t){var n=$J(t);_ValidateInputPrice(n,!1)}))):y()?(l.val(f),r.val(l.val())):f<=b&&e.val(f)},GetListingItemRowInfo=function(e){return e.find(".item_market_action_button.item_market_action_button_edit").attr("href").match(/\((.+)\)/)[1].replace(/['\s]/g,"").split(",")},GetItemPriceInfo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=e.attr("id").includes("mybuyorder")?"buy_orders":"sell_listings",i=e.find(".sih_listing_my_price").text().trim(),r="sell_listings"===n?e.find(".market_listing_minimum--text").text().trim():e.find(".market_listing_buyorder_max .market_listing_price").text().trim(),a=i.match(new RegExp(/([\d+?., ]+)/g))[0].trim()||"0",o=r.match(new RegExp(/([\d+?., ]+)/g))[0].trim()||"0",s=(0,global.parseNumber)(a),l="0"!==o?(0,global.parseNumber)(o):s;l&&("default"===t?"sell_listings"===n?l-=.01:l+=.01:"percent"===t&&(l="sell_listings"===n?Math.floor(100*(l-.01*l))/100:Math.floor(100*(l+.01*l))/100));var c=RecalculateSellerPrice(s),d=l?RecalculateSellerPrice(l):c,u=Math.floor(window.PriceUtils.steamBuyerPrice(d,g_rgWalletInfo.wallet_publisher_fee_percent_default,g_rgWalletInfo)/100*100)/100;return u<l&&(l=u),{oldSellingPrice:s,newSellingPrice:l,oldReceivePrice:c,newReceivePrice:d,formattedNewSellingPrice:currency_service.A.getPriceFromCurrency(l,currencyId,currencyId).text,formattedNewReceivePrice:currency_service.A.getPriceFromCurrency(d/100,currencyId,currencyId).text}},RecalculateSellerPrice=function(e){var t=getPriceAsInt((Math.floor(100*e)/100).toString()),n=g_rgWalletInfo.wallet_publisher_fee_percent_default;return t-CalculateFeeAmount(t,n).fees},RecalculatePriceDifferent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sell_listings";GetListingsRows(e).each((function(t,n){var i=$J(n),r=i.find(".sih_listing_my_price"),a="sell_listings"===e?i.find(".market_listing_minimum .market_listing_minimum--text"):i.find(".market_listing_buyorder_max .market_listing_price");if(a.length){var o=r.text().match(new RegExp(/([\d+?., ]+)/g))?r.text().match(new RegExp(/([\d+?., ]+)/g))[0].trim():"0",s=(0,global.parseNumber)(o),l=a.text().match(new RegExp(/([\d+?., ]+)/g))?a.text().match(new RegExp(/([\d+?., ]+)/g))[0].trim():"0",c=(0,global.parseNumber)(l);if(c&&s&&("sell_listings"===e?c<s:c>s)){var d=100*c,u=100*s,_=Math.round((0,global.getPercentNumberDifference)(d,u,"sell_listings"===e?-1:1)),m=LocalStorageSihMarketResubmit.getPercentAlert(e).percent_alert,h=void 0===m?20:m;i.find(".sih-market-alert").remove(),_<=-h&&RenderMarketAlert(e,i),i.hasClass("red-bg")||(i.addClass("red-bg"),i.prepend('<div class="sih-listing__color-cell start red"></div>'),i.append('<div class="sih-listing__color-cell end red"></div>'))}}}))},SaveSellListing=function(e){var t=Object.values(e).reduce((function(e,t){return Object.values(t).forEach((function(t){Object.values(t).forEach((function(t){if(2===t.status){var n=t.appid,i=t.contextid,r=t.id,a=t.classid,o=t.instanceid,s=t.amount,l=t.descriptions,c=t.market_hash_name,d={appid:n.toString(),contextid:i,assetid:r,classid:a,instanceid:o,amount:s,descriptions:l,market_hash_name:c};e.push(d)}}))})),e}),[]);chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SAVE_ITEM_FOR_SALE",data:t},(function(){}))},isPriceChanged=function(e){var t=e.find(".sih-market-content__item"),n=!1;return t.each((function(e,t){var i=$J(t),r=i.find(".sih-market-content__input").val();+i.find(".sih-market-content__current-price").attr("data-price")!=+r&&(n=!0)})),n},AddCurrentPriceTooltip=function(e){e.attr("title","".concat(SIHLang.market.resubmit_orders.tooltips.current_price)).tooltip({position:{my:"left top",at:"left bottom"},tooltipClass:"sih-tooltip__current-price"})},AddAlertTooltip=function(e,t){var n=LocalStorageSihMarketResubmit.getPercentAlert(t).percent_alert,i=void 0===n?20:n,r=$J('\n    <div class="sih-global">\n      <div class="column gap-5">\n        <span class="text">\n          '.concat("sell_listings"===t?SIHLang.market.resubmit_orders.alert_info_text_1:SIHLang.market.resubmit_orders.alert_info_buy_text_1,'\n          <a href="javascript:void(0)" class="sih-edit-alert__btn text text_blue hover-opacity-8">').concat(i,"%</a>\n          ").concat("sell_listings"===t&&"en"===lang?SIHLang.market.resubmit_orders.alert_info_text_2:"",'\n        </span>\n        <a href="javascript:void(0)" class="sih-edit-alert__btn text text_blue hover-opacity-8"\n          >').concat(SIHLang.market.resubmit_orders.tooltips.alert_info_edit,"</a\n        >\n      </div>\n    </div>\n  "));e.tooltip({content:r.text(),position:{my:"left top",at:"left bottom",using:function(e,n){r.find(".sih-edit-alert__btn").click((function(){RenderEditAlertModal(t)})),$J(this).css(e),$J(".ui-tooltip-content").hide(),$J(this).append(r),$J(".sih-tooltip__current-price").hide()}}}).on("mouseenter",(function(t){e.not($J(this)).tooltip("close")})).on("mouseleave",(function(e){$J(".ui-tooltip:hover").length>0&&e.stopImmediatePropagation()})),$J("body").on("mouseleave",".ui-tooltip",(function(t){e.tooltip(),e.tooltip("close")}))},RelocatePriceIndicator=function(){var e=$J(".pq-container"),t=$J(".sih-toolbar:visible:not(.animate-down)"),n=$J(".sih-change-panel:visible:not(.animate-down)"),i=$J(".sih-progress-panel:visible:not(.animate-down)");t.length||n.length?e.css("bottom","15vh"):i.length?e.css("bottom","40px"):e.css("bottom","3px")},DisableMarketControls=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=$J(".market_listing_table_header .select-checkbox"),n=GetListingsRows("sell_listings"),i=GetListingsRows("await_listings"),r=GetListingsRows("buy_orders"),a=$J(".sih-select-overprices"),o=$J("#tabContentsMyActiveMarketListings_controls");n.children().toggleClass("pointer-events-none",e),i.children().toggleClass("pointer-events-none",e),r.children().toggleClass("pointer-events-none",e),a.toggleClass("pointer-events-none",e),t.toggleClass("pointer-events-none",e).parent().addClass("sih-global"),o.addClass("sih-global").children().toggleClass("pointer-events-none",e)},RenderChangePanel=function(e){IsEnabledResubmitOrders().then((function(t){t.success&&sih_app_global_service.A.getSubscribeAds().then((function(t){changePanel_loadHtml(e,t.success)}))}))},changePanel_loadHtml=function(e,t){var n=$J("body"),i=$J('.my_listing_section[data-table-id="'.concat(e,'"] .market_listing_row.stack[id^="').concat("sell_listings"===e?"mylisting":"mybuyorder",'"]')),r=$J('.my_listing_section[data-table-id="'.concat("sell_listings"===e?"buy_orders":"sell_listings",'"] .market_listing_row.stack[id^="').concat("sell_listings"===e?"mybuyorder":"mylisting",'"]')),a=i?i.length:0;a&&r.length&&(r.each((function(e,t){return $J(t).find(".sih-resubmit__undo").trigger("click")})),RenderChangePanel(e)),!a&&r.length&&RenderChangePanel("sell_listings"===e?"buy_orders":"sell_listings");var o=$J('\n    <div class="sih-change-panel animate-down sih-global" data-table-id="'.concat(e,'">\n      <div class="sih-change-panel__inner">\n        <div class="column items-center gap-8">\n          <div class="row gap-5">\n            <span class="text text_light-grey">').concat(SIHLang.market.resubmit_orders.change_panel.title,'</span>\n            <span class="sih-change-panel__stack-count text text_light-grey">').concat(a,'</span>\n            <span class="text text_light-grey">').concat(SIHLang.market.resubmit_orders.items,'</span>\n          </div>\n          <div class="sih-change-panel__sub-info row">\n            <span class="text text_light-grey fs-12"\n              >').concat("sell_listings"!==e||t?"":"".concat(SIHLang.market.resubmit_orders.sub_info,' <span class="sih-change-panel__sub-btn">SIH.Black</span>'),'</span\n            >\n          </div>\n          <div class="row gap-20">\n            <a href="javascript:void(0)" class="sih-change-panel__cancel text text_white"\n              >').concat(SIHLang.market.resubmit_orders.cancel,'</a\n            >\n            <a\n              href="javascript:void(0)"\n              class="sih-change-panel__relisting text text_blue ').concat("sell_listings"!==e||t?"":"sih-change-panel__relisting_disabled",'"\n              >').concat(SIHLang.market.resubmit_orders.relisting,"</a\n            >\n          </div>\n        </div>\n      </div>\n    </div>\n  ")),s=n.find(".sih-change-panel");!s.length&&a>0?(n.append(o),setTimeout((function(){n.find(".sih-change-panel").removeClass("animate-down"),RelocatePriceIndicator()}),100),changePanel_actionsListener(t,e)):a>0?(s.attr("data-table-id",e),s.find(".sih-change-panel__stack-count").text(a),s.removeClass("animate-down"),RelocatePriceIndicator()):(s.addClass("animate-down"),RelocatePriceIndicator());var l=n.find(".sih-change-panel .sih-change-panel__sub-info");"sell_listings"===e?l.show():l.hide()},changePanel_actionsListener=function(e,t){cancelAction(),changePanel_sihBlackModalAction(),("sell_listings"!==t||e)&&relistingAction(e)},cancelAction=function(){var e=$J(".sih-change-panel");e.find(".sih-change-panel__cancel").off("click").click((function(){var t=e.attr("data-table-id");e.addClass("animate-down"),$J('.my_listing_section[data-table-id="'.concat(t,'"] .market_listing_row.stack[id^="').concat("sell_listings"===t?"mylisting":"mybuyorder",'"]')).each((function(e,t){var n=$J(t);n.find(".resubmit-price").remove(),n.css("background-color","rgba(0, 0, 0, 0.2)").removeClass("stack")})),"sell_listings"===t?global.SellListing.SELL_LISTING={}:global.BuyOrders.BUY_ORDERS=[],UpdateHeaderTotalResubmitPrice(t)}))},relistingAction=function(){var e=$J(".sih-change-panel");e.find(".sih-change-panel__relisting").off("click").click((function(){var t=e.attr("data-table-id");e.addClass("animate-down"),RenderFinalResubmitModal(t)}))},changePanel_sihBlackModalAction=function(){$J(".sih-change-panel").find(".sih-change-panel__sub-btn").off("click").click((function(){loadSubscribeAds(),ShowModalSubscribeAds()}))},LocalStorageSihMarket={_name:"SIH_MARKET",get:function(){return utils.zc.get(this._name)||{}},set:function(e){utils.zc.set(this._name,e)}},GetListingsRows=function(e){switch(e){case"sell_listings":return $J('#tabContentsMyActiveMarketListingsRows .market_listing_row[id^="mylisting"]');case"await_listings":return $J("#totalRow1").closest(".my_listing_section").find('.market_listing_row[id^="mylisting"]');case"buy_orders":return $J('div[id^="mybuyorder_"]');default:return null}},SetToDefaultItemsAfterPagination=function(){global.SellListing.SELL_LISTING={},$J("#select-all-0").prop("checked",!1),$J(".sih-toolbar").is(":visible")&&RenderToolbar("sell_listings"),$J(".sih-change-panel").is(":visible")&&RenderChangePanel("sell_listings")},SetMinimumPriceForListingRow=function(e,t){var n=e.closest(".my_listing_section").attr("data-table-id"),i=e.find(".market_listing_price span span:nth-child(1)").text().match(new RegExp(/([\d+?., ]+)/g))[0].trim()||"0",r=(0,global.parseNumber)(i),a=t.match(new RegExp(/([\d+?., ]+)/g))[0].trim()||"0",o=(0,global.parseNumber)(a),s=e.find(".market_listing_minimum");s.length?s.find(".market_listing_minimum--text").text("".concat(t.replace(/руб./g,"₽"))):$J(' <div class="row items-center justify-center market_listing_right_cell market_listing_minimum">\n        <span class="market_listing_minimum--text">'.concat(t.replace(/руб./g,"₽"),"</span>\n      </div>")).insertAfter(e.find(".market_listing_my_price"));if(o&&r&&o<r){var l=100*o,c=100*r,d=Math.round((0,global.getPercentNumberDifference)(l,c)),u=LocalStorageSihMarketResubmit.getPercentAlert("sell_listings").percent_alert;d<=-(void 0===u?20:u)&&RenderMarketAlert(n,e),e.hasClass("red-bg")||(e.addClass("red-bg"),e.prepend('<div class="sih-listing__color-cell start red"></div>'),e.append('<div class="sih-listing__color-cell end red"></div>'));var _=e.attr("id").replace(/mylisting_/g,"").trim();rowIdsArr&&!rowIdsArr.includes(_)&&rowIdsArr.push(_)}e.find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox").is(":checked")?e.find(".sih-resubmit").removeClass("without-price").removeAttr("title"):e.find(".sih-resubmit").removeClass("disabled without-price").removeAttr("title"),CheckLoadedPricesSelectedRows()},RenderSelectedAllOverpricesButton=function(e){$J("#tabContentsMyListings .market_home_listing_table").each((function(){var t=$J(this),n=getListingSectionType(t);if(n){var i=GetListingsRows(e).length,r=$J('<a href="javascript:void(0)" class="sih-select-overprices">\n        <span class="row items-center gap-4">\n          <span class="text fs-12">'.concat(SIHLang.market.select_overpriced_2,'</span>\n          <span class="row items-center">\n            <span class="text fs-12">(</span>\n            <span class="sih-select-overprices__selected-count text fs-12">0</span>\n            <span class="text fs-12">/</span>\n            <span class="sih-select-overprices__total-count text fs-12">').concat(i,'</span>\n            <span class="text fs-12">)</span>\n          </span>\n        </span>\n        <span class="text fs-12">-</span>\n        <span class="text text_blue fs-12">').concat(SIHLang.market.select_overpriced_1,"</span>\n      </a>"));r.click((function(){if("buy_orders"!==n){var e=t.find('.red-bg.market_listing_row[id^="mylisting"]:not(.stack)'),i=e.find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox:visible");if(i.prop("checked",!0),r.find(".sih-select-overprices__selected-count").text(i.length),"tabContentsMyActiveMarketListingsTable"===t.attr("id"))e.find(".sih-resubmit").each((function(e,t){var n=$J(t);!n.length||n.hasClass("without-price")||n.hasClass("disabled")||n.addClass("disabled")}))}else{var a=t.find('.red-bg.market_listing_row[id^="mybuyorder_"]').find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox:visible");a.prop("checked",!0),r.find(".sih-select-overprices__selected-count").text(a.length)}RenderToolbar(n),UpdateStateRemoveSelectedButton(t)})),"buy_orders"===e&&n===e||"sell_listings"===e&&n===e?0===t.find(".sih-market-filter__left-side .sih-select-overprices").length&&t.find(".sih-market-filter__left-side").append(r):"await_listings"===e&&n===e&&0===t.find(".sih-market-filter__left-side .sih-select-overprices").length&&t.find(".sih-market-filter__left-side").append(r)}}))},_FetchAllItemsPrices=function(e){var t,n,i=[];"sell_listings"===e?i.push(new Promise((function(e,i){t=$J('#tabContentsMyActiveMarketListingsRows .market_listing_row[id^="mylisting"] .market_listing_cancel_button .item_market_action_button:not([done])'),n=$J('#myListings .market_listing_row[id^="mylisting"]').parent().parent().find("#load_sell_overprices"),e()}))):"await_listings"===e?i.push(new Promise((function(e,i){setTimeout((function(){var i=$J("#await_listings").parent();t=i.find('.market_listing_row[id^="mylisting"] .market_listing_cancel_button .item_market_action_button:not([done])'),n=$J('#myListings .market_listing_row[id^="mylisting"]').parent().parent().find("#load_await_overprices"),e()}),500)}))):i.push(new Promise((function(e,n){t=$J('#myListings .market_listing_row[id^="mylisting"] .market_listing_cancel_button .item_market_action_button:not([done])'),e()}))),Promise.all(i).then((function(){if(t.length<=0)n.hasClass("animated-background")&&n.removeClass("animated-background");else{!n.hasClass("animated-background")&&t.length>0&&n.addClass("animated-background");var i=t[0];$J(i).attr("done","true");var r=decodeURIComponent(i.href),a=removeLinkExp.exec(r);if(a){var o=g_rgAssets[a[2]][a[3]][a[4]];o&&(i.rgItem=o,getLowestPriceHandler(i.rgItem,"",(function(t){var n=$J(i).closest(".market_listing_row");SetMinimumPriceForListingRow(n,t.lowestPrice),_FetchAllItemsPrices(e)})))}}}))},GetMaxPriceForBuyOrdersListing=function(){var e,t=$J('#myListings .market_listing_row[id^="mybuyorder"] .market_listing_item_name_link'),n=$J(".my_listing_section.market_content_block.market_home_listing_table"),i=GetCookie("Steam_Language")||"english";n.each((function(t,n){var i=$J(n);if(i.find("#buy_orders").length>0){var r=i.find(".market_listing_table_header");r.find(".market_listing_maximum").length||r.find(".market_listing_buyorder_qty").before('<span class="market_listing_right_cell market_listing_maximum" style="display: block;"\n            >'.concat(SIHLang.market.maximum,'<span class="market_sort_arrow" style="display:none"></span\n          ></span>')),(e=i.find("#load_buy_lowerprices")).hasClass("animated-background")||e.addClass("animated-background")}})),t.each((function(t,n){var r=n.href;setTimeout((function(){$J.ajax({url:r,method:"GET",crossDomain:!0,xhrFields:{withCredentials:!0},success:function(t){var a=r.replace(/https:\/\//,"").split("/")[3],o=r.replace(/https:\/\//,"").split("/")[4],s=t.match(/Market_LoadOrderSpread\( (\d+)/)[1],l=$J(n).text(),c=encodeURIComponent(l).replace(/\(/g,"%28").replace(/\)/g,"%29");chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_ORDER_HISTOGRAM",data:{g_strCountryCode,steamLang:i,g_rgWalletInfo,nameid:s,appId:a,encodedName:c}},(function(t){if(t){if(t.success&&t.buy_order_graph){var r=t.buy_order_graph[0][0],s=(t.buy_order_graph[1][0],currency_service.A.getPriceFromCurrency(r,currencyId,currencyId).text),l=$J(n).closest(".market_listing_row"),c=l.find(".market_listing_buyorder_max");c.length?c.find(".market_listing_price").text("".concat(s)):l.find(".market_listing_my_price.market_listing_buyorder_qty").before(' <div\n                          class="market_listing_right_cell market_listing_my_price market_listing_buyorder_max"\n                        >\n                          <span class="market_table_value">\n                            <span class="market_listing_price"> '.concat(s," </span>\n                          </span>\n                        </div>")),l.find(".market_listing_edit_buttons.placeholder").each((function(e,t){var n=$J(t).next().find(".market_listing_price");n.find(".market_listing_inline_buyorder_qty").length>0&&n.find(".market_listing_inline_buyorder_qty").remove();var i=n.text().match(new RegExp(/([\d+?., ]+)/g))||"0",a="0"!==i?i[0]:"0";if((0,global.parseNumber)(a)>Number(r))l.hasClass("green-bg")||(l.addClass("green-bg"),l.prepend('<div class="sih-listing__color-cell start green"></div>'),l.append('<div class="sih-listing__color-cell end green"></div>'));else if((0,global.parseNumber)(a)<Number(r)){var o=Math.round((0,global.getPercentNumberDifference)(Number(r),(0,global.parseNumber)(a),1)),s=LocalStorageSihMarketResubmit.getPercentAlert("buy_orders").percent_alert,c=void 0===s?20:s;l.find(".sih-market-alert").remove(),o<=-c&&RenderMarketAlert("buy_orders",l),l.hasClass("red-bg")||(l.addClass("red-bg"),l.prepend('<div class="sih-listing__color-cell start red"></div>'),l.append('<div class="sih-listing__color-cell end red"></div>'))}})),$J(n).attr("done",!0),0===$J('#myListings .market_listing_row[id^="mybuyorder"] .market_listing_item_name_link:not([done])').length&&e.removeClass("animated-background"),l.find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox").is(":checked")?l.find(".sih-resubmit").removeClass("without-price").removeAttr("title"):l.find(".sih-resubmit").removeClass("disabled without-price").removeAttr("title"),CheckLoadedPricesSelectedRows()}t.success&&t.sell_order_graph&&global.SihUserPrices.sendItemData(t,+a,o,+currencyId,null,i)}}))},error:function(e,t,n){}})}),3e3*(t+1))}))},RenderControlButtonsForAutoLoadPrices=function(){$J("#tabContentsMyListings .market_home_listing_table").each((function(){var e=$J(this),t=getListingSectionType(e);if(t){var n=e.find("#".concat(t)),i=' <span class="row_autoload-price">\n      <a\n        href="javascript:void(0);"\n        id="sell_overprices"\n        data-hidden="'.concat(window.highlight,'"\n        class="load_price_auto ').concat(window.highlight?"on":"",'"\n        title="').concat(SIHLang.market.tooltip1,'"\n      ></a>\n      <a\n        id="load_sell_overprices"\n        class="column_autoload-price load_price_manual ').concat(window.highlight?"disabled":"",'"\n        title="').concat(SIHLang.market.tooltip2,'"\n      >\n        <span class="text text_white">').concat(SIHLang.market.requestPrice,'</span>\n        <span class="text text_small text_').concat(window.highlight?"green":"white",'"\n          >').concat(window.highlight?"".concat(SIHLang.market.auto):"".concat(SIHLang.market.manual),"</span\n        >\n      </a>\n    </span>"),r=' <span class="row_autoload-price">\n      <a\n        href="javascript:void(0);"\n        id="await_overprices"\n        data-hidden="'.concat(window.highlight_await,'"\n        class="load_price_auto ').concat(window.highlight_await?"on":"",'"\n        title="').concat(SIHLang.market.tooltip1,'"\n      ></a>\n      <a\n        id="load_await_overprices"\n        class="column_autoload-price load_price_manual ').concat(window.highlight_await?"disabled":"",'"\n        title="').concat(SIHLang.market.tooltip2,'"\n      >\n        <span class="text text_white">').concat(SIHLang.market.requestPrice,'</span>\n        <span class="text text_small text_').concat(window.highlight_await?"green":"white",'"\n          >').concat(window.highlight_await?"".concat(SIHLang.market.auto):"".concat(SIHLang.market.manual),"</span\n        >\n      </a>\n    </span>"),a=' <span class="row_autoload-price">\n      <a\n        href="javascript:void(0);"\n        id="buy_lowerprices"\n        data-hidden="'.concat(window.highlight_buy,'"\n        class="load_price_auto ').concat(window.highlight_buy?"on":"",'"\n        title="').concat(SIHLang.market.tooltip1,'"\n      ></a>\n      <a\n        id="load_buy_lowerprices"\n        class="column_autoload-price load_price_manual ').concat(window.highlight_buy?"disabled":"",'"\n        title="').concat(SIHLang.market.tooltip2,'"\n      >\n        <span class="text text_white">').concat(SIHLang.market.requestPrice,'</span>\n        <span class="text text_small text_').concat(window.highlight_buy?"green":"white",'"\n          >').concat(window.highlight_buy?"".concat(SIHLang.market.auto):"".concat(SIHLang.market.manual),'</span\n        >\n        <span class="progress_after"></span>\n      </a>\n    </span>');n.parent().find(".load_price_auto").length||("sell_listings"===t&&n.before(i),"await_listings"===t?n.before(r):"buy_orders"===t&&n.before(a)),n.closest(".my_listing_section").attr("data-table-id",t),addTooltipForLoadPricesButton("load_price_auto"),addTooltipForLoadPricesButton("load_price_manual"),buttonListenerAutoLoadPrices(e,"sell_overprices"),buttonListenerAutoLoadPrices(e,"await_overprices"),buttonListenerAutoLoadPrices(e,"buy_lowerprices"),e.find("#load_sell_overprices").click((function(){var e=$J(this);e.hasClass("disabled")||e.addClass("disabled"),RenderSelectedAllOverpricesButton("sell_listings"),_FetchAllItemsPrices("sell_listings")})),e.find("#load_await_overprices").click((function(){var e=$J(this);e.hasClass("disabled")||e.addClass("disabled"),RenderSelectedAllOverpricesButton("await_listings"),_FetchAllItemsPrices("await_listings")})),e.find("#load_buy_lowerprices").click((function(){var e=$J(this);e.hasClass("disabled")||e.addClass("disabled"),RenderSelectedAllOverpricesButton("buy_orders"),GetMaxPriceForBuyOrdersListing()}))}}))},addTooltipForLoadPricesButton=function(e){$J(".".concat(e)).tooltip({position:{my:"left bottom",at:"left top-10"},classes:{"ui-tooltip":"sih-steam-market__tooltip"},open:function(e,t){},show:{delay:500,duration:0}})},buttonListenerAutoLoadPrices=function(e,t){e.find("#".concat(t)).off("click").click((function(){var e=$J(this),n=e.data("hidden");e.toggleClass("on"),e.data("hidden",!n),n?(e.parent().find(".text_small").text("".concat(SIHLang.market.manual)),e.parent().find(".text_small").removeClass("text_green"),e.parent().find(".text_small").addClass("text_white")):(e.parent().find(".text_small").text("".concat(SIHLang.market.auto)),e.parent().find(".text_small").removeClass("text_white"),e.parent().find(".text_small").addClass("text_green")),"sell_overprices"===t&&chrome.runtime.sendMessage(window.SIHID,{type:"BACKGROUND_HIGHLIGHT_OVERPRICED",data:{highlight:!n}}),"await_overprices"===t&&chrome.runtime.sendMessage(window.SIHID,{type:"BACKGROUND_HIGHLIGHT_OVERPRICED",data:{highlight_await:!n}}),"buy_lowerprices"===t&&chrome.runtime.sendMessage(window.SIHID,{type:"BACKGROUND_HIGHLIGHT_OVERPRICED",data:{highlight_buy:!n}})}))},autoLoadPrices_loadProgress=function(e,t){if(e.length>0&&!$J(e).hasClass("progress")&&$J(e).addClass("progress"),e.length>0){Number($J(e).css("padding-left").replace(/px/g,"").trim()),Number($J(e).css("padding-right").replace(/px/g,"").trim()),Number($J(e).css("width").replace(/px/g,"").trim());$J(e).is("#load_buy_lowerprices")&&$J(e).find(".progress_after").width(Math.ceil(buyProgressBarWidth))}},RenderCommissionButton=function(){commissionButton_loadHtml(),commissionButton_actionsListener(),toggleHeaderTableCommission(),toggleSteamPriceItemCommission()},commissionButton_loadHtml=function(){var e=$J("#tabContentsMyActiveMarketListingsTable .sih-market-filter").find(".sih-market-filter__left-side"),t=LocalStorageSihMarket.get().commission,n=$J('\n    <div class="sih-market-filter__toggle-commission" data-state="'.concat(void 0===t||t?"show":"hide",'">\n      <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path\n          d="M8.66648 2.5H7.33315V9.16667H8.66648V2.5ZM11.8865 3.94667L10.9398 4.89333C12.0331 5.77333 12.6665 7.1 12.6665 8.5C12.6665 9.73768 12.1748 10.9247 11.2996 11.7998C10.4245 12.675 9.23749 13.1667 7.99982 13.1667C5.42648 13.1667 3.33315 11.0867 3.33315 8.5C3.33315 7.10667 3.96648 5.77333 5.05315 4.88667L4.11315 3.94667C1.58648 6.09333 1.27982 9.88 3.42648 12.4067C5.57315 14.9267 9.35982 15.2333 11.8865 13.0867C13.2332 11.9467 13.9998 10.2667 13.9998 8.5C13.9998 6.74667 13.2265 5.08 11.8865 3.94667Z"\n          fill="currentColor"\n        />\n      </svg>\n\n      <span class="text fs-12">').concat(SIHLang.market.with_fees,"</span>\n    </div>\n  "));e.find(".sih-market-filter__remove-selected").length||e.find(".sih-market-filter__toggle-commission").length||e.append(n)},commissionButton_actionsListener=function(){toggleCommissionBtnAction()},toggleCommissionBtnAction=function(){var e=$J(".sih-market-filter").find(".sih-market-filter__toggle-commission");e.off("click").click((function(){var t=e.attr("data-state");t="show"===t?"hide":"show",e.attr("data-state",t);var n=LocalStorageSihMarket.get();n.commission="show"===t,LocalStorageSihMarket.set(n),toggleHeaderTableCommission(),toggleSteamPriceItemCommission()}))},toggleHeaderTableCommission=function(){var e=$J("#tabContentsMyActiveMarketListingsTable").find("#totalRow0"),t=LocalStorageSihMarket.get().commission,n=void 0===t||t;e.find(".market_listing_price .sih-market-total__receive").toggle(n),e.find(".sih-total-sell__receive").toggle(n),e.find(".total-resubmit-price__receive").toggle(n)},toggleSteamPriceItemCommission=function(){var e=$J("#tabContentsMyActiveMarketListingsRows").find(".market_listing_row"),t=LocalStorageSihMarket.get().commission,n=void 0===t||t;e.each((function(e,t){var i=$J(t);i.find(".market_listing_my_price .market_table_value .market_listing_price span span:last-child").toggle(n),i.find(".resubmit-price__receive").toggle(n)}))},RenderEditAlertButton=function(){IsEnabledResubmitOrders().then((function(e){e.success&&$J(".my_listing_section").each((function(e,t){var n=$J(t),i=$J(t).attr("data-table-id");if(i&&"await_listings"!==i){var r=n.find(".sih-market-filter").find(".sih-market-filter__left-side"),a=LocalStorageSihMarketResubmit.getPercentAlert(i).percent_alert,o=void 0===a?20:a,s=$J('\n          <a\n            href="javascript:void(0)"\n            class="sih-market-filter__edit-alert"\n            title="\n        '.concat("sell_listings"===i?SIHLang.market.resubmit_orders.tooltips.edit_alert_1:SIHLang.market.resubmit_orders.tooltips.edit_alert_buy_1,"\n        ").concat(o,"%\n        ").concat("en"===lang?"sell_listings"===i?SIHLang.market.resubmit_orders.tooltips.edit_alert_2:SIHLang.market.resubmit_orders.tooltips.edit_alert_buy_2:"",'"\n          >\n            <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                d="M6.66667 14.5H9.33333C9.33333 15.2333 8.73333 15.8333 8 15.8333C7.26667 15.8333 6.66667 15.2333 6.66667 14.5ZM14 13.1666V13.8333H2V13.1666L3.33333 11.8333V7.83331C3.33333 5.76665 4.66667 3.96665 6.66667 3.36665V3.16665C6.66667 2.43331 7.26667 1.83331 8 1.83331C8.73333 1.83331 9.33333 2.43331 9.33333 3.16665V3.36665C11.3333 3.96665 12.6667 5.76665 12.6667 7.83331V11.8333L14 13.1666ZM11.3333 7.83331C11.3333 5.96665 9.86667 4.49998 8 4.49998C6.13333 4.49998 4.66667 5.96665 4.66667 7.83331V12.5H11.3333V7.83331Z"\n                fill="white"\n              />\n            </svg>\n            <span class="text fs-12">').concat(o,"%</span>\n          </a>\n        "));s.tooltip({position:{my:"left bottom-10",at:"left top",using:function(e,t){$J(this).css(e);var n=LocalStorageSihMarketResubmit.getPercentAlert(i).percent_alert,r=void 0===n?20:n,a="".concat("sell_listings"===i?SIHLang.market.resubmit_orders.tooltips.edit_alert_1:SIHLang.market.resubmit_orders.tooltips.edit_alert_buy_1," ").concat(r,"% ").concat("en"===lang?"sell_listings"===i?SIHLang.market.resubmit_orders.tooltips.edit_alert_2:SIHLang.market.resubmit_orders.tooltips.edit_alert_buy_2:"");$J(this).find(".ui-tooltip-content").text(a)}},classes:{"ui-tooltip":"sih-steam-market__tooltip"}}),r.find(".sih-market-filter__edit-alert").length||r.append(s),s.off("click").click((function(){RenderEditAlertModal(i)}))}}))}))},editDelayModal_debounce=null,RenderEditDelayModal=function(e){editDelayModal_loadHtml(e),editDelayModal_listenerActions()},editDelayModal_loadHtml=function(e){var t="sell_item_listing"!==e?$J('.my_listing_section[data-table-id="'.concat(e,'"] .sih-market-filter')):$J(".missed-prices__header_left"),n=t.find(".sih-listing-edit-delay").position(),i=LocalStorageSihMarketResubmit.getDelay(e).delay,r=$J('\n    <div id="sih-edit-delay" class="sih-edit-delay" data-table-id="'.concat(e,'">\n      <div class="sih-edit-delay__fade"></div>\n      <div class="sih-global sih-modal sih-edit-delay__modal">\n        <div class="sih-edit-delay__inner sih-modal__inner">\n          <h4 class="text text_white fs-14">').concat(SIHLang.market.resubmit_orders.edit_delay_modal.title,'</h4>\n\n          <label for="sih-edit-delay-input" class="row justify-between items-center bg-black-100 py-12 px-12 br2-grey">\n            <input\n              type="number"\n              id="sih-edit-delay-input"\n              class="text text_white bg-transparent border-none"\n              value="').concat(i,'"\n              step="1"\n            />\n\n            <label for="sih-edit-delay-input">\n              <span class="text text_grey-900 fs-14">').concat(SIHLang.millisec,'</span>\n            </label>\n          </label>\n\n          <div class="sih-edit-delay__buttons">\n            <a\n              href="javascript:void(0)"\n              id="sih-edit-delay-save"\n              class="sih-modal__button sih-modal__button_blue fs-10 bold py-8 text-uppercase px-12 py-8"\n              >').concat(SIHLang.market.resubmit_orders.save,"</a\n            >\n          </div>\n        </div>\n      </div>\n    </div>\n  "));r.find(".sih-modal").css("left",n.left),t.find("#sih-edit-delay").length||(t.prepend(r),$J("#sih-edit-delay").find(".sih-edit-delay__modal").fadeIn(300))},editDelayModal_listenerActions=function(){editDelayModal_closeModalAction(),editDelayModal_focusOnInputOpen(),editDelayModal_validateInputAction(),editDelayModal_saveAction()},editDelayModal_closeModalAction=function(){$J("#sih-edit-delay").find(".sih-edit-delay__fade").off("click").click((function(){removeEditDelayModal()}))},editDelayModal_focusOnInputOpen=function(){$J("#sih-edit-delay-input").trigger("focus"),$J("#sih-edit-delay-input")[0].select()},removeEditDelayModal=function(){var e=$J("#sih-edit-delay");e.fadeOut(300,(function(){e.remove()}))},editDelayModal_validateInputAction=function(){var e=$J("#sih-edit-delay").find("#sih-edit-delay-input");e.focus((function(){e.keyup((function(){var e=$J(this);clearTimeout(editDelayModal_debounce),editDelayModal_debounce=setTimeout((function(){var t=+e.val()||0,n=sih_app_global_service.A.validateInput(t,1e5,0);e.val(n)}),500)}))})),e.focusout((function(){e.off("keyup")})),e.off("change").change((function(){var e=$J(this),t=e.val(),n=sih_app_global_service.A.validateInput(t,1e5,0);e.val(n)}))},editDelayModal_saveAction=function(){var e=$J("#sih-edit-delay"),t=e.find("#sih-edit-delay-save"),n=e.find("#sih-edit-delay-input");t.off("click").click((function(e){i()})),e.keyup((function(e){Event.KEY_RETURN===e.keyCode&&i()}));var i=function(){var e=$J("#sih-edit-delay").attr("data-table-id"),t=n.val(),i=LocalStorageSihMarketResubmit.get()||{};i["delay_".concat(e)]={isEnabled:!0,delay:t},LocalStorageSihMarketResubmit.set(i),"sell_item_listing"===e?$J("#tabContentsMyActiveMarketListingsTable .missed-prices__header_left .sih-listing-edit-delay__delay-count").text("".concat(i["delay_".concat(e)].delay)):$J('.my_listing_section[data-table-id="'.concat(e,'"] .sih-listing-edit-delay__delay-count')).text("".concat(i["delay_".concat(e)].delay)),removeEditDelayModal()}},RenderEditDelayButton=function(){$J(".my_listing_section").each((function(e,t){var n=$J(t),i=n.hasClass("missed-prices")&&"tabContentsMyActiveMarketListingsTable"===n.attr("id")?"sell_item_listing":n.attr("data-table-id");if(i){var r="sell_item_listing"===i?n.find(".missed-prices__header_left"):n.find(".sih-market-filter .sih-market-filter__left-side"),a=LocalStorageSihMarketResubmit.getDelay(i),o=a.delay,s=a.isEnabled,l=$J('\n      <div\n        class="sih-listing-edit-delay '.concat(s?"active":"",'"\n        title="').concat(SIHLang.market.resubmit_orders.tooltips.edit_delay,'"\n      >\n        <label for="sih-listing-edit-delay-input-').concat(e,'">\n          <input id="sih-listing-edit-delay-input-').concat(e,'" class="sih-listing-edit-delay__input" type="checkbox" />\n          <span class="sih-listing-edit-delay__icon">\n            <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path\n                d="M8.66648 2.5H7.33315V9.16667H8.66648V2.5ZM11.8865 3.94667L10.9398 4.89333C12.0331 5.77333 12.6665 7.1 12.6665 8.5C12.6665 9.73768 12.1748 10.9247 11.2996 11.7998C10.4245 12.675 9.23749 13.1667 7.99982 13.1667C5.42648 13.1667 3.33315 11.0867 3.33315 8.5C3.33315 7.10667 3.96648 5.77333 5.05315 4.88667L4.11315 3.94667C1.58648 6.09333 1.27982 9.88 3.42648 12.4067C5.57315 14.9267 9.35982 15.2333 11.8865 13.0867C13.2332 11.9467 13.9998 10.2667 13.9998 8.5C13.9998 6.74667 13.2265 5.08 11.8865 3.94667Z"\n                fill="currentColor"\n              />\n            </svg>\n          </span>\n        </label>\n\n        <span class="sih-listing-edit-delay__open-modal row items-center gap-4">\n          <span class="text fs-12">').concat(SIHLang.delay,': </span>\n          <span class="row items-center gap-12">\n            <span class="sih-listing-edit-delay__delay-count text fs-12">').concat(o,'</span>\n            <span class="text fs-12">').concat(SIHLang.millisec,"</span>\n          </span>\n        </span>\n      </div>\n    "));l.find("#sih-listing-edit-delay-input-".concat(e)).prop("checked",s),l.tooltip({position:{my:"center bottom-10",at:"center top"},classes:{"ui-tooltip":"sih-steam-market__tooltip"}}),r.find(".sih-listing-edit-delay").length||r.append(l),l.find(".sih-listing-edit-delay__input").off("change").change((function(e){var t,n=LocalStorageSihMarketResubmit.get()||{};n["delay_".concat(i)]={isEnabled:e.target.checked,delay:(null===(t=n["delay_".concat(i)])||void 0===t?void 0:t.delay)||200},LocalStorageSihMarketResubmit.set(n),l.toggleClass("active",e.target.checked)})),l.find(".sih-listing-edit-delay__open-modal").off("click").click((function(e){e.stopPropagation(),RenderEditDelayModal(i)}))}}))},RenderHideListingHeader=function(){$J("#tabContentsMyListings .market_home_listing_table").each((function(){var e=$J(this),t=getListingSectionType(e),n=$J.parseJSON(GetCookie(t)||"false"),i=e.find(".my_market_header");i.data("hidden",n),i.attr("id",t),i.off("click").click((function(){var n=$J.parseJSON(i.data("hidden"));n?(e.children("div").show(),e.find(".arrow_icon").addClass("up")):(e.find(".arrow_icon").removeClass("up"),e.children("div").hide()),SetCookie(t,!n,7,"/market"),i.data("hidden",!n),togglePaging()})),e.addClass("market_listing_table"),n&&e.children("div").hide()})),togglePaging()};function togglePaging(){$J("#tabContentsMyActiveMarketListingsTable .my_market_header").data("hidden")?($J("#tabContentsMyListings .market_paging").hide(),$J("#tabContentsMyListings .market_pagesize_options").hide()):($J("#tabContentsMyListings .market_paging").show(),$J("#tabContentsMyListings .market_pagesize_options").show())}var RenderHeaderTotal=function(){$J("#tabContentsMyListings .market_home_listing_table").each((function(){var e=$J(this),t=getListingSectionType(e),n=$J.parseJSON(GetCookie(t)||"false"),i=e.find(".my_market_header_count"),r=i.find("span").first(),a=$J('<span class="arrow_icon '.concat(n?"":"up",'"></span>')),o=e.find(".sih-total-sell__selling").data("price")?e.find(".sih-total-sell__selling").data("price"):e.find(".sih-market-total__seller").data("price"),s=e.find(".sih-total-sell__receive").data("price"),l=(0,global.formatNumberToLocalRu)(o,currencyId,currencyId),c=s?" (".concat((0,global.formatNumberToLocalRu)(s,currencyId,currencyId),")"):"";i.empty().append(r),o&&i.append(" - <span>".concat(l).concat(c,"</span>")),i.append(a)}))},isBuyLoad=!1,RenderMarketFilter=function(){renderSellFilter(),renderBuyFilter(),RenderRemoveSelectedButton(),RenderCommissionButton(),RenderHideListingHeader(),RenderControlButtonsForAutoLoadPrices(),RenderEditAlertButton(),RenderEditDelayButton(),window.highlight?setTimeout((function(){RenderSelectedAllOverpricesButton("sell_listings"),_FetchAllItemsPrices("sell_listings")}),500):setTimeout((function(){$J("#tabContentsMyActiveMarketListingsTable").find(".load_price_manual").removeClass("disabled"),renderPricesFromCache()}),500),window.highlight_await&&(RenderSelectedAllOverpricesButton("await_listings"),_FetchAllItemsPrices("await_listings")),window.highlight_buy&&!isBuyLoad&&setTimeout((function(){isBuyLoad=!0,RenderSelectedAllOverpricesButton("buy_orders"),GetMaxPriceForBuyOrdersListing()}),500),SetToDefaultItemsAfterPagination()},renderSellFilter=function(){var e=$J('\n    <div id="sih-market-sell-filter" class="sih-global sih-market-filter">\n      <div class="sih-market-filter__left-side">\n        <label class="sih-market-filter__label row items-center">\n          <input\n            class="selectableText filter_search_box"\n            type="text"\n            id="Txt_Filter"\n            value=""\n            placeholder="Start typing an item name here to filter items"\n            name="filter"\n            autocomplete="off"\n          />\n          <a href="javascript:void(0)" class="sih-market-filter__clear"></a>\n        </label>\n      </div>\n      <div class="sih-market-filter__right-side"></div>\n    </div>\n  ');e.find("#Txt_Filter").off("keyup").keyup((function(){var e=$J(this).closest(".my_listing_section"),t=$J(this).val().toUpperCase().split(" ").filter((function(e){return""!==e}));if(t.length){for(var n="",i=0;i<t.length;i++)n+=':Contains("'.concat(t[i],'")');e.find(".sih-market-filter__clear").show(),e.find('.market_listing_row:not([id^="totalRow"])').each((function(){$J(this).is(n)?$J(this).show():$J(this).hide()}))}else e.find('.market_listing_row:not([id^="totalRow"])').show(),e.find(".sih-market-filter__clear").hide()})),e.find(".sih-market-filter__clear").click((function(){var e=$J(this).closest(".my_listing_section");e.find("#Txt_Filter").val(""),$J('#tabContentsMyListings .market_home_listing_table:has(div[id^="mylisting"]) .market_listing_row:not([id^="totalRow"])').show(),e.find(".sih-market-filter__clear").hide()})),$J("#tabContentsMyListings").find("#sih-market-sell-filter").length||$J('#tabContentsMyListings .market_home_listing_table:has(div[id^="mylisting"]) .my_market_header').after(e)},renderBuyFilter=function(){var e=$J('\n    <div id="sih-market-buy-filter" class="sih-global sih-market-filter">\n      <div class="sih-market-filter__left-side">\n        <label class="sih-market-filter__label row items-center">\n          <input\n            class="selectableText filter_search_box"\n            type="text"\n            id="Txt_Filter_Buying"\n            value=""\n            placeholder="Start typing an item name here to filter items"\n            name="filter"\n            autocomplete="off"\n          />\n          <a href="javascript:void(0)" id="filter_clear_btn_buying" class="sih-market-filter__clear"></a>\n        </label>\n      </div>\n\n      <div class="sih-market-filter__right-side"></div>\n    </div>\n  ');e.find("#Txt_Filter_Buying").off("keyup").keyup((function(){var e=$J(this).parents(".my_listing_section"),t=$J(this).val().toUpperCase().split(" ").filter((function(e){return""!==e}));if(t.length){for(var n="",i=0;i<t.length;i++)n+=':Contains("'.concat(t[i],'")');$J("#filter_clear_btn_buying").show(),e.find('.market_listing_row:not([id^="totalRow"])').each((function(){$J(this).is(n)?$J(this).show():$J(this).hide()}))}else e.find('.market_listing_row:not([id^="totalRow"])').show(),$J("#filter_clear_btn_buying").hide()})),e.find("#filter_clear_btn_buying").click((function(){e.find("#Txt_Filter_Buying").val(""),$J('#tabContentsMyListings .market_home_listing_table:has(div[id^="mybuyorder"]) .market_listing_row:not([id^="totalRow"])').show(),$J("#filter_clear_btn_buying").hide()})),$J("#tabContentsMyListings").find("#sih-market-buy-filter").length||$J('#tabContentsMyListings .market_home_listing_table:has(div[id^="mybuyorder"]) .my_market_header').after(e)},renderPricesFromCache=function(){$J('#tabContentsMyActiveMarketListingsRows .market_listing_row[id^="mylisting"] .market_listing_cancel_button .item_market_action_button').each((function(e,t){var n=$J(t).closest(".market_listing_row"),i=decodeURIComponent(t.href),r=removeLinkExp.exec(i);if(r){var a=g_rgAssets[r[2]][r[3]][r[4]];if(a){var o="appid=".concat(a.appid,"&market_hash_name=").concat(encodeURIComponent(a.market_hash_name)),s=(PriceQueue._cache[o]?PriceQueue._cache[o].response:{lowest_price:l}).lowest_price,l=void 0===s?null:s;l&&SetMinimumPriceForListingRow(n,l)}}}))},AddSortableColumns=function(e){e.find("> span").each((function(e,t){var n=$J(t);n.hasClass("market_listing_edit_buttons")||(n.addClass("market_sortable_column").css("display","block"),n.find(".market_sort_arrow").length||n.append('<span class="market_sort_arrow" style="display:none"></span>'),n.off("click").click((function(){n.hasClass("market_listing_buyorder_qty")?sortColumns_sortBy(n,"quantity"):n.hasClass("market_listing_listed_date")?sortColumns_sortBy(n,"date"):n.hasClass("market_listing_my_price")?sortColumns_sortBy(n,"my_price"):n.hasClass("market_listing_minimum")?sortColumns_sortBy(n,"minimum_price"):n.hasClass("market_listing_maximum")?sortColumns_sortBy(n,"maximum_price"):sortColumns_sortBy(n,"name")})))}))},sortColumns_sortBy=function(e,t){if(t){var n=e.closest(".market_listing_table_header"),i=n.closest(".market_home_listing_table");i.find("#tabContentsMyActiveMarketListingsRows").length&&(i=i.find("#tabContentsMyActiveMarketListingsRows"));var r=i.children('.market_listing_row:not([id^="totalRow"])');n.find(".market_sort_arrow").hide();var a=1;e.find(".market_sort_arrow").is(':contains("▲")')?(a=-1,e.find(".market_sort_arrow").text("▼")):e.find(".market_sort_arrow").text("▲"),e.find(".market_sort_arrow").show(),r.sort((function(e,n){var i=sortColumns_getSortableValues(e,n,t),r=i.aValue,o=i.bValue;return r>o?a:r<o?-1*a:0})),r.detach().appendTo(i)}},sortColumns_getSortableValues=function(e,t,n){var i,r;switch(n){case"quantity":i=parseFloat(getPriceAsInt($J(e).find(".market_listing_my_price.market_listing_buyorder_qty").text())),r=parseFloat(getPriceAsInt($J(t).find(".market_listing_my_price.market_listing_buyorder_qty").text()));break;case"date":i=+$J(e).find(".market_listing_listed_date").text().match(/\d+/)[0]||0,r=+$J(t).find(".market_listing_listed_date").text().match(/\d+/)[0]||0;break;case"my_price":var a=function(e){var t=$J(e).find(".sih_listing_my_price").text();return getPriceAsInt(t)};i=a(e),r=a(t);break;case"minimum_price":i=parseFloat(getPriceAsInt($J(e).find(".market_listing_minimum--text").text())),r=parseFloat(getPriceAsInt($J(t).find(".market_listing_minimum--text").text()));break;case"maximum_price":i=parseFloat(getPriceAsInt($J(e).find(".market_listing_buyorder_max .market_table_value .market_listing_price").text())),r=parseFloat(getPriceAsInt($J(t).find(".market_listing_buyorder_max .market_table_value .market_listing_price").text()));break;case"name":i=$J(e).find(".market_listing_item_name_link").text(),r=$J(t).find(".market_listing_item_name_link").text()}return{aValue:i,bValue:r}},RenderEmptyActualPrice=function(){actualMarketPrice_loadHtml()},actualMarketPrice_loadHtml=function(){var e=GetListingsRows("sell_listings"),t=GetListingsRows("await_listings"),n=GetListingsRows("buy_orders");e.each((function(e,t){var n=$J(t),i=$J(' <div class="row items-center justify-center market_listing_right_cell market_listing_minimum">\n        <span class="market_listing_minimum--text">-</span>\n      </div>');n.find(".market_listing_minimum").length||i.insertAfter(n.find(".market_listing_my_price"))})),t.each((function(e,t){var n=$J(t),i=$J(' <div class="row items-center justify-center market_listing_right_cell market_listing_minimum">\n        <span class="market_listing_minimum--text">-</span>\n      </div>');n.find(".market_listing_minimum").length||i.insertAfter(n.find(".market_listing_my_price"))})),n.each((function(e,t){var n=$J(t),i=$J('\n      <div class="market_listing_right_cell market_listing_my_price market_listing_buyorder_max">\n        <span class="market_table_value">\n          <span class="market_listing_price">-</span>\n        </span>\n      </div>\n    ');n.find(".market_listing_buyorder_max").length||n.find(".market_listing_my_price.market_listing_buyorder_qty").before(i)}))},RenderRowCheckbox=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];renderAllCheckbox(e),renderRowCheckbox(e),checkbox_actionsListener()},renderAllCheckbox=function(e){(e?$J("#tabContentsMyActiveMarketListingsTable"):$J("#tabContentsMyListings .market_home_listing_table")).find(".market_listing_table_header .market_listing_edit_buttons").each((function(e,t){var n=$J(t),i=$J(' <input type="checkbox" id="select-all-'.concat(e,'" class="select-checkbox" /> '));0===n.find(".select-checkbox").length&&n.append(i),i.click((function(){var e=$J(this).prop("checked"),t=$J(this).closest(".market_home_listing_table"),n=t.attr("data-table-id"),i=t.find('.market_listing_row[id^="'.concat("sell_listings"===n?"mylisting":"mybuyorder",'"]:not(.stack)'));i.find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox:visible").prop("checked",e);var r=t.find(".sih-select-overprices .sih-select-overprices__selected-count");if("sell_listings"===n||"buy_orders"===n){if(i.find(".sih-resubmit").each((function(t,n){var i=$J(n);i.length&&!i.hasClass("without-price")&&i.toggleClass("disabled",e)})),!e){var a=t.find(".red-bg.market_listing_row").find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox:visible:checked").length;r.text(a)}RenderToolbar(n)}else if(t.find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox:visible").prop("checked",e),!e){var o=t.find(".red-bg.market_listing_row").find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox:visible:checked").length;r.text(o)}UpdateStateRemoveSelectedButton(t)}))}))},renderRowCheckbox=function(e){(e?$J("#tabContentsMyActiveMarketListingsTable"):$J("#tabContentsMyListings .market_home_listing_table")).find(".market_listing_edit_buttons .market_listing_cancel_button").each((function(e,t){var n=$J(t);if(0===n.find(".select-checkbox").length){var i=$J('\n        <input type="checkbox" id="select-row-'.concat(e,'" class="select-checkbox" />\n      '));n.append(i)}}))},checkbox_actionsListener=function(){checkboxAction()},checkboxAction=function(){$J(".market_listing_row").find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox").off("click").click((function(t){var n=$J(this),i=n.closest(".my_listing_section"),r=n.closest(".market_listing_row"),a=i.find(".sih-select-overprices .sih-select-overprices__selected-count");if(!n.is(":checked")){var o=i.find(".red-bg.market_listing_row").find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox:visible:checked").length;a.text(o)}var s=i.attr("data-table-id"),l=r.find(".sih-resubmit");l.length&&!l.hasClass("without-price")&&l.toggleClass("disabled"),t.shiftKey&&e(s),UpdateStateRemoveSelectedButton(i),RenderToolbar(s)}));var e=function(e){var t=$J(".market_listing_row").find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox"),n=!1;t.each((function(t,i){var r=$J(i),a=r.closest(".market_listing_row");if(a.closest(".my_listing_section").attr("data-table-id")===e&&(r.is(":checked")&&(n=!n),!a.hasClass("stack")&&!r.is(":checked")&&n)){r.prop("checked",!0);var o=r.closest(".market_listing_row").find(".sih-resubmit");o.length&&!o.hasClass("without-price")&&o.toggleClass("disabled")}}))}},RefactorEditButtons=function(){},RenderCustomCancelModal=function(e){return new Promise((function(t){customRevokeListings_loadHtml(e),customRevokeListings_actionsListener().then((function(e){t(e)}))}))},DeleteCustomCancelModal=function(){var e=$J("#sih-cancel-listing");e.fadeOut(300,(function(){e.remove()}))},customRevokeListings_loadHtml=function(e){var t=e.hashName,n=e.href,i=e.buy_orderid,r=$J("body"),a=$J('\n    <div id="sih-cancel-listing" class="sih-cancel-listing">\n      <div class="sih-cancel-listing__fade"></div>\n      <div class="sih-global sih-modal sih-cancel-listing__modal">\n        <div class="sih-modal__close"></div>\n        <div class="sih-cancel-listing__inner sih-modal__inner">\n          <div class="sih-cancel-listing__title">'.concat(SIHLang.market.custom_remove_modal.title,'</div>\n          <div class="sih-cancel-listing__content">\n            <div class="sih-cancel-listing__text">\n              ').concat(SIHLang.market.custom_remove_modal.buy_orders_text_1,'\n              <a href="').concat(n,'" target="_blank" class="text text_white bold">(').concat(t,')</a>\n            </div>\n\n            <div class="sih-cancel-listing__buttons">\n              <a href="javascript:void(0)" class="sih-cancel-listing__remove" data-order-id="').concat(i,'"\n                >').concat(SIHLang.market.custom_remove_modal.confirm,'</a\n              >\n              <a href="javascript:void(0)" class="sih-cancel-listing__cancel"\n                >').concat(SIHLang.market.custom_remove_modal.cancel,"</a\n              >\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  "));r.find("#sih-cancel-listing").length||(r.append(a),$J("#sih-cancel-listing").find(".sih-cancel-listing__modal").fadeIn(300))},customRevokeListings_actionsListener=function(){return new Promise((function(e){customRevokeListings_closeModalAction().then((function(){e()})),customRevokeListings_removeListingAction().then((function(t){e(t)}))}))},customRevokeListings_closeModalAction=function(){var e=$J("#sih-cancel-listing"),t=e.find(".sih-modal__close"),n=e.find(".sih-cancel-listing__fade"),i=e.find(".sih-cancel-listing__cancel");return new Promise((function(e){t.off("click").click((function(){DeleteCustomCancelModal(),e()})),n.off("click").click((function(){DeleteCustomCancelModal(),e()})),i.off("click").click((function(){DeleteCustomCancelModal(),e()}))}))},customRevokeListings_removeListingAction=function(){var e=$J("#sih-cancel-listing").find(".sih-cancel-listing__remove"),t=null;return new Promise((function(n){e.off("click").click((function(e){clearTimeout(t),t=setTimeout((function(){var t=$J(e.target).attr("data-order-id");$J.post("//steamcommunity.com/market/cancelbuyorder/",{sessionid:g_sessionID,buy_orderid:t}).then((function(e){DeleteCustomCancelModal(),n(e)})).fail((function(e){DeleteCustomCancelModal(),n(e)}))}),300)}))}))},SteamRemoveBtnActionsListener=function(){$J(".market_listing_edit_buttons.actual_content").parent().each((function(e,t){var n=$J(t);n.find(".item_market_action_button.item_market_action_button_edit").click((function(e){var t=$J(e.target).closest(".my_listing_section").attr("data-table-id"),i=GetListingItemRowInfo(n);if("sell_listings"===t)setTimeout((function(){$J("#market_removelisting_dialog_accept").click((function(){var e=[i[4]];chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_REMOVE_ITEM_FOR_SALE",data:{assetids:e}},(function(){}))}))}),200);else if("buy_orders"===t){e.preventDefault();var r=n.find(".market_listing_item_name_link").text(),a=n.find(".market_listing_item_name_link").attr("href"),o=n.attr("id").substring(11);RenderCustomCancelModal({hashName:r,href:a,buy_orderid:o}).then((function(e){e&&RefreshMyMarketListings()}))}}))}))},orgRemListingOnSuccess=RemoveListingDialog.OnSuccess;RemoveListingDialog.OnSuccess=function(e){e.responseJSON?(this.OnSuccessEffects(),htmlListings="",$ACTIVE_LISTING_ROWS=null,RefreshMyMarketListings()):(this.OnFailureEffects(),this.DisplayError("There was a problem removing your listing. Refresh the page and try again."))};var RefactorSteamPrice=function(){replaceRubCurrency()},replaceRubCurrency=function(){$J(".market_listing_right_cell.market_listing_my_price").find(".market_listing_price span").find("span").each((function(e,t){var n=$J(t);e%2==0&&n.addClass("sih_listing_my_price");var i=n.text().replace(/руб./g,"₽");n.text(i)})),GetListingsRows("buy_orders").find(".market_listing_price").each((function(e,t){var n=$J(t);n.closest(".market_listing_right_cell").hasClass("market_listing_buyorder_qty")||n.closest(".market_listing_right_cell").hasClass("market_listing_buyorder_max")||n.addClass("sih_listing_my_price"),n.find(".market_listing_inline_buyorder_qty").remove();var i=n[0].innerText.replace(/руб./g,"₽");n.text(i)}))},RefactorListingRow=function(){GetListingsRows("sell_listings").addClass("sih-global"),GetListingsRows("await_listings").addClass("sih-global"),GetListingsRows("buy_orders").addClass("sih-global"),RenderEmptyActualPrice(),RenderRowCheckbox(),RefactorEditButtons(),RefactorSteamPrice(),SteamRemoveBtnActionsListener()},LoadResubmitOrderButton=function(e){IsEnabledResubmitOrders().then((function(t){t.success&&(resubmitButton_loadHtml(e),resubmitButton_listenerActions(e))}))},resubmitButton_loadHtml=function(e){var t=GetListingsRows(e),n=currency_service.A.getPriceFromCurrency(.01,currencyId,currencyId).text;t.each((function(t,i){var r=$J(i).find(".market_listing_cancel_button"),a=$J('\n      <div class="sih-resubmit disabled without-price" title="">\n        <div class="sih-resubmit__row row">\n          <a\n            href="javascript:void(0)"\n            class="sih-resubmit__btn row items-center justify-center w-24 h-24"\n            data-state="default"\n          >\n            <img\n              class="opacity-50per"\n              src="chrome-extension://'.concat(SIHID,'/assets/market/resubmit/resubmit_default.svg"\n              alt="default"\n            />\n          </a>\n          <a href="javascript:void(0)" class="sih-resubmit__arrow-down row items-center justify-center w-24 h-24">\n            <img\n              class="opacity-50per"\n              src="chrome-extension://').concat(SIHID,'/assets/market/resubmit/arrow-down.svg"\n              alt="arrow-down"\n            />\n          </a>\n\n          <a href="javascript:void(0)" class="sih-resubmit__undo items-center justify-center w-24 h-24">\n            <img class="opacity-50per" src="chrome-extension://').concat(SIHID,'/assets/market/resubmit/undo.svg" alt="undo" />\n          </a>\n        </div>\n\n        <div class="sih-resubmit__tooltip resubmit-tooltip">\n          <a href="javascript:void(0)" class="resubmit-tooltip__item" data-state="default">\n            <img src="chrome-extension://').concat(SIHID,'/assets/market/resubmit/resubmit_default.svg" alt="resubmit_default" />\n            <span class="text"\n              >').concat("sell_listings"===e?SIHLang.market.resubmit_orders.reduce_by:SIHLang.market.resubmit_orders.increase_by,"\n              ").concat(n,"\n              ").concat("sell_listings"===e?SIHLang.market.resubmit_orders.of_min_price:SIHLang.market.resubmit_orders.of_max_price,'</span\n            >\n          </a>\n          <a href="javascript:void(0)" class="resubmit-tooltip__item" data-state="percent">\n            <img src="chrome-extension://').concat(SIHID,'/assets/market/resubmit/resubmit_percent.svg" alt="resubmit_percent" />\n            <span class="text"\n              >').concat("sell_listings"===e?SIHLang.market.resubmit_orders.reduce_by:SIHLang.market.resubmit_orders.increase_by,"\n              1%\n              ").concat("sell_listings"===e?SIHLang.market.resubmit_orders.of_min_price:SIHLang.market.resubmit_orders.of_max_price,'</span\n            >\n          </a>\n          <a href="javascript:void(0)" class="resubmit-tooltip__item" data-state="manual">\n            <img src="chrome-extension://').concat(SIHID,'/assets/market/resubmit/resubmit_manual.svg" alt="resubmit_manual" />\n            <span class="text">').concat(SIHLang.market.resubmit_orders.set_price,"</span>\n          </a>\n        </div>\n      </div>\n    "));r.prepend(a)}))},resubmitButton_listenerActions=function(e){resubmitButton_resubmitBtnAction(e),undoAction(e),showResubmitTooltipAction(e),changeTooltipOptionAction(e),showDisabledTooltip(e)},resubmitButton_resubmitBtnAction=function(e){GetListingsRows(e).each((function(t,n){var i=$J(n),r=i.find(".sih-resubmit__btn"),a=null;r.off("click").click((function(t){var n=this;clearTimeout(a),a=setTimeout((function(){var t=$J(n).attr("data-state");"manual"!==t?(BuildResubmitData(i,t),RenderChangePanel(e),UpdateHeaderTotalResubmitPrice(e)):RenderResubmitModal(i)}),200)}))}))},undoAction=function(e){GetListingsRows(e).each((function(t,n){var i=$J(n);i.find(".sih-resubmit").find(".sih-resubmit__undo").off("click").click((function(){if("sell_listings"===e){var t=$J(this).attr("data-id");global.SellListing.removeItem(t)}else{var n=$J(this).attr("data-id");global.BuyOrders.removeItem(n)}i.find(".resubmit-price").remove(),i.css("background-color","rgba(0, 0, 0, 0.2)").removeClass("stack"),RenderChangePanel(e),UpdateHeaderTotalResubmitPrice(e)}))}))},showResubmitTooltipAction=function(e){var t=GetListingsRows(e);t.each((function(e,n){var i=$J(n),r=i.find(".sih-resubmit"),a=r.find(".sih-resubmit__arrow-down"),o=null;a.off("click").click((function(){clearTimeout(o),o=setTimeout((function(){i.css("overflow","visible"),t.find(".sih-resubmit__tooltip").fadeOut();var e=r.find(".sih-resubmit__tooltip");e.fadeIn("fast").css("display","flex"),$J("body").off("click").click((function(t){var n=$J(t.target.parentElement);n.hasClass("sih-resubmit__row")||n.hasClass("sih-resubmit__arrow-down")||e.fadeOut("fast")}))}),200)}))}))},changeTooltipOptionAction=function(e){GetListingsRows(e).each((function(e,t){var n=$J(t);n.find(".sih-resubmit__tooltip").find(".resubmit-tooltip__item").off("click").click((function(){var e=$J(this),t=e.attr("data-state");if("manual"!==t){var i=e.closest(".sih-resubmit").find(".sih-resubmit__btn");i.attr("data-state",t),i.find("img").attr("src","chrome-extension://".concat(SIHID,"/assets/market/resubmit/resubmit_").concat(t,".svg")).attr("alt",t),i.trigger("click")}else RenderResubmitModal(n)}))}))},showDisabledTooltip=function(e){GetListingsRows(e).each((function(t,n){var i=$J(n).find(".sih-resubmit.without-price"),r=$J('\n      <div class="sih-global resubmit-price-tooltip">\n        <div class="roboto row items-center gap-5">\n          <a href="javascript:void(0)" class="load_price_manual text text_blue hover-opacity-8"\n            >'.concat(SIHLang.market.resubmit_orders.tooltips.need_load_price_1,'</a\n          >\n          <span class="text">').concat(SIHLang.market.resubmit_orders.tooltips.need_load_price_2,"</span>\n        </div>\n      </div>\n    "));i.tooltip({content:r.text(),position:{my:"left bottom",at:"left top",using:function(t,n){var i=$J('.my_listing_section[data-table-id="'.concat(e,'"]')).find(".load_price_manual");r.find(".load_price_manual").off("click").click((function(){i.hasClass("disabled")||i.trigger("click")})),$J(this).css(t),$J(".ui-tooltip-content").hide(),$J(this).append(r)}},classes:{"ui-tooltip":"sih-steam-market__tooltip"}}).on("mouseenter",(function(e){i.not($J(this)).tooltip("close")})).on("mouseleave",(function(e){$J(".ui-tooltip:hover").length>0&&e.stopImmediatePropagation()})),$J("body").on("mouseleave",".ui-tooltip",(function(e){i.tooltip(),i.tooltip("close")}))}))},content=__webpack_require__(4317);function injectButton_typeof(e){return injectButton_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},injectButton_typeof(e)}function injectButton_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */injectButton_regeneratorRuntime=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),s=new R(i||[]);return r(o,"_invoke",{value:I(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var _="suspendedStart",m="suspendedYield",h="executing",f="completed",p={};function g(){}function v(){}function b(){}var y={};c(y,o,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(T([])));S&&S!==n&&i.call(S,o)&&(y=S);var w=b.prototype=g.prototype=Object.create(y);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(r,a,o,s){var l=u(e[r],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==injectButton_typeof(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return a=a?a.then(r,r):r()}})}function I(t,n,i){var r=_;return function(a,o){if(r===h)throw Error("Generator is already running");if(r===f){if("throw"===a)throw o;return{value:e,done:!0}}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var l=x(s,i);if(l){if(l===p)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===_)throw r=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=h;var c=u(t,n,i);if("normal"===c.type){if(r=i.done?f:m,c.arg===p)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=f,i.method="throw",i.arg=c.arg)}}}function x(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),p;var a=u(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(injectButton_typeof(t)+" is not iterable")}return v.prototype=b,r(w,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},C(A.prototype),c(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new A(d(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(w),c(w,l,"Generator"),c(w,o,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=T,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;L(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:T(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),p}},t}function injectButton_asyncGeneratorStep(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function injectButton_asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){injectButton_asyncGeneratorStep(a,i,r,o,s,"next",e)}function s(e){injectButton_asyncGeneratorStep(a,i,r,o,s,"throw",e)}o(void 0)}))}}var RenderExportMarketHistoryBtn=function(){injectButton_loadHtml(),injectButton_listenerActions()},injectButton_loadHtml=function(){var e=$J("#myMarketTabs .market_tab_well_tabs"),t=$J('\n    <a\n      id="sih-tab-export-market-history"\n      class="market_tab_well_tab market_tab_well_tab_inactive"\n      href="javascript:void(0)"\n    >\n      <span class="market_tab_well_tab_contents">'.concat(SIHLang.export_market_history.title,"</span>\n    </a>\n  "));e.find("#sih-tab-export-market-history").length||e.append(t),e.contents().filter((function(){return 3===this.nodeType&&""===this.nodeValue.trim()})).remove()},injectButton_listenerActions=function(){openExportHistoryTabAction()},openExportHistoryTabAction=function(){$J("#myMarketTabs .market_tab_well_tabs").find("#sih-tab-export-market-history").off("click").click(function(){var e=injectButton_asyncToGenerator(injectButton_regeneratorRuntime().mark((function e(t){return injectButton_regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,content.m)();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},filter=__webpack_require__(8156);SIH=__webpack_exports__})();