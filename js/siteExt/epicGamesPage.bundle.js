var SIH;(()=>{"use strict";var t=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,n=Array.from(r.querySelectorAll("*")).map((function(t){return t.shadowRoot})).filter(Boolean).map((function(r){return t(e,r)}));return Array.from(r.querySelectorAll(e)).concat(n).flat()},e=function(t){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SYNC_STORAGE",data:t},(function(t){e(t)}))}))},r=function(t){return new Promise((function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_LOCAL_STORAGE",data:t},(function(t){e(t)}))}))},n=function(t,e){return new Promise((function(r){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_LOCAL_STORAGE",data:{key:t,value:e}},(function(t){r(t)}))}))};function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */a=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},c="function"==typeof Symbol?Symbol:{},u=c.iterator||"@@iterator",s=c.asyncIterator||"@@asyncIterator",l=c.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,r){return t[e]=r}}function p(t,e,r,n){var o=e&&e.prototype instanceof w?e:w,a=Object.create(o.prototype),c=new T(n||[]);return i(a,"_invoke",{value:P(t,r,c)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=p;var d="suspendedStart",v="suspendedYield",g="executing",y="completed",m={};function w(){}function b(){}function _(){}var x={};f(x,u,(function(){return this}));var L=Object.getPrototypeOf,S=L&&L(L(G([])));S&&S!==r&&n.call(S,u)&&(x=S);var E=_.prototype=w.prototype=Object.create(x);function O(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(a,i,c,u){var s=h(t[a],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==o(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,c,u)}),(function(t){r("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return r("throw",t,c,u)}))}u(s.arg)}var a;i(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function P(e,r,n){var o=d;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=g;var s=h(e,r,n);if("normal"===s.type){if(o=n.done?y:v,s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=y,n.method="throw",n.arg=s.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=h(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function G(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(o(e)+" is not iterable")}return b.prototype=_,i(E,"constructor",{value:_,configurable:!0}),i(_,"constructor",{value:b,configurable:!0}),b.displayName=f(_,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,f(t,l,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},O(k.prototype),f(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new k(p(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},O(E),f(E,l,"Generator"),f(E,u,(function(){return this})),f(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=G,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:G(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function s(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){u(a,n,o,i,c,"next",t)}function c(t){u(a,n,o,i,c,"throw",t)}i(void 0)}))}}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h(n.key),n)}}function f(t,e,r){return e&&l(t.prototype,e),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function p(t,e,r){return(e=h(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function d(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function v(t,e){return t.get(function(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}(t,e))}var g=new WeakMap,y=new WeakMap,m=new WeakMap,w=new WeakMap,b=new WeakMap,_=new WeakMap,x=new WeakMap;const L=new(f((function t(){var r,n,o,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,g,"case-open-feat"),d(this,y,"button"),d(this,m,"click"),d(this,w,"n/a"),d(this,b,"n/a"),d(this,_,"n/a"),d(this,x,"n/a"),p(this,"set",function(){var t=s(a().mark((function t(e){var r,n,o,u,l,f,p,h,d;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.group,n=e.target,o=e.targetType,u=e.action,l=e.properties,f=e.lang,p=e.country,h=e.uid,d=e.steamId,t.abrupt("return",new Promise(function(){var t=s(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=chrome.runtime,t.t1=SIHID,t.t2=c,t.t3=c({group:r||i.group,target:n,targetType:o||i.targetType,action:u||i.action},l),t.t4={},t.t5=f||i.lang,t.t6=p||i.country,!h){t.next=11;break}t.t7=h,t.next=14;break;case 11:return t.next=13,i.parseUid();case 13:t.t7=t.sent;case 14:t.t8=t.t7,t.t9=d||i.steamId,t.t10={lang:t.t5,country:t.t6,uid:t.t8,steamId:t.t9},t.t11=(0,t.t2)(t.t3,t.t4,t.t10),t.t12={type:"BACKGROUND_SET_EVENT_REGISTRATION_V2",data:t.t11},t.t13=function(t){e(t)},t.t0.sendMessage.call(t.t0,t.t1,t.t12,t.t13);case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),p(this,"parseUserInfo",(function(){var t=("function"==typeof $J?$J:$)("#application_config");if(t.length){var e,r,n,o,a,c=t.attr("data-config"),u=t.attr("data-userinfo");return{lang:c?null===(e=JSON.parse(c))||void 0===e||null===(r=e.LANGUAGE)||void 0===r?void 0:r.toLowerCase():v(w,i),country:c?null===(n=JSON.parse(c))||void 0===n||null===(o=n.COUNTRY)||void 0===o?void 0:o.toLowerCase():v(b,i),steamId:u?null===(a=JSON.parse(u))||void 0===a?void 0:a.steamid:v(x,i)}}return{lang:"en",country:"us",steamId:null}})),p(this,"parseUid",s(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=s(a().mark((function t(r){var n,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e("sih_token");case 2:n=t.sent,o=n.sih_token,r(o||v(_,i));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)}))));var u=this.parseUserInfo();this.group=v(g,this),this.targetType=v(y,this),this.action=v(m,this),this.lang=null!==(r=window)&&void 0!==r&&r.g_strLanguage?g_strLanguage.toLowerCase():null!=u&&u.lang?null==u?void 0:u.lang:v(w,this),this.country=null!==(n=window)&&void 0!==n&&n.g_strCountryCode?g_strCountryCode.toLowerCase():null!=u&&u.country?null==u?void 0:u.country:v(b,this),this.steamId=null!==(o=window)&&void 0!==o&&o.g_steamID?g_steamID:null!=u&&u.steamId?u.steamId:v(x,this)})));var S=1,E=2;function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function k(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */k=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof y?e:y,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:P(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",g={};function y(){}function m(){}function w(){}var b={};s(b,i,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(G([])));x&&x!==r&&n.call(x,i)&&(b=x);var L=w.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function r(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==O(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(l).then((function(t){s.value=t,i(s)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function P(e,r,n){var o=p;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?v:h,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=v,n.method="throw",n.arg=s.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function G(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(O(e)+" is not iterable")}return m.prototype=w,o(L,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:m,configurable:!0}),m.displayName=s(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,s(t,u,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},S(E.prototype),s(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new E(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},S(L),s(L,u,"Generator"),s(L,i,(function(){return this})),s(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=G,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:G(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function P(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function j(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){P(a,n,o,i,c,"next",t)}function c(t){P(a,n,o,i,c,"throw",t)}i(void 0)}))}}function I(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,G(n.key),n)}}function N(t,e,r){return e&&I(t.prototype,e),r&&I(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function T(t,e,r){return(e=G(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G(t){var e=function(t,e){if("object"!=O(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==O(e)?e:e+""}function D(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function M(t,e){return t.get(function(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}(t,e))}var C=new WeakMap,J=new WeakMap,A=new WeakMap,H=new WeakMap,U=new WeakMap,W=new WeakMap,R=new WeakMap,F=new WeakMap,B=new WeakMap,Y=new WeakMap,z=new WeakMap,K=new WeakMap,q=new WeakMap,V=new WeakMap,Q=new WeakMap,X=new WeakMap,Z=new WeakMap;const tt=new(N((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),D(this,C,"https://store-site-backend-static-ipv4.ak.epicgames.com/freeGamesPromotions"),D(this,J,"https://store.epicgames.com/graphql"),D(this,A,"https://store-content-ipv4.ak.epicgames.com/api/en-US/content"),D(this,H,"https://www.epicgames.com/store/purchase"),D(this,U,"https://www.epicgames.com/id/login"),D(this,W,"875a3b57d3a640a6b7f9b4e883463ab4"),D(this,R,j(k().mark((function t(){var e;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=$J("egs-footer"),t.abrupt("return",e.attr("countrycode"));case 5:t.prev=5,t.t0=t.catch(0),console.error("Error when getting countryCode, game search will not take account region into account");case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))),D(this,F,(function(t){return new Promise((function(e,r){$J.ajax({url:t,type:"GET",success:function(t){e(t)},error:function(t){r(t)}})}))})),D(this,B,j(k().mark((function t(){var r,n,o,a,i,c,u,s,l=arguments;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>0&&void 0!==l[0]?l[0]:"US",i=new URLSearchParams({locale:"en-US",country:a,allowCountries:a}),t.next=4,M(F,e).call(e,"".concat(M(C,e),"?").concat(i.toString()));case 4:if(c=t.sent,u=null===(r=c.data)||void 0===r||null===(n=r.Catalog)||void 0===n||null===(o=n.searchStore)||void 0===o?void 0:o.elements){t.next=8;break}throw new Error("Error when parsing free games ".concat(JSON.stringify(c)));case 8:return s=new Date,t.abrupt("return",u.filter((function(t){var e=!1;return t.promotions&&t.promotions.promotionalOffers.forEach((function(t){t.promotionalOffers.forEach((function(t){var r=new Date(t.startDate),n=new Date(t.endDate),o=0===t.discountSetting.discountPercentage;r<=s&&s<=n&&o&&(e=!0)}))})),e})));case 10:case"end":return t.stop()}}),t)})))),D(this,Y,function(){var t=j(k().mark((function t(r,n){var o;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(r.map(function(){var t=j(k().mark((function t(r){var o,a,i,c,u,s,l,f,p,h;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=(null==r||null===(o=r.catalogNs)||void 0===o||null===(a=o.mappings)||void 0===a||null===(i=a.find((function(t){return"productHome"===t.pageType})))||void 0===i?void 0:i.pageSlug)||r.productSlug,u=r.productSlug,s=r.offerType,l=r.id,f=r.namespace,!c||!u){t.next=15;break}return t.next=6,M(z,e).call(e,c);case 6:if((p=t.sent).mappings.offer){t.next=13;break}return c=p.pageSlug,t.next=11,M(K,e).call(e,c,s,n);case 11:return h=t.sent,t.abrupt("return",h.filter((function(t){return null==t?void 0:t.hasOffer})).map((function(t){return{offerNamespace:t.namespace,offerId:t.id,productName:r.title,productSlug:c}})));case 13:l=p.mappings.offer.id,f=p.mappings.offer.namespace;case 15:return t.abrupt("return",[{offerNamespace:f,offerId:l,productName:r.title,productSlug:c}]);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:return o=t.sent,t.abrupt("return",o.flat());case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),D(this,z,function(){var t=j(k().mark((function t(r){var n,o,a,i;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={pageSlug:r,locale:"en-US"},o={persistedQuery:{version:1,sha256Hash:"781fd69ec8116125fa8dc245c0838198cdf5283e31647d08dfa27f45ee8b1f30"}},a=new URLSearchParams({operationName:"getMappingByPageSlug",variables:JSON.stringify(n),extensions:JSON.stringify(o)}),t.next=5,M(F,e).call(e,"".concat(M(J,e),"?").concat(a.toString()));case 5:return i=t.sent,t.abrupt("return",i.data.StorePageMapping.mapping);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),D(this,K,function(){var t=j(k().mark((function t(r,n,o){var a,i,c;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=(a="BUNDLE"===n)?"bundles":"products",t.next=4,M(F,e).call(e,"".concat(M(A,e),"/").concat(i,"/").concat(r));case 4:if(c=t.sent,!a){t.next=9;break}return t.abrupt("return",[c.offer]);case 9:if(!c.regionBlock.includes(o)){t.next=13;break}return t.abrupt("return",[]);case 13:return t.abrupt("return",c.pages.map((function(t){return t.offer})));case 14:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()),D(this,q,function(){var t=j(k().mark((function t(r,n){var o,a,i,c,u,s,l=arguments;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={locale:"en-US",country:o=l.length>2&&void 0!==l[2]?l[2]:"US",offerId:r,sandboxId:n},i={persistedQuery:{version:1,sha256Hash:"abafd6e0aa80535c43676f533f0283c7f5214a59e9fae6ebfb37bed1b1bb2e9b"}},c=new URLSearchParams({operationName:"getCatalogOffer",variables:JSON.stringify(a),extensions:JSON.stringify(i)}),t.next=6,fetch("".concat(M(J,e),"?").concat(c.toString()));case 6:return t.next=8,t.sent.json();case 8:if(u=t.sent,s=u.data.Catalog.catalogOffer,!M(V,e).call(e,s,o)){t.next=14;break}return t.abrupt("return",{offerId:s.id,offerNamespace:s.namespace,productName:s.title,productSlug:s.productSlug,productPrice:s.price.totalPrice,productImages:s.keyImages});case 14:return t.abrupt("return",null);case 15:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),D(this,V,(function(t,e){var r,n,o,a=0===(null===(r=t.price)||void 0===r||null===(n=r.totalPrice)||void 0===n?void 0:n.discountPrice),i=!!t.expiryDate&&new Date(t.expiryDate)<new Date,c=null===(o=t.countriesBlacklist)||void 0===o?void 0:o.includes(e);return!(i||!a||c)})),D(this,Q,function(){var t=j(k().mark((function t(r){var n;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(r.map(function(){var t=j(k().mark((function t(r){return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=r,t.next=3,M(X,e).call(e,r.offerId,r.offerNamespace);case 3:return t.t1=t.sent,t.abrupt("return",{offer:t.t0,canPurchase:t.t1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:return n=t.sent,t.abrupt("return",n.filter((function(t){return t.canPurchase})).map((function(t){return t.offer})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),D(this,X,function(){var t=j(k().mark((function t(r,n){var o,a,i,c,u,s,l,f,p,h,d;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l={offers:[{offerId:r,namespace:n}]},f={persistedQuery:{version:1,sha256Hash:"3c9bb0f213f6d0cb6bf056e6b206ba166c8dd59d014618e4d59bff11689f403a"}},p=new URLSearchParams({operationName:"getOffersValidation",variables:JSON.stringify(l),extensions:JSON.stringify(f)}),t.next=5,M(F,e).call(e,"".concat(M(J,e),"?").concat(p.toString()));case 5:return h=t.sent,d=null===(o=h.data)||void 0===o||null===(a=o.Entitlements)||void 0===a?void 0:a.cartOffersValidation,t.abrupt("return",!(null!=d&&null!==(i=d.missingPrerequisites)&&void 0!==i&&i.length||null!=d&&null!==(c=d.conflictingOffers)&&void 0!==c&&c.length||null!=d&&null!==(u=d.fullyOwnedOffers)&&void 0!==u&&u.length||null!=d&&null!==(s=d.unablePartiallyUpgradeOffers)&&void 0!==s&&s.length));case 8:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),D(this,Z,(function(t){var r=new URL(M(U,e));return r.searchParams.set("noHostRedirect","true"),r.searchParams.set("redirectUrl",t),r.searchParams.set("client_id",M(W,e)),r.toString()})),T(this,"getAllGames",j(k().mark((function t(){var r,n,o,a;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M(R,e).call(e);case 2:return r=t.sent,t.next=5,M(B,e).call(e,r);case 5:return n=t.sent,t.next=8,M(Y,e).call(e,n,r);case 8:return o=t.sent,t.next=11,Promise.all(o.map(function(){var t=j(k().mark((function t(n){return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",M(q,e).call(e,n.offerId,n.offerNamespace,r));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 11:return a=t.sent.filter(Boolean),t.next=14,M(Q,e).call(e,a);case 14:return t.abrupt("return",t.sent);case 15:case"end":return t.stop()}}),t)})))),T(this,"generateCheckoutUrl",(function(t){var r=t.map((function(t){return"&offers=1-".concat(t.offerNamespace,"-").concat(t.offerId)})).join(""),n="".concat(M(H,e),"?highlightColor=0078f2").concat(r,"&orderId&purchaseToken&showNavigation=true");return M(Z,e).call(e,n)}))})));function et(t){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},et(t)}function rt(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=et(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=et(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==et(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */nt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof y?e:y,i=Object.create(a.prototype),c=new I(n||[]);return o(i,"_invoke",{value:O(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",g={};function y(){}function m(){}function w(){}var b={};s(b,i,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(N([])));x&&x!==r&&n.call(x,i)&&(b=x);var L=w.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function r(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==et(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(l).then((function(t){s.value=t,i(s)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function O(e,r,n){var o=p;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=k(c,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?v:h,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=v,n.method="throw",n.arg=s.arg)}}}function k(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,k(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(et(e)+" is not iterable")}return m.prototype=w,o(L,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:m,configurable:!0}),m.displayName=s(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,s(t,u,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},S(E.prototype),s(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new E(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},S(L),s(L,u,"Generator"),s(L,i,(function(){return this})),s(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function ot(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function at(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){ot(a,n,o,i,c,"next",t)}function c(t){ot(a,n,o,i,c,"throw",t)}i(void 0)}))}}var it=function(){var t=at(nt().mark((function t(){var e,r;return nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ct(),ut(),t.prev=2,t.next=5,tt.getAllGames();case 5:(e=t.sent).length?(r=tt.generateCheckoutUrl(e),lt(e,r)):st(E),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),st(S);case 12:ft();case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(){return t.apply(this,arguments)}}(),ct=function(){var t=$J("body"),e=$J('<div class="sih-egs-free">\n      <div class="sih-egs-free__fade"></div>\n      <div class="sih-modal sih-global">\n        <div class="sih-modal__close"></div>\n        <div class="sih-modal__inner sih-modal__column"></div>\n      </div>\n    </div>');t.find(".sih-egs-free").length||(t.append(e),t.css("overflow","hidden"))},ut=function(){var t=$J(' <div class="sih-egs-free__preloader">\n      <img class="sih-egs-free__img" src="chrome-extension://'.concat(SIHID,'/assets/epicGames/loader-face.gif" alt="loading" />\n      <div>').concat(SIHLang.egs_free.preloader_text,"</div>\n    </div>"));$J(".sih-egs-free .sih-modal__inner").empty().append(t)},st=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=rt(rt({},S,SIHLang.egs_free.error.something_wrong),E,SIHLang.egs_free.error.none_available),r=$J('<div class="sih-egs-free__error">\n      <img src="chrome-extension://'.concat(SIHID,'/assets/epicGames/sad-face.svg" alt="sad" />\n      <div class="column gap-12 items-center">\n        <div>').concat(e[t],'</div>\n        <button class="sih-egs-free__btn">').concat(SIHLang.egs_free.error.btn,"</button>\n      </div>\n    </div>"));$J(".sih-egs-free .sih-modal__inner").empty().append(r)},lt=function(t,e){var r=$J('<div class="sih-egs-free__games-info column gap-12">\n      <div class="row justify-between">\n        <div class="row gap-8 items-center">\n          <img class="w-24" src="chrome-extension://'.concat(SIHID,'/assets/epicGames/monotone-free.svg" alt="free" />\n          <div class="fs-20">').concat(SIHLang.egs_free.title,'</div>\n        </div>\n        <div class="row gap-12">\n          <img class="w-102" src="chrome-extension://').concat(SIHID,'/assets/common/powered_sih.svg" alt="sih-powered" />\n        </div>\n      </div>\n      <div class="sih-egs-free__games-list row gap-12"></div>\n      <div class="row justify-center mt-5">\n        <div id="sih-egs-free-redirect-link" data-url="').concat(e,'" class="sih-egs-free__btn">\n          ').concat(SIHLang.egs_free.claim_all,"\n        </div>\n      </div>\n    </div>"));t.forEach((function(t){var e=t.productImages.find((function(t){return"OfferImageTall"===t.type}));r.find(".sih-egs-free__games-list").append('<div class="column gap-8">\n        <img class="sih-egs-free__game-img" src="'.concat(e.url,'" alt="').concat(t.productName,'" />\n        <div>').concat(t.productName,'</div>\n        <div class="row gap-4">\n          <span class="line-through text_grey-600">').concat(t.productPrice.fmtPrice.originalPrice,"</span>\n          <span>").concat(SIHLang.egs_free.free_price,"</span>\n        </div>\n      </div>"))})),$J(".sih-egs-free .sih-modal__inner").empty().append(r)},ft=function(){pt(),ht(),dt()},pt=function(){var t=$J(".sih-egs-free");t.on("click",".sih-egs-free__fade, .sih-modal__close, .sih-egs-free__error .sih-egs-free__btn",(function(){t.hide().remove(),$J("body").css("overflow","auto")}))},ht=function(){$J(".sih-egs-free").on("wheel",".sih-egs-free__games-list",(function(t){var e=t.originalEvent,r=1;e.deltaMode===e.DOM_DELTA_LINE?r=parseInt(getComputedStyle(this).lineHeight):e.deltaMode===e.DOM_DELTA_PAGE&&(r=this.clientHeight),0!==e.deltaY&&(this.scrollLeft+=r*e.deltaY,e.preventDefault())}))},dt=function(){$J(".sih-egs-free").on("click","#sih-egs-free-redirect-link",(function(){L.set({group:"sih-menu",target:"Epic Games Free",targetType:"button-all"}),chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_OPEN_TAB_SETTINGS",data:{url:$J(this).attr("data-url")}},(function(){}))}))},vt=function(){var e=t("#egs-free-collector-btn");e.length&&$J(e).click((function(){it()}))};var gt=function(){var e,r,n,o=$J('<li class="egs-free-collector">\n      <img\n        class="egs-free-collector__case"\n        alt=""\n        src="chrome-extension://'.concat(SIHID,'/assets/epicGames/freeGames/header-btn-case.svg"\n      />\n      <button id="egs-free-collector-btn" class="egs-free-collector__get-button">\n        <span class="egs-free-collector__text">').concat(SIHLang.egs_free.header_btn_text,'</span>\n        <span class="egs-free-collector__powered">POWERED BY SIH</span>\n      </button>\n    </li>')),a=t(".global-header__drawer .main-nav ul.main-nav__list");a.length&&(e=a[0],r=".egs-free-collector{display:flex;align-items:center;position:relative}.egs-free-collector__case{width:88px;height:54px;z-index:1}.egs-free-collector__get-button{position:absolute;background:#0d91ec;color:#fff;border:none;border-radius:8px;cursor:pointer;padding:2px 32px 2px 70px;font-family:Roboto;font-weight:600;letter-spacing:0;text-align:center;white-space:nowrap;display:flex;flex-direction:column;align-items:center;left:23px;transition:all .2s ease-in}.egs-free-collector__get-button:hover{opacity:.8}.egs-free-collector__text{font-size:14px;line-height:20px}.egs-free-collector__powered{font-size:12px;line-height:16px;opacity:.5}",(n=document.createElement("style")).textContent=r,e.appendChild(n),$J(a).find(".main-nav__list-filler").before(o))};(function(){var t=at(nt().mark((function t(){var e;return nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r("need_open_egs_free_modal");case 2:e=t.sent,e.need_open_egs_free_modal&&(it(),n("need_open_egs_free_modal",!1));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()(),gt(),vt(),SIH={}})();